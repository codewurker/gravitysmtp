"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[6073,877,1050],{6091:function(e,t,n){n.r(t);var i=n(6796),o=n(9801),r=n(5720),a=n(5210),l=n(9509),c=n.n(l),u=n(9608),s=n.n(u),d=n(7784),v=n(4070),f=n(375),m=n(7343),p=n(5051),g=n(1480),y=n(4237),w=n(2077),O=n(9208),b=n(141);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=d.React.forwardRef,h=d.React.useState,j=d.ReactRouter.useLocation,C=d.ReactRouter.useNavigate,P=D((function(e,t){var n,r,l=e.customAttributes,u=void 0===l?{}:l,E=e.customClasses,D=void 0===E?[]:E,P=e.common,R=void 0===P?{}:P,T=e.data,Z=void 0===T?{}:T,k=e.i18n,I=void 0===k?{}:k,S=C(),x=j(),G=(0,b.default)((function(e){return e.deleteEventDialogOpen})),L=(0,b.default)((function(e){return e.setDeleteEventDialogOpen})),A=(0,b.default)((function(e){return e.deletingEventId})),B=(0,b.default)((function(e){return e.setDeletingEventId})),H=(0,b.default)((function(e){return e.deleteEventLog})),N=h(!1),F=(0,a.Z)(N,2),J=F[0],U=F[1],V=(0,y.Ds)(),M=(null==R||null===(n=R.endpoints)||void 0===n||null===(n=n.delete_email)||void 0===n?void 0:n.action)||"",W=(null==R||null===(r=R.endpoints)||void 0===r||null===(r=r.delete_email)||void 0===r?void 0:r.nonce)||"",q=((null==R?void 0:R.i18n)||{}).snackbar_email_log_delete_error,z=void 0===q?"":q,K=I.confirm_delete_email_heading,Q=void 0===K?"":K,X=I.confirm_delete_email_content,Y=void 0===X?"":X,$=I.confirm_delete_email_delete,ee=void 0===$?"":$,te=I.confirm_delete_email_cancel,ne=void 0===te?"":te,ie=I.debug_messages,oe=void 0===ie?{}:ie,re=oe.deleting_single_activity_log,ae=void 0===re?"":re,le=oe.deleting_single_activity_log_error,ce=void 0===le?"":le,ue=_({className:(0,d.classnames)({"gravitysmtp-delete-email":!0},D)},u),se=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=new URLSearchParams(x.search),i=Z.nav_item_param_key||"tab";if("activity-log"!==n.get(i))if(n.delete("event_id"),n.set(i,"activity-log"),"activity-log"===(null==x||null===(e=x.state)||void 0===e?void 0:e.previous)){if(!t)return void S(-1);window.location.href="".concat(x.pathname,"?").concat(n.toString())}else{if(!t){var o=_(_({},x),{},{search:"?".concat(n.toString())});S(o,{state:{previous:"log-details"}})}window.location.href="".concat(x.pathname,"?").concat(n.toString())}else t&&window.location.reload()},de={onCloseAfterAnimation:function(){B(0),U(!1)},closeOnMaskClick:!1,customWrapperClasses:["gravitysmtp-delete-activity__dialog"],customCloseButtonLabelAttributes:{className:(0,d.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:Y,isOpen:G,maskTheme:"light",maxHeight:"90vh",mode:"modal",padContent:!1,position:"absolute",showCloseButton:!1,theme:"cosmos",title:Q},ve=function(){var e=(0,o.Z)(c().mark((function e(){var t,n,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),t={action:M,security:W,event_id:A},e.next=4,(0,w.Z)((0,f.gB)(ae,JSON.stringify((0,O.Z)(["security"],t))),"info");case 4:return e.prev=4,e.next=7,(0,v.v_)({endpoint:s(),body:t});case 7:null!=(i=e.sent)&&null!==(n=i.data)&&void 0!==n&&n.success?(H(A),V(null==i||null===(o=i.data)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.message)):V(z,"error"),L(!1),se(!0),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(4),V(e.t0,"error"),e.next=18,(0,w.Z)((0,f.gB)(ce,JSON.stringify(e.t0)),"error");case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();return d.React.createElement("div",(0,i.Z)({},ue,{ref:t}),d.React.createElement(g.Z,de,d.React.createElement(p.Z,{container:!0,customClasses:["gravitysmtp-delete-activity__dialog-actions"],justifyContent:"flex-start",columnSpacing:3,spacing:[8,0,0,0],type:"fluid"},d.React.createElement(p.Z,{item:!0,width:6},d.React.createElement(m.Z,{label:ne,onClick:function(){return L(!1)},type:"white",width:"full"})),d.React.createElement(p.Z,{item:!0,width:6},d.React.createElement(m.Z,{active:J,activeType:"loader",label:ee,onClick:ve,width:"full"})))))}));P.propTypes={customAttributes:d.PropTypes.object,customClasses:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.array,d.PropTypes.object]),common:d.PropTypes.object,data:d.PropTypes.object,i18n:d.PropTypes.object},t.default=P},141:function(e,t,n){n.r(t);var i,o,r,a,l=n(5720),c=n(3267),u=n.n(c),s=n(760);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=(null===(i=(0,n(375).iE)(u(),"gravitysmtp_admin_config"))||void 0===i||null===(i=i.components)||void 0===i?void 0:i.activity_log)||{},m={confirmDialogConfirmButtonType:"primary-new",confirmDialogI18n:{},confirmDialogOnCancel:function(){},confirmDialogOnConfirm:function(){},confirmDialogOpen:!1,logDetail:(null==f||null===(o=f.data)||void 0===o?void 0:o.log_detail)||{},dataGridLoading:!1,dataGridRows:(null==f||null===(r=f.data)||void 0===r||null===(r=r.data_grid)||void 0===r?void 0:r.data)||[],dataGridRowCount:parseInt((null==f||null===(a=f.data)||void 0===a?void 0:a.initial_row_count)||0,10),deleteEventDialogOpen:!1,deletingEventId:0,viewEmailDialogOpen:!1,viewEmailEventId:0,viewEmailEventIsHtml:!1,viewEmailEventDate:"",viewEmailEventFromHash:"",viewEmailEventFrom:"",viewEmailEventTo:"",viewEmailEventTitle:""},p=(0,s.Ue)(m,(function(e){return{deleteEventLog:function(t){return e((function(e){return v(v({},e),{},{dataGridRows:e.dataGridRows.filter((function(e){var n;return(null==e||null===(n=e.subject)||void 0===n||null===(n=n.props)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.event_id)!==t}))})}))},setConfirmDialogOpen:function(t){return e((function(){return{confirmDialogOpen:t}}))},setConfirmDialogSettings:function(t){var n=t.confirmDialogConfirmButtonType,i=void 0===n?"primary-new":n,o=t.confirmDialogI18n,r=void 0===o?{}:o,a=t.confirmDialogOpen,l=void 0!==a&&a,c=t.confirmDialogOnCancel,u=void 0===c?function(){}:c,s=t.confirmDialogOnClose,d=void 0===s?function(){}:s,v=t.confirmDialogOnConfirm,f=void 0===v?function(){}:v;e((function(){return{confirmDialogConfirmButtonType:i,confirmDialogI18n:r,confirmDialogOpen:l,confirmDialogOnCancel:u,confirmDialogOnClose:d,confirmDialogOnConfirm:f}}))},setDataGridLoading:function(t){return e({dataGridLoading:t})},setDataGridRows:function(t){return e((function(){return{dataGridRows:t}}))},setDataGridRowCount:function(t){return e({dataGridRowCount:t})},setDeleteEventDialogOpen:function(t){return e({deleteEventDialogOpen:t})},setDeletingEventId:function(t){return e({deletingEventId:t})},setLogDetail:function(t){return e({logDetail:t})},setViewEmailDialogOpen:function(t){return e({viewEmailDialogOpen:t})},setViewEmailEventProperties:function(t){return e({viewEmailEventId:t.id,viewEmailEventIsHtml:t.isHtml,viewEmailEventDate:t.date,viewEmailEventFromHash:t.fromHash,viewEmailEventFrom:t.from,viewEmailEventTo:t.to,viewEmailEventTitle:t.title})}}}));t.default=p},2077:function(e,t,n){n.d(t,{Z:function(){return f}});var i,o=n(9801),r=n(9509),a=n.n(r),l=n(9608),c=n.n(l),u=n(3267),s=n.n(u),d=n(4070),v=(null===(i=(0,n(375).iE)(s(),"gravitysmtp_admin_config"))||void 0===i?void 0:i.common)||{};function f(){return m.apply(this,arguments)}function m(){return m=(0,o.Z)(a().mark((function e(){var t,n,i,o,r,l,u,s,f,m,p=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=p.length>0&&void 0!==p[0]?p[0]:"",o=p.length>1&&void 0!==p[1]?p[1]:"debug",r=v.data,l=void 0===r?{}:r,u=v.endpoints,f=(null==(s=void 0===u?{}:u)||null===(t=s.log_debug_item)||void 0===t?void 0:t.action)||"",m=(null==s||null===(n=s.log_debug_item)||void 0===n?void 0:n.nonce)||"",null!=l&&l.debug_log_enabled&&f&&m&&i){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,(0,d.v_)({endpoint:c(),body:{action:f,security:m,message:i,priority:o}}).catch((function(e){}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}},9208:function(e,t,n){var i=n(6588),o=n(5210);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return function n(r){return Object.entries(r).reduce((function(r,a){var l=(0,o.Z)(a,2),c=l[0],u=l[1];return"object"===(0,i.Z)(u)&&null!==u?r[c]=n(u):e.includes(c)?r[c]=null===u?null:t.repeat(u.length):r[c]=u,r}),Array.isArray(r)?[]:{})}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}}]);