"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[622,3348,3020],{56985:function(e,t,n){n.r(t);var r=n(71860),a=n(88856),i=n(97867),o=n(24316),s=n(30242),c=n(43632),l=n(59092);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p=(0,i.React.forwardRef)((function(e,t){var n=e.customAttributes,p=void 0===n?{}:n,m=e.customClasses,d=void 0===m?[]:m,g=e.common,f=void 0===g?{}:g,v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,i.classnames)({"gravitysmtp-settings-app__header":!0},d)},p),y=f.i18n,_=void 0===y?{}:y,b=_.debug_log_enabled,h=void 0===b?"":b,A=_.test_mode_enabled,O=void 0===A?"":A,P=(0,l.default)((function(e){return e.debugLogEnabled})),E=(0,l.default)((function(e){return e.testModeEnabled}));return i.React.createElement("div",(0,r.A)({},v,{ref:t}),i.React.createElement("div",{className:"gravitysmtp-settings-app__header-logo"},i.React.createElement(o.GravitySMTPLogo,null)),i.React.createElement("div",{className:"gravitysmtp-settings-app__header-main"},i.React.createElement(o.GravitySMTPTextLogo,null),i.React.createElement(s.A,{customClasses:["gravitysmtp-header__status"],setDisplay:!1},P&&i.React.createElement(c.A,{status:"warning",size:"sm",spacing:[0,E?4:0,0,0],label:h,isStatic:!0}),E&&i.React.createElement(c.A,{status:"blue",size:"sm",label:O,isStatic:!0}))))}));p.propTypes={customAttributes:i.PropTypes.object,customClasses:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.array,i.PropTypes.object])},p.displayName="SettingsHeader",t.default=p},77072:function(e,t,n){n.r(t);var r=n(71860),a=n(90455),i=n(8140),o=n(88856),s=n(78564),c=n.n(s),l=n(27122),u=n.n(l),p=n(97867),m=n(60177),d=n(71376),g=n(46716),f=n(30242),v=n(80509),y=n(48959),_=n(84860),b=n(55899),h=n(28099),A=n(83707),O=n(93313),P=n(55809),E=n(59092);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var S=p.React.forwardRef,R=p.React.useEffect,x=p.React.useState,j=p.React.useRef,k=S((function(e,t){var n,s,l,S,k,T,C,D=e.customAttributes,I=void 0===D?{}:D,N=e.customClasses,z=void 0===N?[]:N,L=e.common,M=void 0===L?{}:L,B=e.data,G=void 0===B?{}:B,J=e.i18n,W=void 0===J?{}:J,F=(null==W?void 0:W.integrations)||{},H=F.integration_settings_apply,U=F.integration_settings_cancel,V=F.integration_settings_error,Y=(null==M?void 0:M.i18n)||{},X=Y.debug_messages,K=void 0===X?{}:X,$=K.saving_integration_settings,q=void 0===$?"":$,Q=K.saving_integration_settings_error,Z=void 0===Q?"":Q,ee=Y.snackbar_api_save_success,te=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,p.classnames)({"gravitysmtp-integration-settings":!0},z)},I),ne=(0,E.default)((function(e){return e.activeIntegrationSettings})),re=(0,E.default)((function(e){return e.integrationSettingsFormData})),ae=(0,E.default)((function(e){return e.integrationSettingsDialogOpen})),ie=x(!1),oe=(0,i.A)(ie,2),se=oe[0],ce=oe[1],le=j(null),ue=(0,E.default)((function(e){return e.setIntegrationSettingsDialogOpen})),pe=(0,E.default)((function(e){return e.updateIntegrationStatus})),me=(0,E.default)((function(e){return e.setIntegrationSettingsFormData})),de=function(e,t){return me(ne,e,t)},ge=(0,d.uN)(G,"id",ne),fe=(null==ge||null===(n=ge.settings)||void 0===n?void 0:n.fields)||[],ve=(null==M||null===(s=M.endpoints)||void 0===s||null===(s=s.save_connector_settings)||void 0===s?void 0:s.action)||"",ye=(null==M||null===(l=M.endpoints)||void 0===l||null===(l=l.save_connector_settings)||void 0===l?void 0:l.nonce)||"",_e=(0,_.dh)(),be=(null==ge||null===(S=ge.settings)||void 0===S?void 0:S.hide_save)||!1,he=(null===(k=re[ne])||void 0===k?void 0:k.from_email)||"";R((function(){he||de("force_from_email",!1)}),[he,de]);var Ae=function(){var e=(0,a.A)(c().mark((function e(){var t,n,r,a,i,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=le&&le.current&&(t=le.current.offsetWidth,le.current.style.width="".concat(t,"px")),ce(!0),n={action:ve,security:ye,settings:re[ne],connector_type:ne},e.next=5,(0,A.A)((0,d.nv)(q,ne,JSON.stringify((0,O.A)(["api_key","server_api_token","password","security"],n))),"info");case 5:return e.prev=5,e.next=8,(0,m.bE)({endpoint:u(),body:n});case 8:null!=(a=e.sent)&&null!==(r=a.data)&&void 0!==r&&r.success?(_e(ee),pe(ne,{configured:!0}),(0,g.saveActivationState)(ne,ve,ye,{configured:!0}),setTimeout((function(){ue(!1)}),1e3)):(s=(0,d.Fh)(null==a||null===(i=a.error)||void 0===i||null===(i=i.detail)||void 0===i?void 0:i.data)?JSON.parse(null==a||null===(o=a.error)||void 0===o||null===(o=o.detail)||void 0===o?void 0:o.data):"",_e((null==s?void 0:s.data)||V,"error")),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,(0,A.A)((0,d.nv)(Z,ne,JSON.stringify(e.t0)),"error");case 16:case 17:ce(!1),null!=le&&le.current&&(le.current.style.width="");case 19:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),Oe={closeButtonType:"simplified",customCloseButtonLabelAttributes:{className:(0,p.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},customMaskClasses:["gravitysmtp-integration-settings__mask"],description:null==ge||null===(T=ge.settings)||void 0===T?void 0:T.description,isOpen:ae,maskTheme:"light",maxHeight:"calc(90vh - 80px)",mode:"modal",onClose:function(){if(new URLSearchParams(window.location.search).has("integration")){var e=new URL(window.location.href),t=new URLSearchParams(e.search);t.delete("integration"),e.search=t.toString(),window.history.pushState({path:e.toString()},"",e.toString())}ue(!1)},padContent:!1,position:"absolute",simplebar:!0,theme:"cosmos",title:null==ge||null===(C=ge.settings)||void 0===C?void 0:C.title,titleSize:"md",titleTagName:"h3",version:2},Pe=(0,p.classnames)({"gravitysmtp-integration-settings__save":!0,"gravitysmtp-integration-settings__save--saving":se}),Ee=(0,h.A)(fe,{activeIntegrationSettings:ne,integrationSettingsFormData:re,saveConnectorSettings:Ae,savingSettings:se,Svgs:P,i18n:null==M?void 0:M.i18n,addSnackBarMessage:_e});return p.React.createElement("div",(0,r.A)({},te,{ref:t}),p.React.createElement(y.A,Oe,p.React.createElement("form",{id:ne},p.React.createElement(b.A,{id:ne,fields:Ee,setFieldData:de})),p.React.createElement(f.A,{customClasses:["gravitysmtp-integration-settings__actions"],display:"flex",spacing:[8,0,0,0]},p.React.createElement(v.A,{label:U,onClick:function(){return ue(!1)},size:"size-height-m",type:"white"}),!be&&p.React.createElement(v.A,{active:se,activeType:"loader",customClasses:Pe,icon:"save-disk",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:H,onClick:Ae,ref:le,spacing:[0,0,0,3],size:"size-height-m"}))))}));k.propTypes={customAttributes:p.PropTypes.object,customClasses:p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.array,p.PropTypes.object]),common:p.PropTypes.object,data:p.PropTypes.object,i18n:p.PropTypes.object},k.displayName="IntegrationSettings",t.default=k},52166:function(e,t,n){n.r(t);var r=n(71860),a=n(88856),i=n(97867),o=n(8412);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=i.React.forwardRef,u=i.ReactRouter.useLocation,p=l((function(e,t){var n=e.customAttributes,a=void 0===n?{}:n,s=e.customClasses,l=void 0===s?[]:s,p=e.data,m=void 0===p?{}:p,d=e.disabledNavItems,g=void 0===d?[]:d,f=m.nav_items,v=void 0===f?[]:f,y=u(),_=v.filter((function(e){return!g.includes(e.param)})).map((function(e,t){var n=e.param,r=e.label,a=e.icon,i={item:{customClasses:["gravitysmtp-settings-app__nav-bar-item","gravitysmtp-settings-app__nav-bar-item--".concat(n)],key:"".concat(n,"-").concat(t)},icon:{customClasses:["gravitysmtp-settings-app__nav-bar-item-icon"],icon:a,iconPrefix:"gravitysmtp-admin-icon"},text:{content:r,customClasses:["gravitysmtp-settings-app__nav-bar-item-text"]}};if(g.includes(n))return c(c({},i),{},{item:c(c({},i.item),{},{active:!1,disabled:!0}),button:{customClasses:["gravitysmtp-settings-app__nav-bar-item-button","gravitysmtp-settings-app__nav-bar-item-button--".concat(n)],size:"size-height-m",type:"icon-white",disabled:!0}});var o=new URLSearchParams(y.search),s=m.nav_item_param_key||"tab",l=o.get(s);o.set(s,n);var u=c(c({},y),{},{search:"?".concat(o.toString())});return c(c({},i),{},{item:c(c({},i.item),{},{active:l===n}),link:{customClasses:["gravitysmtp-settings-app__nav-bar-item-link","gravitysmtp-settings-app__nav-bar-item-link--".concat(n)],to:u}})})),b=c({customClasses:(0,i.classnames)(["gravitysmtp-settings-app__nav-bar"],l),items:_,type:"icon-button"},a);return i.React.createElement(o.A,(0,r.A)({},b,{ref:t}))}));p.propTypes={children:i.PropTypes.oneOfType([i.PropTypes.arrayOf(i.PropTypes.node),i.PropTypes.node]),customAttributes:i.PropTypes.object,customClasses:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.array,i.PropTypes.object])},p.displayName="NavBar",t.default=p},12526:function(e,t,n){n.r(t);var r=n(71860),a=n(88856),i=n(97867),o=n(71376),s=n(30242),c=n(5529),l=n(66598),u=n(16265),p=n(13379),m=n(84860),d=n(49572),g=n(27764),f=n(68381);function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=(0,i.React.forwardRef)((function(e,t){var n=e.customAttributes,a=void 0===n?{}:n,y=e.customClasses,_=void 0===y?[]:y,h=e.data,A=void 0===h?{}:h,O=e.i18n,P=void 0===O?{}:O,E=b({className:(0,i.classnames)({"gravitysmtp-settings-app__emails":!0},_)},a),w=A.managed_email_types,S=void 0===w?[]:w,R=(null==P?void 0:P.emails)||{},x=R.top_heading,j=R.top_content,k=R.email_notifications_box_heading,T=(0,m.dh)();return i.React.createElement("div",(0,r.A)({},E,{ref:t}),i.React.createElement(c.A,{size:"display-sm",weight:"semibold",spacing:1,content:x}),i.React.createElement(l.A,{size:"text-sm",spacing:6,color:"comet",content:j}),i.React.createElement(p.A,{HeaderContent:function(e){return i.React.createElement(c.A,(0,r.A)({content:k,size:"text-lg",weight:"medium"},e))}},S.map((function(e,t){return i.React.createElement(s.A,{key:"".concat((0,o.Yv)(e.category),"-").concat(t),x:630},i.React.createElement(c.A,{size:"text-sm",weight:"medium",type:"boxed",spacing:4,content:e.category}),e.items.map((function(n,r){var a=4;return r===e.items.length-1&&(a=t===S.length-1?1:6),i.React.createElement(u.A,{key:"".concat(n.key,"-").concat(r),id:"toggle-".concat(n.key),customAttributes:{"data-test-id":n.key},disabled:!(0,d.A)("CAPS_EDIT_EMAIL_MANAGEMENT_SETTINGS"),initialChecked:n.value,labelAttributes:b({label:n.label},(0,g.A)(n.key)),helpTextAttributes:{content:n.description,spacing:[3,0,0,0]},helpTextWidth:"full",labelPosition:"left",name:n.key,onChange:function(e){(0,f.A)({addSnackbarMessage:T,key:n.key,successCallback:function(){!function(e,t,n){var r,a=v(n);try{for(a.s();!(r=a.n()).done;){var i,o=v(r.value.items);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s.key===e)return s.value=t,n}}catch(e){o.e(e)}finally{o.f()}}}catch(e){a.e(e)}finally{a.f()}}(n.key,e,S)},value:e})},spacing:a,size:"size-m",width:"full"})})))}))))}));h.propTypes={customAttributes:i.PropTypes.object,customClasses:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.array,i.PropTypes.object]),data:i.PropTypes.object,i18n:i.PropTypes.object},h.displayName="EmailsScreen",t.default=h},69586:function(e,t,n){n.r(t);var r=n(90455),a=n(71860),i=n(8140),o=n(88856),s=n(78564),c=n.n(s),l=n(27122),u=n.n(l),p=n(97867),m=n(13296),d=n(60177),g=n(71376),f=n(30242),v=n(80509),y=n(5529),_=n(25787),b=n(87029),h=n(66598),A=n(16265),O=n(82263),P=n(13379),E=n(84860),w=n(27764),S=n(83707),R=n(93313),x=n(59092);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=p.React.forwardRef,C=p.React.useRef,D=p.React.useState,I=p.ReactRouter.useLocation,N=p.ReactRouter.Link,z=T((function(e,t){var n,o,s,l,j=e.customAttributes,T=void 0===j?{}:j,z=e.customClasses,L=void 0===z?[]:z,M=e.common,B=void 0===M?{}:M,G=e.data,J=void 0===G?{}:G,W=e.i18n,F=void 0===W?{}:W,H=k({className:(0,p.classnames)({"gravitysmtp-general-settings":!0},L)},T),U=F||{},V=U.debug_messages,Y=void 0===V?{}:V,X=Y.uninstalling_plugin,K=Y.uninstalling_plugin_error,$=U.settings,q=void 0===$?{}:$,Q=q.top_heading,Z=q.license_box_heading,ee=q.license_box_content,te=q.license_box_input_label,ne=q.license_box_input_help_text,re=q.license_box_button_text,ae=q.license_valid,ie=q.license_invalid,oe=q.test_mode_box_content_1,se=q.test_mode_box_toggle_label,ce=q.general_settings_box_heading,le=q.uninstall_box_heading,ue=q.uninstall_box_content,pe=q.uninstall_box_button_label,me=q.uninstall_dialog_confirm_change_heading,de=q.uninstall_dialog_confirm_change_content,ge=q.uninstall_dialog_confirm_change_confirm,fe=q.error_uninstalling_message,ve=J.license_key,ye=J.license_key_is_valid,_e=J.plugins_url,be=(null==B?void 0:B.i18n)||{},he=be.debug_messages,Ae=void 0===he?{}:he,Oe=Ae.saving_plugin_settings,Pe=void 0===Oe?"":Oe,Ee=Ae.saving_plugin_settings_error,we=void 0===Ee?"":Ee,Se=be.general_settings_usage_analytics_label,Re=void 0===Se?"":Se,xe=be.general_settings_usage_analytics_help_text,je=void 0===xe?"":xe,ke=(null==B?void 0:B.data)||{},Te=ke.usage_analytics_enabled,Ce=ke.usage_analytics_link,De=ke.param_keys,Ie=(null==J?void 0:J.caps)||{},Ne=D("boolean"==typeof ye&&!ye),ze=(0,i.A)(Ne,2),Le=ze[0],Me=ze[1],Be=D(ve),Ge=(0,i.A)(Be,2),Je=Ge[0],We=Ge[1],Fe=D(ye),He=(0,i.A)(Fe,2),Ue=He[0],Ve=He[1],Ye=D(""),Xe=(0,i.A)(Ye,2),Ke=Xe[0],$e=Xe[1],qe=D(!1),Qe=(0,i.A)(qe,2),Ze=Qe[0],et=Qe[1],tt=(0,x.default)((function(e){return e.setConfirmDialogOpen})),nt=(0,x.default)((function(e){return e.setConfirmDialogSettings})),rt=(0,x.default)((function(e){return e.setPageLoaderActive})),at=(0,x.default)((function(e){return e.testModeEnabled})),it=(0,x.default)((function(e){return e.setTestModeEnabled})),ot=C(null),st=(null==B||null===(n=B.endpoints)||void 0===n||null===(n=n.save_plugin_settings)||void 0===n?void 0:n.action)||"",ct=(null==B||null===(o=B.endpoints)||void 0===o||null===(o=o.save_plugin_settings)||void 0===o?void 0:o.nonce)||"",lt=(null==B||null===(s=B.endpoints)||void 0===s||null===(s=s.gravitysmtp_uninstall_plugin)||void 0===s?void 0:s.action)||"",ut=(null==B||null===(l=B.endpoints)||void 0===l||null===(l=l.gravitysmtp_uninstall_plugin)||void 0===l?void 0:l.nonce)||"",pt=(0,p.classnames)({"gravitysmtp-general-settings__license-save":!0,"gravitysmtp-general-settings__license-save--saving":Ze}),mt=(0,E.dh)(),dt=I(),gt=function(){var e=(0,r.A)(c().mark((function e(){var t,n,r,a,i,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ot.current.offsetWidth,n=Je.trim(),Me(!1),$e(t),et(!0),We(n),r={action:st,security:ct,key:De.license_key,value:n},e.next=9,(0,S.A)((0,g.nv)(Pe,JSON.stringify((0,R.A)(["security","value"],r))),"info");case 9:return e.prev=9,e.next=12,(0,d.bE)({endpoint:u(),body:r});case 12:i=e.sent,et(!1),$e(""),null!=i&&null!==(a=i.data)&&void 0!==a&&a.success?(s=(null==i||null===(o=i.data)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.license_is_valid)||!1,Ve(s),!0===s?mt(ae):!1===s&&mt(ie,"error")):(Ve(!1),mt(ie,"error")),e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(9),e.next=23,(0,S.A)((0,g.nv)(we,JSON.stringify(e.t0)),"error");case 23:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(){return e.apply(this,arguments)}}(),ft={customClasses:["gravitysmtp-general-settings__license-input"],controlled:!0,labelAttributes:k({label:te},(0,w.A)(De.license_key)),helpTextAttributes:Ue?{}:{content:ne,size:"text-xs",weight:"regular"},id:"gravitysmtp-general-settings__license-input",name:De.license_key,onChange:We,textSecurity:"disc",value:Je,customAttributes:{readOnly:!Ie.gravitysmtp_edit_license_key,"data-test-id":"settings-license-input"}};!0===Ue?(ft.borderStyle="correct",ft.iconAttributes={iconPrefix:"gravitysmtp-admin-icon",preset:"status-correct"}):!1===Ue&&(ft.borderStyle="error",ft.iconAttributes={iconPrefix:"gravitysmtp-admin-icon",preset:"status-incorrect"});var vt=function(){var e=new URLSearchParams(dt.search),t=J.nav_item_param_key||"tab";e.set(t,"logging");var n=k(k({},dt),{},{search:"?".concat(e.toString())}),r=oe.split("%s");return p.React.createElement(p.React.Fragment,null,r[0],p.React.createElement(N,{className:"gform-link gform-typography--size-text-sm",to:n},r[1]),r[2])},yt=function(){var e=(0,r.A)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return it(t),n={action:st,security:ct,key:De.test_mode,value:t?"true":"false"},e.next=4,(0,S.A)((0,g.nv)(Pe,JSON.stringify((0,R.A)(["security"],n))),"info");case 4:return e.prev=4,e.next=7,(0,d.bE)({endpoint:u(),body:n});case 7:null!=(a=e.sent)&&null!==(r=a.data)&&void 0!==r&&r.success,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(4),e.next=16,(0,S.A)((0,g.nv)(we,JSON.stringify(e.t0)),"error");case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),_t=function(){var e=(0,r.A)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={action:st,security:ct,key:De.usage_analytics,value:t?"true":"false"},e.next=3,(0,S.A)((0,g.nv)(Pe,JSON.stringify((0,R.A)(["security"],n))),"info");case 3:return e.prev=3,e.next=6,(0,d.bE)({endpoint:u(),body:n});case 6:null!=(a=e.sent)&&null!==(r=a.data)&&void 0!==r&&r.success&&(B.data.usage_analytics_enabled=t,(0,g.Ak)({event:"gravitysmtp/setting-updated",native:!1,data:{key:De.usage_analytics,value:t}})),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),e.next=15,(0,S.A)((0,g.nv)(we,JSON.stringify(e.t0)),"error");case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=(0,r.A)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rt(!0),t={action:lt,security:ut},e.next=4,(0,S.A)((0,g.nv)(X,JSON.stringify((0,R.A)(["security"],t))),"info");case 4:return e.prev=4,e.next=7,(0,d.bE)({endpoint:u(),body:t});case 7:null!=(r=e.sent)&&null!==(n=r.data)&&void 0!==n&&n.success?window.location.href=_e:(rt(!1),mt(fe,"error")),e.next=18;break;case 11:return e.prev=11,e.t0=e.catch(4),rt(!1),mt(fe,"error"),e.next=18,(0,S.A)((0,g.nv)(K,JSON.stringify(e.t0)),"error");case 18:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),ht={customAttributes:{"data-test-id":"settings-test-mode-toggle"},initialChecked:at,labelAttributes:k({label:se},(0,w.A)(De.test_mode)),helpTextAttributes:{content:p.React.createElement(vt,null),size:"text-sm"},helpTextWidth:"full",labelPosition:"left",id:"test_mode",name:De.test_mode,onChange:yt,size:"size-m",spacing:6,width:"full",disabled:!Ie.gravitysmtp_edit_test_mode},At={initialChecked:Te,labelAttributes:k({label:Re},(0,w.A)(De.usage_analytics)),helpTextAttributes:{content:p.React.createElement(m.Xx,{openingSymbol:"{{",closingSymbol:"}}",text:je,tokens:[{component:b.A,key:"learn_link",props:{href:Ce,size:"text-sm",target:"_blank"}}]}),size:"text-sm"},helpTextWidth:"full",labelPosition:"left",id:"usage_analytics",name:De.usage_analytics,onChange:_t,size:"size-m",width:"full",disabled:!Ie.gravitysmtp_edit_usage_analytics};return p.React.createElement("div",(0,a.A)({},H,{ref:t}),p.React.createElement(y.A,{size:"display-sm",weight:"semibold",spacing:6,content:Q}),Ie.gravitysmtp_view_license_key&&p.React.createElement(P.A,{HeaderContent:function(e){return p.React.createElement(f.A,{x:630},p.React.createElement(y.A,(0,a.A)({content:Z,tagName:"h2",size:"text-lg",weight:"medium",spacing:2},e)),p.React.createElement(h.A,(0,a.A)({content:ee,size:"text-sm",color:"comet"},e)))},FooterContent:function(e){var t={"data-test-id":"settings-license-info-save"};return Ke&&(t.style={width:"".concat(Ke,"px")}),t.disabled=!Ie.gravitysmtp_edit_license_key,p.React.createElement(v.A,(0,a.A)({active:Ze,activeType:"loader",customAttributes:t,customClasses:pt,icon:"save-disk",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:re,onClick:gt,size:"size-height-m",ref:ot},e))},spacing:6},p.React.createElement(f.A,{customClasses:["gravitysmtp-general-settings__license-input-container"],x:630},p.React.createElement(_.A,ft),Le&&p.React.createElement(O.A,{customIconPrefix:"gravitysmtp-admin-icon",spacing:[3,0,0,0],type:"error"},ie))),(Ie.gravitysmtp_view_test_mode||Ie.gravitysmtp_view_usage_analytics)&&p.React.createElement(P.A,{HeaderContent:function(e){return p.React.createElement(f.A,{x:630},p.React.createElement(y.A,(0,a.A)({content:ce,tagName:"h2",size:"text-lg",weight:"medium"},e)))},spacing:6},p.React.createElement(f.A,{customClasses:["gravitysmtp-general-settings__license-input-container"],x:630},Ie.gravitysmtp_view_test_mode&&p.React.createElement(A.A,ht),Ie.gravitysmtp_view_usage_analytics&&p.React.createElement(A.A,At))),Ie.gravitysmtp_view_uninstall&&p.React.createElement(P.A,{HeaderContent:function(e){return p.React.createElement(f.A,{x:630},p.React.createElement(y.A,(0,a.A)({content:le,tagName:"h2",size:"text-lg",weight:"medium"},e)))}},p.React.createElement(f.A,{customClasses:["gravitysmtp-general-settings__license-input-container"],x:630},p.React.createElement(h.A,{content:ue,size:"text-sm",color:"comet",spacing:6}),p.React.createElement(v.A,{disabled:!Ie.gravitysmtp_edit_uninstall,icon:"trash",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:pe,onClick:(0,r.A)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nt({confirmDialogConfirmButtonType:"amaranth-red",confirmDialogI18n:{confirm_change_confirm:ge,confirm_change_content:de,confirm_change_heading:me},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return tt(!1)},confirmDialogOnClose:function(){return tt(!1)},confirmDialogOnConfirm:function(){var e=(0,r.A)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tt(!1),e.next=3,bt();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),size:"size-height-m",type:"amaranth-red"}))))}));z.propTypes={customAttributes:p.PropTypes.object,customClasses:p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.array,p.PropTypes.object]),data:p.PropTypes.object,i18n:p.PropTypes.object},z.displayName="SettingsScreen",t.default=z},5152:function(e,t,n){n.r(t);var r=n(88856),a=n(8140),i=n(97867),o=n(62825),s=n(84860),c=n(56985),l=n(52166),u=n(12526),p=n(69586),m=n(46716),d=n(9456),g=n(77072),f=n(3258),v=n(19535),y=n(90266),_=n(36770),b=n(59092);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=i.React.useEffect,P=i.ReactRouter.BrowserRouter,E=i.ReactRouter.Routes,w=i.ReactRouter.Route,S=i.ReactRouter.useSearchParams,R=["alerts","routing"],x={settings:[(0,y.A)("CAPS_VIEW_LICENSE_KEY"),(0,y.A)("CAPS_VIEW_TEST_MODE"),(0,y.A)("CAPS_VIEW_USAGE_ANALYTICS")],integrations:[(0,y.A)("CAPS_VIEW_INTEGRATIONS")],logging:[(0,y.A)("CAPS_VIEW_EMAIL_LOG_SETTINGS")],emails:[(0,y.A)("CAPS_VIEW_EMAIL_MANAGEMENT_SETTINGS")]},j=function(e){return i.React.createElement(c.default,e)},k=function(e){return i.React.createElement(l.default,e)},T=function(e){var t=S(),n=(0,a.A)(t,2),r=n[0],o=(n[1],e.data.nav_items),s=(void 0===o?[]:o).filter((function(e){return!R.includes(e.param)}))[0]||"",c=r.get(e.data.nav_item_param_key||"tab")||s.param,l=r.get("integration"),g=(0,b.default)((function(e){return e.setActiveIntegrationSettings})),f=(0,b.default)((function(e){return e.setIntegrationSettingsDialogOpen}));switch("integrations"===c&&l&&(g(l),f(!0)),c){case"settings":return i.React.createElement(p.default,e);case"integrations":return i.React.createElement(m.default,e);case"emails":return i.React.createElement(u.default,e);case"logging":return i.React.createElement(d.default,e);default:return null}};t.default=function(e){var t=e.data,n=e.i18n,r=e.common,c=t.route_path.replace(window.location.origin,""),l=(null==t?void 0:t.caps)||{};Object.entries(x).forEach((function(e){var t=(0,a.A)(e,2),n=t[0];t[1].some((function(e){return l[e]}))||R.push(n)})),(0,_.A)("wp_email_management")||R.includes("emails")||R.push("emails");var u=(0,b.default)((function(e){return e.pageLoaderActive})),p=(0,b.default)((function(e){return e.setPageLoaderActive})),m={confirmButtonType:(0,b.default)((function(e){return e.confirmDialogConfirmButtonType})),customAttributes:(0,b.default)((function(e){return e.confirmDialogCustomAttributes})),i18n:A(A({},(null==r?void 0:r.i18n)||{}),(0,b.default)((function(e){return e.confirmDialogI18n}))),isOpen:(0,b.default)((function(e){return e.confirmDialogOpen})),onCancel:(0,b.default)((function(e){return e.confirmDialogOnCancel})),onClose:(0,b.default)((function(e){return e.confirmDialogOnClose})),onConfirm:(0,b.default)((function(e){return e.confirmDialogOnConfirm}))},d=function(e){p(e.detail)};return O((function(){return document.addEventListener("gravitysmtp/page_loader/active",d),function(){return document.removeEventListener("gravitysmtp/page_loader/active",d)}}),[]),i.React.createElement(P,null,i.React.createElement(s.n,{defaultSettings:{errorIconAttributes:{icon:"exclamation-simple",iconPrefix:"gravitysmtp-admin-icon"},successIconAttributes:{icon:"correct",iconPrefix:"gravitysmtp-admin-icon"}}},i.React.createElement("div",{className:"gravitysmtp-app__wrapper"},i.React.createElement(o.A,{customClasses:["gravitysmtp-settings-app"],Header:j,PrimarySideBarChildren:k,common:r,data:t,i18n:n,disabledNavItems:R},i.React.createElement("div",{className:"gravitysmtp-settings-app__content"},i.React.createElement(E,null,i.React.createElement(w,{path:c,element:i.React.createElement(T,{common:r,data:t,i18n:n,disabledNavItems:R})})))),i.React.createElement(g.default,{data:t,common:r,i18n:n}),i.React.createElement(f.A,m),i.React.createElement(v.A,{loading:u}))))}},24316:function(e,t,n){n.r(t),n.d(t,{GravitySMTPLogo:function(){return r.A},GravitySMTPTextLogo:function(){return a.A}});var r=n(52320),a=n(70531)},28099:function(e,t,n){var r=n(90455),a=n(88856),i=n(78564),o=n.n(i),s=n(97867),c=n(63662),l=n(12094),u=n(87029),p=n(25787),m=n(71376),d=n(13296),g=n(27764);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e,t){return e.map((function(e){var n,r;if(null==e||null===(n=e.props)||void 0===n||!n.name)return e;var a="".concat(t,"_").concat(e.props.name),i=(null==e||null===(r=e.props)||void 0===r?void 0:r.labelAttributes)||{};return v(v({},e),{},{props:v(v({},e.props),{},{labelAttributes:v(v({},i),(0,g.A)(a))})})}))},_=function(e,t){var n=t.integrationSettingsFormData[t.activeIntegrationSettings],r=null==n?void 0:n.from_email;return e.map((function(e){var t;if("force_from_email"!==(null==e||null===(t=e.props)||void 0===t?void 0:t.name))return e;var a=v(v({},e),{},{props:v(v({},e.props),{},{externalControl:!0,externalChecked:null==n?void 0:n.force_from_email})});return r||(a.props.disabled=!0),a}))},b=function(e,t){var n=t.integrationSettingsFormData[t.activeIntegrationSettings],a=e.map((function(e){if(!["BrandedButton","BrandedLink","CopyInput","LinkedHelpTextInput"].includes(e.component)||!e.external)return e;var a,i=t.i18n.snackbar_url_copied,g=void 0===i?"":i,f=t.Svgs[e.props.Svg],y=null,_={};switch(e.component){case"BrandedButton":y=c.A,_=v(v({},e.props),{},{disabled:!(null!=n&&n.client_id&&null!=n&&n.client_secret)||t.savingSettings,onClick:(a=(0,r.A)(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,t.saveConnectorSettings();case 3:window.location.href="".concat(n.oauth_url,"?client_id=").concat(n.client_id).concat(n.oauth_params);case 4:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),Svg:s.React.createElement(f,null)});break;case"BrandedLink":y=l.A,_=v(v({},e.props),{},{href:"wizard"===t.context?e.wizardHref:e.props.href,Svg:s.React.createElement(f,null)});break;case"CopyInput":y=p.A,_=v(v({},e.props),{},{actionButtonAttributes:v(v({},e.props.actionButtonAttributes),{},{onClick:function(e,n){t.addSnackBarMessage(g),(0,m.Ns)(n)}})});break;case"LinkedHelpTextInput":y=p.A,_=v(v({},e.props),{},{helpTextAttributes:v(v({},e.props.helpTextAttributes),{},{content:s.React.createElement(d.Xx,{openingSymbol:"{{",closingSymbol:"}}",text:e.props.helpTextAttributes.content,tokens:e.links.map((function(e){return{component:u.A,key:e.key,props:e.props}}))})})})}return v(v({},e),{},{component:y,props:_})}));return a},h=function(e,t){var n=t.integrationSettingsFormData[t.activeIntegrationSettings];return e.map((function(e){var t;if("Input"!==e.component||!["username","password"].includes(null==e||null===(t=e.props)||void 0===t?void 0:t.name))return e;var r=v(v({},e.props),{},{disabled:!n.auth});return v(v({},e),{},{props:r})}))};t.A=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e),n=y(t,e.activeIntegrationSettings);if(!["microsoft","google","generic","amazon"].includes(e.activeIntegrationSettings))return n;var r=n;return["microsoft","google","amazon"].includes(e.activeIntegrationSettings)?r=b(n,e):"generic"===e.activeIntegrationSettings&&(r=h(n,e)),r}}}]);