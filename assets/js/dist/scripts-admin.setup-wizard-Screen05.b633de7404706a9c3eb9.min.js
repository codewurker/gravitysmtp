"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[4832,4854,8898],{528:function(t,e,n){n.r(e);var r=n(90455),i=n(88856),a=n(8140),u=n(78564),o=n.n(u),c=n(27122),s=n.n(c),l=n(97867),d=n(8173),p=n(60177),f=n(71376),v=n(30242),g=n(80509),m=n(5529),_=n(66598),A=n(83707),b=n(93313),y=n(18698),w=n(57290),S=l.React.useEffect,h=l.React.useRef,z=l.React.useState;e.default=function(t){var e=t.common,n=t.data,u=t.i18n,c=u.setup_wizard_back_button,k=u.setup_wizard_dashboard_button,x=u.setup_wizard_setup_skipped_title,O=u.setup_wizard_setup_skipped_copy,P=u.setup_wizard_setup_success_title,E=u.setup_wizard_setup_success_copy,F=u.setup_wizard_setup_failed_title,N=u.setup_wizard_setup_failed_copy,R=u.setup_wizard_activate_integration_button,D=n.integrations,L=e.endpoints,j=(void 0===L?{}:L).save_connector_settings,B=void 0===j?{}:j,C=B.action,M=void 0===C?"":C,I=B.nonce,G=void 0===I?"":I,J=e.i18n,T=(void 0===J?{}:J).debug_messages,U=void 0===T?{}:T,H=U.saving_integration_settings,W=void 0===H?"":H,Z=U.saving_integration_settings_error,q=void 0===Z?"":Z,K=(0,w.default)((function(t){return t.activeStep})),Q=(0,w.default)((function(t){return t.isAnimatedIn})),V=(0,w.default)((function(t){return t.integrationSetupAction})),X=(0,w.default)((function(t){return t.setupStatus})),Y=(0,w.default)((function(t){return t.integration})),$=(0,w.default)((function(t){return t.closeDialog})),tt=(0,w.default)((function(t){return t.setActiveStep})),et=(0,w.default)((function(t){return t.setActiveNavBarStep})),nt=(0,w.default)((function(t){return t.setSettingsUpdated})),rt=(0,w.default)((function(t){return t.setHasDebugError})),it=z(!1),at=(0,a.A)(it,2),ut=at[0],ot=at[1],ct="failed"===X?y.MailFailedBg:y.MailSuccessBg,st="",lt="",dt="primary-new";switch(X){case"skipped":st=x,lt=O;break;case"success":st=P,lt=E,dt="white";break;case"failed":st=F,lt=N}var pt=h();S((function(){5===K&&pt.current&&pt.current.focus()}),[K]);var ft={ref:(0,d.rM)(5===K&&Q),className:(0,l.classnames)((0,i.A)({"gravitysmtp-setup-wizard__screen":!0},"gravitysmtp-setup-wizard__screen--step-".concat(5),!0)),"aria-hidden":5!==K,"data-test-id":"setup-wizard-screen-05"},vt=D.reduce((function(t,e){return t||e.id!==Y?t:e.title}),""),gt=(0,f.nv)(R,vt),mt=D.filter((function(t){return!(t.data&&t.data.disabled)})).map((function(t){return t.id})),_t=function(){var t=(0,r.A)(o().mark((function t(e){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={action:M,security:G,connector_type:e,no_validate:!0,settings:{is_primary:!1}},t.next=3,(0,A.A)((0,f.nv)(W,e,JSON.stringify((0,b.A)(["security"],n))),"info");case 3:t.prev=3,(0,p.bE)({endpoint:s(),body:n}),t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(3),t.next=12,(0,A.A)((0,f.nv)(q,e,JSON.stringify(t.t0)),"error");case 12:case"end":return t.stop()}}),t,null,[[3,7]])})));return function(e){return t.apply(this,arguments)}}(),At=function(){var t=(0,r.A)(o().mark((function t(){var e,n,r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=mt.filter((function(t){return t!==Y})).map(_t),t.next=3,Promise.all(e);case 3:return n={action:M,security:G,connector_type:Y,settings:{enabled:!0,is_primary:!0}},t.next=6,(0,A.A)((0,f.nv)(W,Y,JSON.stringify((0,b.A)(["security"],n))),"info");case 6:return t.prev=6,t.next=9,(0,p.bE)({endpoint:s(),body:n});case 9:if(null!=(i=t.sent)&&null!==(r=i.data)&&void 0!==r&&r.success){t.next=17;break}return t.next=14,(0,A.A)((0,f.nv)(q,Y,JSON.stringify(null==i?void 0:i.error)),"error");case 14:rt(!0),t.next=18;break;case 17:nt();case 18:t.next=26;break;case 20:return t.prev=20,t.t0=t.catch(6),t.next=25,(0,A.A)((0,f.nv)(q,Y,JSON.stringify(t.t0)),"error");case 25:rt(!0);case 26:case"end":return t.stop()}}),t,null,[[6,20]])})));return function(){return t.apply(this,arguments)}}();return l.React.createElement("div",ft,l.React.createElement("div",{className:"gravitysmtp-setup-wizard__screen-inner"},l.React.createElement(l.SimpleBar,{scrollableNodeProps:{ref:pt}},l.React.createElement("div",{className:"gravitysmtp-setup-wizard__content"},l.React.createElement(v.A,{customClasses:["gravitysmtp-setup-wizard__screen-nav-buttons"],display:"flex",spacing:10},l.React.createElement(g.A,{customAttributes:{"data-test-id":"setup-wizard-screen-05-back-button"},customClasses:["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--back"],icon:"arrow-narrow-left",iconPrefix:"gravitysmtp-admin-icon",label:c,size:"size-height-xl",type:"icon-white",onClick:function(){var t="skip"===V?3:4;tt(t),et(t)}}),l.React.createElement(g.A,{customAttributes:{"data-test-id":"setup-wizard-screen-05-skip-button"},customClasses:["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--skip"],icon:"arrow-narrow-right",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"trailing",label:k,size:"size-height-xl",type:dt,onClick:function(){return $()}}),"success"===X&&l.React.createElement(g.A,{customAttributes:{"data-test-id":"setup-wizard-screen-05-next-button"},active:ut,activeType:"loader",customClasses:["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--next"],label:gt,lockSize:!0,size:"size-height-xl",type:"primary-new",onClick:(0,r.A)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ot(!0),t.next=3,At();case 3:(0,f.Ak)({event:"gravitysmtp/page_loader/active",native:!1,data:!0}),$();case 5:case"end":return t.stop()}}),t)})))})),l.React.createElement(v.A,{customClasses:["gravitysmtp-setup-wizard__content-header"],spacing:4},l.React.createElement(m.A,{content:st,spacing:4,size:"display-sm",tagName:"h2",weight:"medium"}),l.React.createElement(_.A,{content:lt})),l.React.createElement(v.A,{customClasses:["gravitysmtp-setup-wizard__content-body"]},l.React.createElement(ct,null))))))}},18698:function(t,e,n){n.r(e),n.d(e,{AmazonAWSFullLogo:function(){return r.A},BrevoFullLogo:function(){return i.A},CustomSMTPFullLogo:function(){return a.A},GoogleAltLogo:function(){return u.A},GoogleFullLogo:function(){return o.A},GravityFormsStackedLogo:function(){return c.A},GravitySMTPFullLogo:function(){return s.A},MailFailedBg:function(){return l.A},MailSuccessBg:function(){return p.A},MailchimpFullLogo:function(){return b.A},MailgunFullLogo:function(){return d.A},MicrosoftAltLogo:function(){return f.A},MicrosoftFullLogo:function(){return v.A},PHPFullLogo:function(){return g.A},PostmarkFullLogo:function(){return m.A},SendGridFullLogo:function(){return _.A},WPMailSMTPFullLogo:function(){return A.A},ZohoAltLogo:function(){return y.A},ZohoFullLogo:function(){return w.A}});var r=n(61294),i=n(93015),a=n(59417),u=n(63660),o=n(57438),c=n(79124),s=n(10997),l=n(91570),d=n(67652),p=n(89564),f=n(40783),v=n(51511),g=n(69703),m=n(10162),_=n(45279),A=n(33653),b=n(41921),y=n(64158),w=n(65911)},57290:function(t,e,n){n.r(e);var r,i,a,u,o,c=n(88856),s=n(97867),l=n(8173),d=n(71376),p=n(40450),f=n.n(p);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){(0,c.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m,_,A=(null===(r=(0,d.zj)(f(),"gravitysmtp_admin_config"))||void 0===r||null===(r=r.components)||void 0===r?void 0:r.setup_wizard)||{},b=(null===(a=((null==A||null===(i=A.data)||void 0===i?void 0:i.import_data)||[]).filter((function(t){return t.activated&&t.initialChecked}))[0])||void 0===a?void 0:a.id)||"",y="",w=g(g({hasDebugError:!1,isAnimatedIn:!1,integrationSetupAction:"skip",setupStatus:"skipped",settingsUpdated:!1,shouldRedirect:(null==A||null===(u=A.data)||void 0===u?void 0:u.should_display)||!1,integrationSettingsFormData:(_={},null==A||null===(m=A.data)||void 0===m||null===(m=m.integrations)||void 0===m||m.forEach((function(t){var e;_[t.id]=(null==t?void 0:t.data)||{},null!==(e=_[t.id])&&void 0!==e&&e.enabled&&(y=t.id)})),_)},(null===(o=(0,d.zj)(f(),"gravitysmtp_admin_config"))||void 0===o||null===(o=o.components)||void 0===o||null===(o=o.setup_wizard)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.defaults)||{}),{},{integration:y,importPlugin:b}),S=(0,l.vt)(w,(function(t){return{closeDialog:function(){return t((function(){return{isOpen:!1}}))},openDialog:function(){return t((function(){return{isOpen:!0}}))},setActiveStepNext:function(){return t((function(t){return{activeStep:t.activeStep+1}}))},setActiveStepPrevious:function(){return t((function(t){return{activeStep:t.activeStep-1}}))},setActiveStep:function(e){return t((function(){return{activeStep:e}}))},setActiveNavBarStepNext:function(){return t((function(t){return{activeNavBarStep:t.activeNavBarStep+1}}))},setActiveNavBarStepPrevious:function(){return t((function(t){return{activeNavBarStep:t.activeNavBarStep-1}}))},setActiveNavBarStep:function(e){return t((function(){return{activeNavBarStep:e}}))},setHasDebugError:function(e){return t((function(){return{hasDebugError:e}}))},setImportPlugin:function(e){return t((function(){return{importPlugin:e}}))},setIntegration:function(e){return t((function(){return{integration:e}}))},setIsAnimatedIn:function(e){return t((function(){return{isAnimatedIn:e}}))},setIntegrationSetupAction:function(e){return t((function(){return{integrationSetupAction:e}}))},setSetupStatus:function(e){return t((function(){return{setupStatus:e}}))},setSettingsUpdated:function(){return t((function(){return{settingsUpdated:!0}}))},setShouldRedirect:function(e){return t((function(){return{shouldRedirect:e}}))},setInnerDialogOpen:function(e){return t((function(){return{innerDialogOpen:e}}))},setIntegrationSettingsFormData:function(e,n,r){return t((0,s.immer)((function(t){t.integrationSettingsFormData[e]||(t.integrationSettingsFormData[e]={}),t.integrationSettingsFormData[e][n]=r})))}}}));e.default=S},83707:function(t,e,n){n.d(e,{A:function(){return f}});var r,i=n(90455),a=n(78564),u=n.n(a),o=n(27122),c=n.n(o),s=n(40450),l=n.n(s),d=n(60177),p=(null===(r=(0,n(71376).zj)(l(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{};function f(){return v.apply(this,arguments)}function v(){return v=(0,i.A)(u().mark((function t(){var e,n,r,i,a,o,s,l,f,v,g=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=g.length>0&&void 0!==g[0]?g[0]:"",i=g.length>1&&void 0!==g[1]?g[1]:"debug",a=p.data,o=void 0===a?{}:a,s=p.endpoints,f=(null==(l=void 0===s?{}:s)||null===(e=l.log_debug_item)||void 0===e?void 0:e.action)||"",v=(null==l||null===(n=l.log_debug_item)||void 0===n?void 0:n.nonce)||"",null!=o&&o.debug_log_enabled&&f&&v&&r){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,(0,d.bE)({endpoint:c(),body:{action:f,security:v,message:r,priority:i}}).catch((function(t){}));case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}},93313:function(t,e,n){var r=n(52888),i=n(8140);e.A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*",n=function(a){return Object.entries(a).reduce((function(a,u){var o=(0,i.A)(u,2),c=o[0],s=o[1];return"object"===(0,r.A)(s)&&null!==s?a[c]=n(s):t.includes(c)?a[c]=null===s?null:e.repeat(s.length):a[c]=s,a}),Array.isArray(a)?[]:{})};return n(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}}]);