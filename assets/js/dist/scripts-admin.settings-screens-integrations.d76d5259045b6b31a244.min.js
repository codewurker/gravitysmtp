"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[9349,2302,4587],{3085:function(t,n,e){e.r(n),e.d(n,{AmazonAWSLogo:function(){return i.Z},BrevoLogo:function(){return o.Z},CustomSMTPLogo:function(){return r.Z},GoogleLogo:function(){return a.Z},GravitySMTPLogo:function(){return c.Z},GravitySMTPTextLogo:function(){return u.Z},MailgunLogo:function(){return s.Z},MandrillLogo:function(){return l.Z},MicrosoftLogo:function(){return d.Z},PHPLogo:function(){return g.Z},PostmarkLogo:function(){return f.Z},SMTP2GOLogo:function(){return p.Z},SendGridLogo:function(){return m.Z},SlackLogo:function(){return v.Z},SparkPostLogo:function(){return y.Z},TelegramLogo:function(){return _.Z},TwilioLogo:function(){return b.Z},WhatsAppLogo:function(){return h.Z},ZohoLogo:function(){return Z.Z}});var i=e(7778),o=e(25),r=e(5331),a=e(8930),c=e(324),u=e(515),s=e(9131),l=e(8755),d=e(8567),g=e(7179),f=e(5824),m=e(2576),v=e(2618),p=e(5386),y=e(731),_=e(8104),b=e(8166),h=e(5151),Z=e(9286)},8777:function(t,n,e){e.r(n),e.d(n,{saveActivationState:function(){return N}});var i,o=e(6796),r=e(9801),a=e(5210),c=e(5720),u=e(9509),s=e.n(u),l=e(9608),d=e.n(l),g=e(3267),f=e.n(g),m=e(7784),v=e(583),p=e(4070),y=e(3085),_=e(9805),b=e(7343),h=e(5051),Z=e(6192),O=e(6901),D=e(7024),w=e(7066),E=e(8887),S=e(1547),C=e(4475),I=e(4518),R=e(2077),P=e(9208),T=e(7866);function L(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function k(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?L(Object(e),!0).forEach((function(n){(0,c.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):L(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var A=(null===(i=(0,v.iE)(f(),"gravitysmtp_admin_config"))||void 0===i?void 0:i.common)||{},x=m.React.forwardRef,z=m.React.memo,j=m.React.useCallback,M=m.React.useEffect,B=m.React.useMemo,F=m.React.useState,G=z((function(t){var n=t.actionItems,e=void 0===n?[]:n,i=t.i18n,o=t.id,r=(0,T.default)((function(t){return t.updateIntegrationSettings}));return m.React.createElement(S.Z,{align:"right",listItems:e.map((function(t){return"button"===t.element&&"edit"===t.key&&(t.customAttributes=t.customAttributes||{},t.customAttributes.onClick=function(){r(o,!0)}),function(t){return t.hasDivider?{content:m.React.createElement(S.c,t),hasDivider:!0}:m.React.createElement(S.c,t)}(t)})),triggerAttributes:{ariaText:i.card_more_settings,iconPrefix:"gravitysmtp-admin-icon",icon:"dots-horizontal",size:"size-height-s",type:"simplified"},type:"action",width:192})})),N=function(t,n,e,i){var o=i.activated,r=i.configured,a=i.enabled,c=A.i18n,u=(void 0===c?{}:c).debug_messages,s=void 0===u?{}:u,l=s.saving_integration_settings,g=void 0===l?"":l,f=s.saving_integration_settings_error,m=void 0===f?"":f,y={action:n,security:e,connector_type:t,settings:k(k(k({},void 0!==o&&{activated:o}),void 0!==r&&{configured:r}),void 0!==a&&{enabled:a})};return(0,R.Z)((0,v.gB)(g,t,JSON.stringify((0,P.Z)(["security"],y))),"info"),(0,p.v_)({endpoint:d(),body:y}).then((function(t){return t})).catch((function(n){throw(0,R.Z)((0,v.gB)(m,t,JSON.stringify(n)),"error"),n}))},J=z((function(t){var n,e,i,o,c,u=t.common,l=t.data,d=t.i18n,g=t.actionItems,f=t.caps,v=(0,T.default)((function(t){return t.updateIntegrationSettings})),p=(0,T.default)((function(t){return t.activeIntegration})),O=(0,T.default)((function(t){return t.activatingIntegration})),E=(0,T.default)((function(t){return t.setActivatingIntegration})),S=(0,T.default)((function(t){return t.setChangeIntegrationDialogOpen})),R=(0,T.default)((function(t){return t.setIntegrationSettingsFormData})),P=(0,T.default)((function(t){return t.setActiveIntegration})),L=(0,T.default)((function(t){return t.updateIntegrationStatus})),k=F(!1),A=(0,a.Z)(k,2),x=A[0],z=A[1],J=F(!1),V=(0,a.Z)(J,2),W=V[0],H=V[1],U=(null==l||null===(n=l.data)||void 0===n?void 0:n.activated)||!1,X=(null==l||null===(e=l.data)||void 0===e?void 0:e.enabled)||!1,$=(null==l||null===(i=l.data)||void 0===i?void 0:i.configured)||!1,q=p===l.id||O===l.id,K=(null==u||null===(o=u.endpoints)||void 0===o||null===(o=o.save_connector_settings)||void 0===o?void 0:o.action)||"",Q=(null==u||null===(c=u.endpoints)||void 0===c||null===(c=c.save_connector_settings)||void 0===c?void 0:c.nonce)||"";M((function(){x&&q&&!X?L(l.id,{enabled:!0}):x&&!q&&X&&(N(l.id,K,Q,{enabled:!1}),L(l.id,{enabled:!1})),x||z(!0)}),[q]);var Y=B((function(){return m.React.createElement(Z.Z,{customClasses:["gform-card__top-container-heading"],tagName:"h3",content:l.title,size:"text-md",weight:"medium"})}),[l.title]),tt=B((function(){return m.React.createElement(D.Z,{customClasses:["gform-card__top-container-description"],color:"comet",size:"text-sm"},l.description)}),[l.description]),nt=B((function(){return y["".concat(l.logo,"Logo")]}),[l.logo]),et=m.React.createElement(nt,null),it=j((function(){v(l.id,!0)}),[v,l.id]),ot=j((function(){H(!0),setTimeout((function(){N(l.id,K,Q,{activated:!0,enabled:!0}),L(l.id,{activated:!0,enabled:!0}),H(!1),p&&(S(!0),E(l.id))}),1e3)}),[]),rt=[et],at=[];if(U){var ct=d.integrations,ut=ct.card_toggle,st=ct.card_connected,lt=ct.card_configured,dt=ct.card_not_configured,gt=ct.card_settings,ft=function(){var t=(0,r.Z)(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p!==l.id||n?p&&p!==l.id&&n?(S(!0),E(l.id)):(N(l.id,K,Q,{enabled:n}),R(l.id,"enabled",!0),L(l.id,{enabled:n}),P(l.id)):(N(l.id,K,Q,{enabled:n}),R(l.id,"enabled",!1),L(l.id,{enabled:n}),P(""));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),mt=m.React.createElement(w.Z,{externalChecked:X,externalControl:!0,labelAttributes:{label:ut,isVisible:!1},onChange:ft,disabled:!f.gravitysmtp_edit_integrations}),vt=m.React.createElement(h.Z,{container:!0,elementType:"div"},m.React.createElement(h.Z,{item:!0,elementType:"div"},m.React.createElement(D.Z,{size:"text-xs",spacing:[0,2,0,0],weight:"medium"},$?X?st:lt:dt)),m.React.createElement(h.Z,{item:!0,elementType:"div"},m.React.createElement(I.Z,{type:$?X?"success":"warning":"error"})));at.push(vt,mt);var pt=m.React.createElement(b.Z,{customClasses:["gform-card__top-container-settings-button"],icon:"cog",iconPrefix:"gravitysmtp-admin-icon",label:gt,onClick:it,size:"size-height-s",type:"icon-white",disabled:!f.gravitysmtp_edit_integrations}),yt=m.React.createElement(_.Z,{customClasses:["gform-card__top-container-buttons"]},pt,m.React.createElement(G,{actionItems:g,i18n:d,id:l.id}));rt.push(yt)}else{var _t=d.integrations,bt=_t.card_activate,ht=_t.card_learn_more,Zt=m.React.createElement(b.Z,{active:W,activeText:bt,activeType:"loader",label:bt,onClick:ot,size:"size-height-s",type:"white",width:"full"});at.push(Zt);var Ot=m.React.createElement(b.Z,{disabled:!0,label:ht,size:"size-height-s",type:"white"});rt.push(Ot)}return m.React.createElement(C.Z,{customClasses:["gravitysmtp-settings-app__integration-card"],title:Y,description:tt,headerContent:rt,footerContent:at,disabled:l.data.disabled})})),V=x((function(t,n){var e=t.customAttributes,i=void 0===e?{}:e,r=t.customClasses,a=void 0===r?[]:r,c=t.common,u=void 0===c?{}:c,s=t.data,l=void 0===s?{}:s,d=t.i18n,g=void 0===d?{}:d,f=(0,T.default)((function(t){return t.integrations})),p=k({className:(0,m.classnames)({"gravitysmtp-settings-app__integrations":!0},a)},i),y=(null==g?void 0:g.integrations)||{},w=y.top_heading,S=y.top_content,C=y.suggestion_link_text,I=(y.lower_heading,y.lower_content,y.launch_setup_wizard),R=(null==l?void 0:l.integrations_actions)||[],P=((null==u?void 0:u.i18n)||{}).test_mode_warning_notice,L=(null==l?void 0:l.caps)||{},A=(0,T.default)((function(t){return t.testMode}));return m.React.createElement("div",(0,o.Z)({},p,{ref:n}),m.React.createElement(Z.Z,{size:"display-sm",weight:"semibold",spacing:1,content:w}),m.React.createElement(D.Z,{size:"text-sm",color:"comet",spacing:6},S,m.React.createElement(O.Z,{spacing:[0,0,0,1],target:"_blank",href:"https://roadmap.smtp.gravity.com/",content:C})),m.React.createElement(_.Z,{spacing:6},m.React.createElement(b.Z,{icon:"wand",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:I,onClick:function(){(0,v.X$)({event:"gravitysmtp/setup_wizard/open",native:!1})},size:"size-height-m",spacing:[0,3,0,0],type:"white",disabled:!L.gravitysmtp_launch_setup_wizard})),A&&m.React.createElement(E.Z,{customIconPrefix:"gravitysmtp-admin-icon",spacing:[6,0,6,0],type:"notice"},P),!!f.length&&L.gravitysmtp_view_integrations&&m.React.createElement(_.Z,{spacing:6},m.React.createElement(h.Z,{container:!0,wrap:!0,customClasses:["gravitysmtp-settings-app__integration-card-grid"],justifyContent:"flex-start",columnSpacing:5,rowSpacing:6},f.map((function(t){var n;return null!=t&&null!==(n=t.data)&&void 0!==n&&n.disabled?null:m.React.createElement(h.Z,{item:!0,key:"integrations-".concat((0,v.lV)(t.title)),customClasses:["gravitysmtp-settings-app__integration-card-grid-item"]},m.React.createElement(J,{common:u,data:t,i18n:g,actionItems:R,caps:L}))})))))}));V.propTypes={customAttributes:m.PropTypes.object,customClasses:m.PropTypes.oneOfType([m.PropTypes.string,m.PropTypes.array,m.PropTypes.object]),data:m.PropTypes.object,i18n:m.PropTypes.object},V.displayName="IntegrationsScreen",n.default=V},7866:function(t,n,e){e.r(n);var i,o,r,a,c,u,s,l=e(3267),d=e.n(l),g=e(7784),f=e(760),m=e(583),v=(null===(i=(0,m.iE)(d(),"gravitysmtp_admin_config"))||void 0===i||null===(i=i.components)||void 0===i?void 0:i.settings)||{},p={activeIntegration:(s=null==v||null===(u=v.data)||void 0===u||null===(u=u.integrations)||void 0===u?void 0:u.find((function(t){var n;return null==t||null===(n=t.data)||void 0===n?void 0:n.enabled})),(null==s?void 0:s.id)||""),activeIntegrationSettings:"",activatingIntegration:"",changeIntegrationDialogOpen:!1,confirmDialogI18n:{},confirmDialogOnCancel:function(){},confirmDialogOnConfirm:function(){},confirmDialogOpen:!1,confirmDialogConfirmButtonType:"primary-new",integrations:(null==v||null===(o=v.data)||void 0===o?void 0:o.integrations)||[],integrationSettingsDialogOpen:!1,integrationSettingsFormData:(c={},null==v||null===(a=v.data)||void 0===a||null===(a=a.integrations)||void 0===a||a.forEach((function(t){c[t.id]=(null==t?void 0:t.data)||{}})),c),pageLoaderActive:!1,testMode:(null===(r=(0,m.iE)(d(),"gravitysmtp_admin_config"))||void 0===r||null===(r=r.common)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.test_mode)||!1},y=(0,f.Ue)(p,(function(t){return{setActiveIntegration:function(n){return t((function(){return{activeIntegration:n}}))},setActiveIntegrationSettings:function(n){return t((function(){return{activeIntegrationSettings:n}}))},setActivatingIntegration:function(n){return t((function(){return{activatingIntegration:n}}))},setChangeIntegrationDialogOpen:function(n){return t((function(){return{changeIntegrationDialogOpen:n}}))},setConfirmDialogOpen:function(n){return t((function(){return{confirmDialogOpen:n}}))},setConfirmDialogSettings:function(n){var e=n.confirmDialogI18n,i=void 0===e?{}:e,o=n.confirmDialogOpen,r=void 0!==o&&o,a=n.confirmDialogOnCancel,c=void 0===a?function(){}:a,u=n.confirmDialogOnConfirm,s=void 0===u?function(){}:u,l=n.confirmDialogConfirmButtonType,d=void 0===l?"primary-new":l;t((function(){return{confirmDialogConfirmButtonType:d,confirmDialogI18n:i,confirmDialogOpen:r,confirmDialogOnCancel:c,confirmDialogOnConfirm:s}}))},setIntegrationSettingsDialogOpen:function(n){return t((function(){return{integrationSettingsDialogOpen:n}}))},setPageLoaderActive:function(n){return t((function(){return{pageLoaderActive:n}}))},setIntegrationSettingsFormData:function(n,e,i){return t((0,g.immer)((function(t){t.integrationSettingsFormData[n]||(t.integrationSettingsFormData[n]={}),t.integrationSettingsFormData[n][e]=i})))},setTestMode:function(n){return t((function(){return{testMode:n}}))},updateIntegrationSettings:function(n,e){return t((function(){return{activeIntegrationSettings:n,integrationSettingsDialogOpen:e}}))},updateIntegrationStatus:function(n,e){var i=e.activated,o=e.configured,r=e.enabled;return t((0,g.immer)((function(t){var e=t.integrations.find((function(t){return t.id===n}));e&&(e.data||(e.data={}),void 0!==i&&(e.data.activated=i),void 0!==o&&(e.data.configured=o),void 0!==r&&(e.data.enabled=r))})))}}}));n.default=y},2077:function(t,n,e){e.d(n,{Z:function(){return f}});var i,o=e(9801),r=e(9509),a=e.n(r),c=e(9608),u=e.n(c),s=e(3267),l=e.n(s),d=e(4070),g=(null===(i=(0,e(583).iE)(l(),"gravitysmtp_admin_config"))||void 0===i?void 0:i.common)||{};function f(){return m.apply(this,arguments)}function m(){return m=(0,o.Z)(a().mark((function t(){var n,e,i,o,r,c,s,l,f,m,v=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>0&&void 0!==v[0]?v[0]:"",o=v.length>1&&void 0!==v[1]?v[1]:"debug",r=g.data,c=void 0===r?{}:r,s=g.endpoints,f=(null==(l=void 0===s?{}:s)||null===(n=l.log_debug_item)||void 0===n?void 0:n.action)||"",m=(null==l||null===(e=l.log_debug_item)||void 0===e?void 0:e.nonce)||"",null!=c&&c.debug_log_enabled&&f&&m&&i){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,(0,d.v_)({endpoint:u(),body:{action:f,security:m,message:i,priority:o}}).catch((function(t){}));case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}},9208:function(t,n,e){var i=e(6588),o=e(5210);n.Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return function e(r){return Object.entries(r).reduce((function(r,a){var c=(0,o.Z)(a,2),u=c[0],s=c[1];return"object"===(0,i.Z)(s)&&null!==s?r[u]=e(s):t.includes(u)?r[u]=null===s?null:n.repeat(s.length):r[u]=s,r}),Array.isArray(r)?[]:{})}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}}]);