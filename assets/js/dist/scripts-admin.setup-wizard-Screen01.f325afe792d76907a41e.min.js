"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[7910,4832,4854],{19708:function(e,t,n){n.r(t);var r=n(90455),i=n(88856),a=n(8140),u=n(78564),c=n.n(u),o=n(27122),s=n.n(o),l=n(97867),d=n(13296),p=n(60177),v=n(30242),f=n(80509),g=n(5529),_=n(25787),m=n(66598),y=n(84860),b=n(18698),A=n(57290),h=n(71376),w=n(87029),S=n(16265),k=n(83707),x=n(93313),O=n(27764);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=l.React.useEffect,N=l.React.useRef,R=l.React.useState;t.default=function(e){var t,n,u,o,z=e.common,j=e.data,D=e.endpoints,F=e.i18n,C=(0,A.default)((function(e){return e.activeStep})),L=(0,A.default)((function(e){return e.isAnimatedIn})),J=(0,A.default)((function(e){return e.isOpen})),B=(0,A.default)((function(e){return e.setActiveStep})),M=(0,A.default)((function(e){return e.setActiveNavBarStepNext})),I=(0,A.default)((function(e){return e.setShouldRedirect})),T=(0,A.default)((function(e){return e.setHasDebugError})),G=F.debug_messages,H=void 0===G?{}:G,U=H.checking_license_key,W=H.checking_license_key_error,q=H.saving_should_display_error,K=H.saving_license_key_error,V=H.updating_usage_analytics_error,X=H.saving_license_key,Q=H.setting_should_display_false,Y=H.starting_subsequent_run,Z=H.updating_usage_analytics,$=F.setup_wizard_welcome_title,ee=F.setup_wizard_welcome_copy,te=(F.setup_wizard_welcome_list_01,F.setup_wizard_welcome_list_02,F.setup_wizard_welcome_list_03,F.setup_wizard_welcome_list_04,F.setup_wizard_get_started),ne=F.setup_wizard_verify_license,re=F.setup_wizard_checking_license,ie=F.setup_wizard_license_input_label,ae=F.setup_wizard_license_input_placeholder,ue=j.license_key_is_valid,ce=j.should_display,oe=(null==z?void 0:z.i18n)||{},se=oe.general_settings_usage_analytics_label,le=oe.general_settings_usage_analytics_help_text,de=(null==z?void 0:z.data)||{},pe=de.param_keys,ve=de.usage_analytics_enabled,fe=de.usage_analytics_link,ge=(0,y.dh)(),_e=ce&&ue&&(null==j?void 0:j.license_key)||"",me=R(!1),ye=(0,a.A)(me,2),be=ye[0],Ae=ye[1],he=R(_e),we=(0,a.A)(he,2),Se=we[0],ke=we[1],xe=R(!1),Oe=(0,a.A)(xe,2),ze=Oe[0],Ee=Oe[1],Pe=(0,d.uH)(ve),Ne=(0,a.A)(Pe,2),Re=Ne[0],je=Ne[1],De=(null==D||null===(t=D.save_plugin_settings)||void 0===t?void 0:t.action)||"",Fe=(null==D||null===(n=D.save_plugin_settings)||void 0===n?void 0:n.nonce)||"",Ce=(null==D||null===(u=D.check_license)||void 0===u?void 0:u.action)||"",Le=(null==D||null===(o=D.check_license)||void 0===o?void 0:o.nonce)||"",Je=N();P((function(){1===C&&Je.current&&Je.current.focus()}),[C]),P((function(){var e=function(e){var t;(null===(t=e.detail)||void 0===t?void 0:t.key)===pe.usage_analytics&&je(e.detail.value)};return document.addEventListener("gravitysmtp/setting-updated",e),function(){document.removeEventListener("gravitysmtp/setting-updated",e)}})),P((function(){J&&1===C&&!ce&&(0,k.A)((0,h.nv)(Y,JSON.stringify({licenseKeyIsValid:ue,nextStep:2,activeStep:C,currentStep:1})),"info")}),[J]);var Be={ref:(0,d.rM)(1===C&&L),className:(0,l.classnames)((0,i.A)({"gravitysmtp-setup-wizard__screen":!0},"gravitysmtp-setup-wizard__screen--step-".concat(1),!0)),"aria-hidden":1!==C,"data-test-id":"setup-wizard-screen-01"},Me=function(){var e=(0,r.A)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n={action:De,security:Fe,key:"setup_wizard_should_display",value:!1},e.next=6,(0,k.A)((0,h.nv)(Q,JSON.stringify((0,x.A)(["security"],n))),"info");case 6:return e.next=8,(0,p.bE)({endpoint:s(),body:n});case 8:if(null!=(r=e.sent)&&null!==(t=r.data)&&void 0!==t&&t.success){e.next=14;break}return e.next=13,(0,k.A)((0,h.nv)(q,JSON.stringify(null==r?void 0:r.error)),"error");case 13:T(!0);case 14:e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(2),e.next=21,(0,k.A)((0,h.nv)(q,JSON.stringify(e.t0)),"error");case 21:T(!0);case 22:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,r.A)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={action:De,security:Fe,key:"license_key",value:Se.trim()},e.next=4,(0,k.A)((0,h.nv)(X,JSON.stringify((0,x.A)(["security","license_key"],n))),"info");case 4:return e.next=6,(0,p.bE)({endpoint:s(),body:n});case 6:if(null!=(r=e.sent)&&null!==(t=r.data)&&void 0!==t&&t.success){e.next=12;break}return e.next=11,(0,k.A)((0,h.nv)(K,JSON.stringify(null==r?void 0:r.error)),"error");case 11:T(!0);case 12:e.next=20;break;case 14:return e.prev=14,e.t0=e.catch(0),e.next=19,(0,k.A)((0,h.nv)(K,JSON.stringify(e.t0)),"error");case 19:T(!0);case 20:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=(0,r.A)(c().mark((function e(t){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={action:De,security:Fe,key:pe.usage_analytics,value:t?"true":"false"},e.next=4,(0,k.A)((0,h.nv)(Z,JSON.stringify((0,x.A)(["security"],r))),"info");case 4:return e.next=6,(0,p.bE)({endpoint:s(),body:r});case 6:if(null!=(i=e.sent)&&null!==(n=i.data)&&void 0!==n&&n.success){e.next=14;break}return e.next=11,(0,k.A)((0,h.nv)(V,JSON.stringify(null==i?void 0:i.error)),"error");case 11:T(!0),e.next=16;break;case 14:z.data.usage_analytics_enabled=t,je(t);case 16:e.next=24;break;case 18:return e.prev=18,e.t0=e.catch(0),e.next=23,(0,k.A)((0,h.nv)(V,JSON.stringify(e.t0)),"error");case 23:T(!0);case 24:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}(),Ge={initialChecked:ve,externalChecked:Re,externalControl:!0,labelAttributes:E({label:se},(0,O.A)(pe.usage_analytics)),helpTextAttributes:{content:l.React.createElement(d.Xx,{closingSymbol:"}}",openingSymbol:"{{",text:le,tokens:[{component:w.A,key:"learn_link",props:{href:fe,size:"text-xs",target:"_blank"}}]})},helpTextWidth:"full",labelPosition:"left",id:"usage_analytics_wizard",name:pe.usage_analytics,onChange:Te,size:"size-m",width:"full"},He=function(){var e=(0,r.A)(c().mark((function e(){var t,n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={action:Ce,security:Le,license_key:Se.trim()},e.next=4,(0,k.A)((0,h.nv)(U,JSON.stringify((0,x.A)(["security","license_key"],n))),"info");case 4:return e.next=6,(0,p.bE)({endpoint:s(),body:n});case 6:if(r=e.sent,Ae(!1),null!=r&&null!==(t=r.data)&&void 0!==t&&t.success){e.next=16;break}return i=(0,h.Fh)(r.error.detail.data)?JSON.parse(r.error.detail.data):"",e.next=12,(0,k.A)((0,h.nv)(W,JSON.stringify(null==r?void 0:r.error)),"error");case 12:T(!0),ge(i.data,"error"),e.next=20;break;case 16:Ee(!0),Me().then((function(){Ie()})),I(!1),setTimeout((function(){B(2),M(),setTimeout((function(){Ee(!1)}),300)}),1e3);case 20:e.next=28;break;case 22:return e.prev=22,e.t0=e.catch(0),e.next=27,(0,k.A)((0,h.nv)(W,JSON.stringify(e.t0)),"error");case 27:T(!0);case 28:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}();return l.React.createElement("div",Be,l.React.createElement("div",{className:"gravitysmtp-setup-wizard__screen-inner"},l.React.createElement(l.SimpleBar,{scrollableNodeProps:{ref:Je}},l.React.createElement("div",{className:"gravitysmtp-setup-wizard__content"},l.React.createElement(v.A,{customClasses:["gravitysmtp-setup-wizard__inner-content"],x:368},l.React.createElement(d._A,{delay:200,transitionDuration:800},l.React.createElement(v.A,{customClasses:["gravitysmtp-setup-wizard__logo-container"],spacing:12},l.React.createElement(b.GravitySMTPFullLogo,null)),l.React.createElement(v.A,{customClasses:["gravitysmtp-setup-wizard__heading-container"]},l.React.createElement(g.A,{content:$,size:"display-lg",spacing:6,tagName:"h2",weight:"semibold"})),l.React.createElement(v.A,{customClasses:["gravitysmtp-setup-wizard__body-container"]},l.React.createElement(m.A,{content:ee,spacing:8})),l.React.createElement(v.A,{customClasses:["gravitysmtp-setup-wizard__footer-container"],spacing:8},ue?l.React.createElement(f.A,{customClasses:["gravitysmtp-setup-wizard__get-started-button"],customAttributes:{"data-test-id":"setup-wizard-screen-01-license-verified-button"},size:"size-height-xl",icon:"check-circle",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",label:te,type:"primary-new",width:"full",onClick:function(){ce&&Me().then((function(){Ie()})),I(!1),B(2),M()}}):l.React.createElement(l.React.Fragment,null,l.React.createElement(_.A,{customAttributes:{disabled:be,"data-test-id":"setup-wizard-screen-01-license-input"},customClasses:["gravitysmtp-setup-wizard__license-input"],id:"gravitysmtp-setup-wizard__license-input",labelAttributes:{label:ie},onChange:ke,placeholder:ae,size:"size-xl",spacing:5,textSecurity:"disc",value:Se}),l.React.createElement(f.A,{customClasses:["gravitysmtp-setup-wizard__get-started-button"],customAttributes:{"data-test-id":"setup-wizard-screen-01-verify-license-button"},size:"size-height-xl",icon:"check-circle",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",label:ne,active:be,activeType:"loader",disabled:be||ze,activeText:re,type:ze?"apple-green":"primary-new",width:"full",onClick:(0,r.A)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ae(!0),e.next=3,He();case 3:case"end":return e.stop()}}),e)})))}))),l.React.createElement(v.A,null,l.React.createElement(S.A,Ge))))))))}},18698:function(e,t,n){n.r(t),n.d(t,{AmazonAWSFullLogo:function(){return r.A},BrevoFullLogo:function(){return i.A},CustomSMTPFullLogo:function(){return a.A},GoogleAltLogo:function(){return u.A},GoogleFullLogo:function(){return c.A},GravityFormsStackedLogo:function(){return o.A},GravitySMTPFullLogo:function(){return s.A},MailFailedBg:function(){return l.A},MailSuccessBg:function(){return p.A},MailgunFullLogo:function(){return d.A},MicrosoftAltLogo:function(){return v.A},MicrosoftFullLogo:function(){return f.A},PHPFullLogo:function(){return g.A},PostmarkFullLogo:function(){return _.A},SendGridFullLogo:function(){return m.A},WPMailSMTPFullLogo:function(){return y.A}});var r=n(61294),i=n(93015),a=n(59417),u=n(63660),c=n(57438),o=n(79124),s=n(10997),l=n(91570),d=n(67652),p=n(89564),v=n(40783),f=n(51511),g=n(69703),_=n(10162),m=n(45279),y=n(33653)},57290:function(e,t,n){n.r(t);var r,i,a,u,c,o=n(88856),s=n(97867),l=n(13296),d=n(71376),p=n(40450),v=n.n(p);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _,m,y=(null===(r=(0,d.zj)(v(),"gravitysmtp_admin_config"))||void 0===r||null===(r=r.components)||void 0===r?void 0:r.setup_wizard)||{},b=(null===(a=((null==y||null===(i=y.data)||void 0===i?void 0:i.import_data)||[]).filter((function(e){return e.activated&&e.initialChecked}))[0])||void 0===a?void 0:a.id)||"",A="",h=g(g({hasDebugError:!1,isAnimatedIn:!1,integrationSetupAction:"skip",setupStatus:"skipped",settingsUpdated:!1,shouldRedirect:(null==y||null===(u=y.data)||void 0===u?void 0:u.should_display)||!1,integrationSettingsFormData:(m={},null==y||null===(_=y.data)||void 0===_||null===(_=_.integrations)||void 0===_||_.forEach((function(e){var t;m[e.id]=(null==e?void 0:e.data)||{},null!==(t=m[e.id])&&void 0!==t&&t.enabled&&(A=e.id)})),m)},(null===(c=(0,d.zj)(v(),"gravitysmtp_admin_config"))||void 0===c||null===(c=c.components)||void 0===c||null===(c=c.setup_wizard)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.defaults)||{}),{},{integration:A,importPlugin:b}),w=(0,l.vt)(h,(function(e){return{closeDialog:function(){return e((function(){return{isOpen:!1}}))},openDialog:function(){return e((function(){return{isOpen:!0}}))},setActiveStepNext:function(){return e((function(e){return{activeStep:e.activeStep+1}}))},setActiveStepPrevious:function(){return e((function(e){return{activeStep:e.activeStep-1}}))},setActiveStep:function(t){return e((function(){return{activeStep:t}}))},setActiveNavBarStepNext:function(){return e((function(e){return{activeNavBarStep:e.activeNavBarStep+1}}))},setActiveNavBarStepPrevious:function(){return e((function(e){return{activeNavBarStep:e.activeNavBarStep-1}}))},setActiveNavBarStep:function(t){return e((function(){return{activeNavBarStep:t}}))},setHasDebugError:function(t){return e((function(){return{hasDebugError:t}}))},setImportPlugin:function(t){return e((function(){return{importPlugin:t}}))},setIntegration:function(t){return e((function(){return{integration:t}}))},setIsAnimatedIn:function(t){return e((function(){return{isAnimatedIn:t}}))},setIntegrationSetupAction:function(t){return e((function(){return{integrationSetupAction:t}}))},setSetupStatus:function(t){return e((function(){return{setupStatus:t}}))},setSettingsUpdated:function(){return e((function(){return{settingsUpdated:!0}}))},setShouldRedirect:function(t){return e((function(){return{shouldRedirect:t}}))},setInnerDialogOpen:function(t){return e((function(){return{innerDialogOpen:t}}))},setIntegrationSettingsFormData:function(t,n,r){return e((0,s.immer)((function(e){e.integrationSettingsFormData[t]||(e.integrationSettingsFormData[t]={}),e.integrationSettingsFormData[t][n]=r})))}}}));t.default=w},83707:function(e,t,n){n.d(t,{A:function(){return v}});var r,i=n(90455),a=n(78564),u=n.n(a),c=n(27122),o=n.n(c),s=n(40450),l=n.n(s),d=n(60177),p=(null===(r=(0,n(71376).zj)(l(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{};function v(){return f.apply(this,arguments)}function f(){return f=(0,i.A)(u().mark((function e(){var t,n,r,i,a,c,s,l,v,f,g=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g.length>0&&void 0!==g[0]?g[0]:"",i=g.length>1&&void 0!==g[1]?g[1]:"debug",a=p.data,c=void 0===a?{}:a,s=p.endpoints,v=(null==(l=void 0===s?{}:s)||null===(t=l.log_debug_item)||void 0===t?void 0:t.action)||"",f=(null==l||null===(n=l.log_debug_item)||void 0===n?void 0:n.nonce)||"",null!=c&&c.debug_log_enabled&&v&&f&&r){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,(0,d.bE)({endpoint:o(),body:{action:v,security:f,message:r,priority:i}}).catch((function(e){}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}},93313:function(e,t,n){var r=n(52888),i=n(8140);t.A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return function n(a){return Object.entries(a).reduce((function(a,u){var c=(0,i.A)(u,2),o=c[0],s=c[1];return"object"===(0,r.A)(s)&&null!==s?a[o]=n(s):e.includes(o)?a[o]=null===s?null:t.repeat(s.length):a[o]=s,a}),Array.isArray(a)?[]:{})}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}},27764:function(e,t,n){var r,i=n(40450),a=n.n(i),u=(null===(r=(0,n(71376).zj)(a(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{};t.A=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{iconPrefix:"gravitysmtp-admin-icon",locked:(null==u||null===(e=u.data)||void 0===e||null===(e=e.locked_settings)||void 0===e?void 0:e.includes(n))||r,lockedMessage:i||(null==u||null===(t=u.i18n)||void 0===t?void 0:t.setting_locked)||""}}}}]);