"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[5830,1967,6018,9529],{8114:function(t,e,n){n.r(e);var r=n(5720),i=n(9801),o=n(5210),a=n(9509),u=n.n(a),c=n(9608),s=n.n(c),l=n(7784),p=n(760),d=n(375),f=n(4070),v=n(9805),g=n(6192),m=n(7024),b=n(8957),y=n(4237),_=n(7003),S=n(2077),w=n(9208),h=n(5212),O=n(5806),Z=n(1047),k=l.React.useEffect,P=l.React.useRef,x=l.React.useState,B=["google","microsoft"];e.default=function(t){var e,n,a,c=t.common,j=t.data,A=t.endpoints,C=t.i18n,z=c.i18n,D=(void 0===z?{}:z).debug_messages,E=void 0===D?{}:D,N=E.saving_integration_settings,R=void 0===N?"":N,F=E.saving_integration_settings_error,I=void 0===F?"":F,L=C.setup_wizard_next_button,M=void 0===L?"":L,T=C.setup_wizard_mail_settings_title,H=void 0===T?"":T,G=C.setup_wizard_mail_settings_copy,U=void 0===G?"":G,J=C.setup_wizard_integration_settings_error,W=void 0===J?"":J,q=j.integrations,K=(0,Z.default)((function(t){return t.activeStep})),Q=(0,Z.default)((function(t){return t.isAnimatedIn})),V=(0,Z.default)((function(t){return t.integration})),X=(0,Z.default)((function(t){return t.integrationSettingsFormData})),Y=(0,Z.default)((function(t){return t.setActiveStepNext})),$=(0,Z.default)((function(t){return t.setActiveNavBarStepNext})),tt=(0,Z.default)((function(t){return t.setSetupStatus})),et=(0,Z.default)((function(t){return t.setIntegrationSettingsFormData})),nt=(0,Z.default)((function(t){return t.setSettingsUpdated})),rt=(0,Z.default)((function(t){return t.setHasDebugError})),it=P(null),ot=x(!1),at=(0,o.Z)(ot,2),ut=at[0],ct=at[1],st=(0,d.Bl)(q,"id",V),lt=(null==st||null===(e=st.settings)||void 0===e?void 0:e.fields)||[],pt=(null==A||null===(n=A.save_connector_settings)||void 0===n?void 0:n.action)||"",dt=(null==A||null===(a=A.save_connector_settings)||void 0===a?void 0:a.nonce)||"",ft=(0,y.Ds)(),vt=function(){var t=(0,i.Z)(u().mark((function t(){var e,n,r,i,o,a,c;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ct(!0),e=it.current.offsetWidth,it.current.style.width="".concat(e,"px"),n={action:pt,security:dt,connector_type:V,settings:X[V]},t.next=6,(0,S.Z)((0,d.gB)(R,V,JSON.stringify((0,w.Z)(["api_key","server_api_token","password","security"],n))),"info");case 6:return t.prev=6,t.next=9,(0,f.v_)({endpoint:s(),body:n});case 9:if(i=t.sent,ct(!1),null!=i&&null!==(r=i.data)&&void 0!==r&&r.success){t.next=19;break}return c=(0,d.sO)(null==i||null===(o=i.error)||void 0===o||null===(o=o.detail)||void 0===o?void 0:o.data)?JSON.parse(null==i||null===(a=i.error)||void 0===a||null===(a=a.detail)||void 0===a?void 0:a.data):"",t.next=15,(0,S.Z)((0,d.gB)(I,V,JSON.stringify(c)),"error");case 15:rt(!0),ft((null==c?void 0:c.data)||W,"error"),t.next=22;break;case 19:tt("success"),B.includes(V)||(Y(),$()),nt();case 22:t.next=30;break;case 24:return t.prev=24,t.t0=t.catch(6),t.next=29,(0,S.Z)((0,d.gB)(I,V,JSON.stringify(t.t0)),"error");case 29:rt(!0);case 30:it.current&&(it.current.style.width="");case 31:case"end":return t.stop()}}),t,null,[[6,24]])})));return function(){return t.apply(this,arguments)}}(),gt=P();k((function(){4===K&&gt.current&&gt.current.focus()}),[K]);var mt={ref:(0,p.P5)(4===K&&Q),className:(0,l.classnames)((0,r.Z)({"gravitysmtp-setup-wizard__screen":!0},"gravitysmtp-setup-wizard__screen--step-".concat(4),!0)),"aria-hidden":4!==K},bt=(0,_.Z)(lt,{activeIntegrationSettings:V,context:"wizard",integrationSettingsFormData:X,saveConnectorSettings:vt,savingSettings:ut,Svgs:h,i18n:null==c?void 0:c.i18n,addSnackBarMessage:ft});return l.React.createElement("div",mt,l.React.createElement("div",{className:"gravitysmtp-setup-wizard__screen-inner"},l.React.createElement(l.SimpleBar,{scrollableNodeProps:{ref:gt}},l.React.createElement("div",{className:"gravitysmtp-setup-wizard__content"},l.React.createElement(v.Z,{customClasses:["gravitysmtp-setup-wizard__content-header"],spacing:6},l.React.createElement(g.Z,{content:H,spacing:8,size:"display-sm",tagName:"h2",weight:"medium"}),l.React.createElement(m.Z,{content:(0,d.gB)(U,null==st?void 0:st.title),spacing:6,size:"text-lg",weight:"medium"}),l.React.createElement("form",{id:V},l.React.createElement(b.Z,{id:V,fields:bt,setFieldData:function(t,e){return et(V,t,e)}}))),l.React.createElement(O.default,{i18n:C,skipButtonCustomAttributes:{onClick:function(){tt("skipped"),Y(),$()}},nextButtonCustomAttributes:{onClick:vt,active:ut,activeType:"loader",activeText:M,disabled:ut||B.includes(V),icon:ut?"":"arrow-narrow-right",lockSize:!0,ref:it}})))))}},5806:function(t,e,n){n.r(e);var r=n(107),i=n(5720),o=n(5689),a=n(7784),u=n(9805),c=n(7343),s=n(1047),l=["customClasses"],p=["customClasses"],d=["customClasses"],f=["customClasses"];function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m=(0,a.React.forwardRef)((function(t,e){var n=t.backButtonCustomAttributes,i=void 0===n?{}:n,v=t.nextButtonCustomAttributes,m=void 0===v?{}:v,b=t.i18n,y=t.showBackButton,_=void 0===y||y,S=t.showSkipButton,w=void 0===S||S,h=t.showNextButton,O=void 0===h||h,Z=t.skipButtonCustomAttributes,k=void 0===Z?{}:Z,P=t.wrapperCustomAttributes,x=void 0===P?{}:P,B=b.setup_wizard_back_button,j=b.setup_wizard_skip_button,A=b.setup_wizard_next_button,C=(0,s.default)((function(t){return t.setActiveStepNext})),z=(0,s.default)((function(t){return t.setActiveStepPrevious})),D=(0,s.default)((function(t){return t.setActiveNavBarStepNext})),E=(0,s.default)((function(t){return t.setActiveNavBarStepPrevious})),N=x.customClasses,R=(0,o.Z)(x,l),F=g({customClasses:a.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-buttons"]].concat((0,r.Z)(N||[]))),display:"flex",spacing:[6,0,0],ref:e},R),I=i.customClasses,L=(0,o.Z)(i,p),M=g({customClasses:a.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--back"]].concat((0,r.Z)(I||[]))),icon:"arrow-narrow-left",iconPrefix:"gravitysmtp-admin-icon",label:B,size:"size-height-xl",type:"icon-white",onClick:function(){z(),E()}},L),T=k.customClasses,H=(0,o.Z)(k,d),G=g({customClasses:a.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--skip"]].concat((0,r.Z)(T||[]))),icon:"arrow-narrow-right",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"trailing",label:j,size:"size-height-xl",type:"white",onClick:function(){C(),D()}},H),U=m.customClasses,J=(0,o.Z)(m,f),W=g({customClasses:a.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--next"]].concat((0,r.Z)(U||[]))),icon:"arrow-narrow-right",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"trailing",label:A,size:"size-height-xl",onClick:function(){C(),D()}},J);return a.React.createElement(u.Z,F,_&&a.React.createElement(c.Z,M),w&&a.React.createElement(c.Z,G),O&&a.React.createElement(c.Z,W))}));e.default=m},5212:function(t,e,n){n.r(e),n.d(e,{BrevoFullLogo:function(){return r.Z},CustomSMTPFullLogo:function(){return i.Z},GoogleAltLogo:function(){return o.Z},GoogleFullLogo:function(){return a.Z},GravityFormsStackedLogo:function(){return u.Z},GravitySMTPFullLogo:function(){return c.Z},MailFailedBg:function(){return s.Z},MailSuccessBg:function(){return p.Z},MailgunFullLogo:function(){return l.Z},MicrosoftAltLogo:function(){return d.Z},MicrosoftFullLogo:function(){return f.Z},PHPFullLogo:function(){return v.Z},PostmarkFullLogo:function(){return g.Z},SendGridFullLogo:function(){return m.Z},WPMailSMTPFullLogo:function(){return b.Z}});var r=n(1345),i=n(1219),o=n(4270),a=n(4077),u=n(3811),c=n(2635),s=n(9228),l=n(1285),p=n(1917),d=n(962),f=n(7571),v=n(6516),g=n(3989),m=n(1215),b=n(7478)},1047:function(t,e,n){n.r(e);var r,i,o,a,u,c=n(5720),s=n(7784),l=n(760),p=n(375),d=n(3267),f=n.n(d);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m,b,y=(null===(r=(0,p.iE)(f(),"gravitysmtp_admin_config"))||void 0===r||null===(r=r.components)||void 0===r?void 0:r.setup_wizard)||{},_=(null===(o=((null==y||null===(i=y.data)||void 0===i?void 0:i.import_data)||[]).filter((function(t){return t.activated&&t.initialChecked}))[0])||void 0===o?void 0:o.id)||"",S="",w=g(g({hasDebugError:!1,isAnimatedIn:!1,integrationSetupAction:"skip",setupStatus:"skipped",settingsUpdated:!1,shouldRedirect:(null==y||null===(a=y.data)||void 0===a?void 0:a.should_display)||!1,integrationSettingsFormData:(b={},null==y||null===(m=y.data)||void 0===m||null===(m=m.integrations)||void 0===m||m.forEach((function(t){var e;b[t.id]=(null==t?void 0:t.data)||{},null!==(e=b[t.id])&&void 0!==e&&e.enabled&&(S=t.id)})),b)},(null===(u=(0,p.iE)(f(),"gravitysmtp_admin_config"))||void 0===u||null===(u=u.components)||void 0===u||null===(u=u.setup_wizard)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.defaults)||{}),{},{integration:S,importPlugin:_}),h=(0,l.Ue)(w,(function(t){return{closeDialog:function(){return t((function(){return{isOpen:!1}}))},openDialog:function(){return t((function(){return{isOpen:!0}}))},setActiveStepNext:function(){return t((function(t){return{activeStep:t.activeStep+1}}))},setActiveStepPrevious:function(){return t((function(t){return{activeStep:t.activeStep-1}}))},setActiveStep:function(e){return t((function(){return{activeStep:e}}))},setActiveNavBarStepNext:function(){return t((function(t){return{activeNavBarStep:t.activeNavBarStep+1}}))},setActiveNavBarStepPrevious:function(){return t((function(t){return{activeNavBarStep:t.activeNavBarStep-1}}))},setActiveNavBarStep:function(e){return t((function(){return{activeNavBarStep:e}}))},setHasDebugError:function(e){return t((function(){return{hasDebugError:e}}))},setImportPlugin:function(e){return t((function(){return{importPlugin:e}}))},setIntegration:function(e){return t((function(){return{integration:e}}))},setIsAnimatedIn:function(e){return t((function(){return{isAnimatedIn:e}}))},setIntegrationSetupAction:function(e){return t((function(){return{integrationSetupAction:e}}))},setSetupStatus:function(e){return t((function(){return{setupStatus:e}}))},setSettingsUpdated:function(){return t((function(){return{settingsUpdated:!0}}))},setShouldRedirect:function(e){return t((function(){return{shouldRedirect:e}}))},setInnerDialogOpen:function(e){return t((function(){return{innerDialogOpen:e}}))},setIntegrationSettingsFormData:function(e,n,r){return t((0,s.immer)((function(t){t.integrationSettingsFormData[e]||(t.integrationSettingsFormData[e]={}),t.integrationSettingsFormData[e][n]=r})))}}}));e.default=h},7003:function(t,e,n){var r=n(9801),i=n(5720),o=n(9509),a=n.n(o),u=n(7784),c=n(5489),s=n(8731),l=n(6901),p=n(6493),d=n(375),f=n(760);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!["microsoft","google","generic"].includes(e.activeIntegrationSettings))return t;var n=e.integrationSettingsFormData[e.activeIntegrationSettings],i=t;return["microsoft","google"].includes(e.activeIntegrationSettings)?i=t.map((function(t){if(!["BrandedButton","BrandedLink","CopyInput","LinkedHelpTextInput"].includes(t.component)||!t.external)return t;var i,o=e.i18n.snackbar_url_copied,v=void 0===o?"":o,m=e.Svgs[t.props.Svg],b=null,y={};switch(t.component){case"BrandedButton":b=c.Z,y=g(g({},t.props),{},{disabled:!(null!=n&&n.client_id&&null!=n&&n.client_secret)||e.savingSettings,onClick:(i=(0,r.Z)(a().mark((function t(r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,e.saveConnectorSettings();case 3:window.location.href="".concat(n.oauth_url,"?client_id=").concat(n.client_id).concat(n.oauth_params);case 4:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)}),Svg:u.React.createElement(m,null)});break;case"BrandedLink":b=s.Z,y=g(g({},t.props),{},{href:"wizard"===e.context?t.wizardHref:t.props.href,Svg:u.React.createElement(m,null)});break;case"CopyInput":b=p.Z,y=g(g({},t.props),{},{actionButtonAttributes:g(g({},t.props.actionButtonAttributes),{},{onClick:function(t,n){e.addSnackBarMessage(v),(0,d.BR)(n)}})});break;case"LinkedHelpTextInput":b=p.Z,y=g(g({},t.props),{},{helpTextAttributes:g(g({},t.props.helpTextAttributes),{},{content:u.React.createElement(f.ji,{openingSymbol:"{{",closingSymbol:"}}",text:t.props.helpTextAttributes.content,tokens:t.links.map((function(t){return{component:l.Z,key:t.key,props:t.props}}))})})})}return g(g({},t),{},{component:b,props:y})})):"generic"===e.activeIntegrationSettings&&(i=t.map((function(t){var e;if("Input"!==t.component||!["username","password"].includes(null==t||null===(e=t.props)||void 0===e?void 0:e.name))return t;var r=g(g({},t.props),{},{disabled:!n.auth});return g(g({},t),{},{props:r})}))),i}},2077:function(t,e,n){n.d(e,{Z:function(){return f}});var r,i=n(9801),o=n(9509),a=n.n(o),u=n(9608),c=n.n(u),s=n(3267),l=n.n(s),p=n(4070),d=(null===(r=(0,n(375).iE)(l(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{};function f(){return v.apply(this,arguments)}function v(){return v=(0,i.Z)(a().mark((function t(){var e,n,r,i,o,u,s,l,f,v,g=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=g.length>0&&void 0!==g[0]?g[0]:"",i=g.length>1&&void 0!==g[1]?g[1]:"debug",o=d.data,u=void 0===o?{}:o,s=d.endpoints,f=(null==(l=void 0===s?{}:s)||null===(e=l.log_debug_item)||void 0===e?void 0:e.action)||"",v=(null==l||null===(n=l.log_debug_item)||void 0===n?void 0:n.nonce)||"",null!=u&&u.debug_log_enabled&&f&&v&&r){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,(0,p.v_)({endpoint:c(),body:{action:f,security:v,message:r,priority:i}}).catch((function(t){}));case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}},9208:function(t,e,n){var r=n(6588),i=n(5210);e.Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return function n(o){return Object.entries(o).reduce((function(o,a){var u=(0,i.Z)(a,2),c=u[0],s=u[1];return"object"===(0,r.Z)(s)&&null!==s?o[c]=n(s):t.includes(c)?o[c]=null===s?null:e.repeat(s.length):o[c]=s,o}),Array.isArray(o)?[]:{})}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}}]);