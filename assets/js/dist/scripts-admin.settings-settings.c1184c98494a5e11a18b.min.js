"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[4678,5685,2940,642],{4085:function(e,t,n){n.r(t);var i=n(6796),r=n(5720),a=n(7784),o=n(8288),s=n(9805),c=n(8631),l=n(7866);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var g=(0,a.React.forwardRef)((function(e,t){var n=e.customAttributes,g=void 0===n?{}:n,p=e.customClasses,d=void 0===p?[]:p,m=e.common,_=void 0===m?{}:m,v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,a.classnames)({"gravitysmtp-settings-app__header":!0},d)},g),f=_.i18n,b=void 0===f?{}:f,y=b.debug_log_enabled,h=void 0===y?"":y,O=b.test_mode_enabled,x=void 0===O?"":O,w=(0,l.default)((function(e){return e.debugLogEnabled})),R=(0,l.default)((function(e){return e.testModeEnabled}));return a.React.createElement("div",(0,i.Z)({},v,{ref:t}),a.React.createElement("div",{className:"gravitysmtp-settings-app__header-logo"},a.React.createElement(o.GravitySMTPLogo,null)),a.React.createElement("div",{className:"gravitysmtp-settings-app__header-main"},a.React.createElement(o.GravitySMTPTextLogo,null),a.React.createElement(s.Z,{customClasses:["gravitysmtp-header__status"],setDisplay:!1},w&&a.React.createElement(c.Z,{status:"warning",size:"sm",spacing:[0,R?4:0,0,0],label:h,isStatic:!0}),R&&a.React.createElement(c.Z,{status:"blue",size:"sm",label:x,isStatic:!0}))))}));g.propTypes={customAttributes:a.PropTypes.object,customClasses:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.array,a.PropTypes.object])},g.displayName="SettingsHeader",t.default=g},3643:function(e,t,n){n.r(t);var i=n(6796),r=n(9801),a=n(5210),o=n(5720),s=n(9509),c=n.n(s),l=n(9608),u=n.n(l),g=n(7784),p=n(4070),d=n(375),m=n(8777),_=n(9805),v=n(7343),f=n(1480),b=n(4237),y=n(8957),h=n(7003),O=n(2077),x=n(9208),w=n(4582),R=n(7866);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var Z=g.React.forwardRef,E=g.React.useState,k=g.React.useRef,j=Z((function(e,t){var n,s,l,Z,j,S,C=e.customAttributes,T=void 0===C?{}:C,D=e.customClasses,z=void 0===D?[]:D,A=e.common,N=void 0===A?{}:A,B=e.data,I=void 0===B?{}:B,L=e.i18n,J=void 0===L?{}:L,H=(null==J?void 0:J.integrations)||{},M=H.integration_settings_apply,F=H.integration_settings_cancel,U=H.integration_settings_error,W=(null==N?void 0:N.i18n)||{},G=W.debug_messages,V=void 0===G?{}:G,X=V.saving_integration_settings,$=void 0===X?"":X,q=V.saving_integration_settings_error,K=void 0===q?"":q,Q=W.snackbar_api_save_success,Y=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,g.classnames)({"gravitysmtp-integration-settings":!0},z)},T),ee=(0,R.default)((function(e){return e.activeIntegrationSettings})),te=(0,R.default)((function(e){return e.integrationSettingsFormData})),ne=(0,R.default)((function(e){return e.integrationSettingsDialogOpen})),ie=E(!1),re=(0,a.Z)(ie,2),ae=re[0],oe=re[1],se=k(null),ce=(0,R.default)((function(e){return e.setIntegrationSettingsDialogOpen})),le=(0,R.default)((function(e){return e.updateIntegrationStatus})),ue=(0,R.default)((function(e){return e.setIntegrationSettingsFormData})),ge=(0,d.Bl)(I,"id",ee),pe=(null==ge||null===(n=ge.settings)||void 0===n?void 0:n.fields)||[],de=(null==N||null===(s=N.endpoints)||void 0===s||null===(s=s.save_connector_settings)||void 0===s?void 0:s.action)||"",me=(null==N||null===(l=N.endpoints)||void 0===l||null===(l=l.save_connector_settings)||void 0===l?void 0:l.nonce)||"",_e=(0,b.Ds)(),ve=(null==ge||null===(Z=ge.settings)||void 0===Z?void 0:Z.hide_save)||!1,fe=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,i,r,a,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=se&&se.current&&(t=se.current.offsetWidth,se.current.style.width="".concat(t,"px")),oe(!0),n={action:de,security:me,settings:te[ee],connector_type:ee},e.next=5,(0,O.Z)((0,d.gB)($,ee,JSON.stringify((0,x.Z)(["api_key","server_api_token","password","security"],n))),"info");case 5:return e.prev=5,e.next=8,(0,p.v_)({endpoint:u(),body:n});case 8:null!=(r=e.sent)&&null!==(i=r.data)&&void 0!==i&&i.success?(_e(Q),le(ee,{configured:!0}),(0,m.saveActivationState)(ee,de,me,{configured:!0}),setTimeout((function(){ce(!1)}),1e3)):(s=(0,d.sO)(null==r||null===(a=r.error)||void 0===a||null===(a=a.detail)||void 0===a?void 0:a.data)?JSON.parse(null==r||null===(o=r.error)||void 0===o||null===(o=o.detail)||void 0===o?void 0:o.data):"",_e((null==s?void 0:s.data)||U,"error")),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,(0,O.Z)((0,d.gB)(K,ee,JSON.stringify(e.t0)),"error");case 16:case 17:oe(!1),null!=se&&se.current&&(se.current.style.width="");case 19:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),be={closeButtonType:"simplified",customCloseButtonLabelAttributes:{className:(0,g.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},customMaskClasses:["gravitysmtp-integration-settings__mask"],description:null==ge||null===(j=ge.settings)||void 0===j?void 0:j.description,isOpen:ne,maskTheme:"light",maxHeight:"calc(90vh - 80px)",mode:"modal",onClose:function(){if(new URLSearchParams(window.location.search).has("integration")){var e=new URL(window.location.href),t=new URLSearchParams(e.search);t.delete("integration"),e.search=t.toString(),window.history.pushState({path:e.toString()},"",e.toString())}ce(!1)},padContent:!1,position:"absolute",simplebar:!0,theme:"cosmos",title:null==ge||null===(S=ge.settings)||void 0===S?void 0:S.title,titleSize:"md",titleTagName:"h3",version:2},ye=(0,g.classnames)({"gravitysmtp-integration-settings__save":!0,"gravitysmtp-integration-settings__save--saving":ae}),he=(0,h.Z)(pe,{activeIntegrationSettings:ee,integrationSettingsFormData:te,saveConnectorSettings:fe,savingSettings:ae,Svgs:w,i18n:null==N?void 0:N.i18n,addSnackBarMessage:_e});return g.React.createElement("div",(0,i.Z)({},Y,{ref:t}),g.React.createElement(f.Z,be,g.React.createElement("form",{id:ee},g.React.createElement(y.Z,{id:ee,fields:he,setFieldData:function(e,t){return ue(ee,e,t)}})),g.React.createElement(_.Z,{customClasses:["gravitysmtp-integration-settings__actions"],display:"flex",spacing:[8,0,0,0]},g.React.createElement(v.Z,{label:F,onClick:function(){return ce(!1)},size:"size-height-m",type:"white"}),!ve&&g.React.createElement(v.Z,{active:ae,activeType:"loader",customClasses:ye,icon:"save-disk",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:M,onClick:fe,ref:se,spacing:[0,0,0,3],size:"size-height-m"}))))}));j.propTypes={customAttributes:g.PropTypes.object,customClasses:g.PropTypes.oneOfType([g.PropTypes.string,g.PropTypes.array,g.PropTypes.object]),common:g.PropTypes.object,data:g.PropTypes.object,i18n:g.PropTypes.object},j.displayName="IntegrationSettings",t.default=j},9694:function(e,t,n){n.r(t);var i=n(6796),r=n(5720),a=n(7784),o=n(223);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=a.React.forwardRef,u=a.ReactRouter.useLocation,g=l((function(e,t){var n=e.customAttributes,r=void 0===n?{}:n,s=e.customClasses,l=void 0===s?[]:s,g=e.data,p=void 0===g?{}:g,d=e.disabledNavItems,m=void 0===d?[]:d,_=p.nav_items,v=void 0===_?[]:_,f=u(),b=v.filter((function(e){return!m.includes(e.param)})).map((function(e,t){var n=e.param,i=e.label,r=e.icon,a={item:{customClasses:["gravitysmtp-settings-app__nav-bar-item","gravitysmtp-settings-app__nav-bar-item--".concat(n)],key:"".concat(n,"-").concat(t)},icon:{customClasses:["gravitysmtp-settings-app__nav-bar-item-icon"],icon:r,iconPrefix:"gravitysmtp-admin-icon"},text:{content:i,customClasses:["gravitysmtp-settings-app__nav-bar-item-text"]}};if(m.includes(n))return c(c({},a),{},{item:c(c({},a.item),{},{active:!1,disabled:!0}),button:{customClasses:["gravitysmtp-settings-app__nav-bar-item-button","gravitysmtp-settings-app__nav-bar-item-button--".concat(n)],size:"size-height-m",type:"icon-white",disabled:!0}});var o=new URLSearchParams(f.search),s=p.nav_item_param_key||"tab",l=o.get(s);o.set(s,n);var u=c(c({},f),{},{search:"?".concat(o.toString())});return c(c({},a),{},{item:c(c({},a.item),{},{active:l===n}),link:{customClasses:["gravitysmtp-settings-app__nav-bar-item-link","gravitysmtp-settings-app__nav-bar-item-link--".concat(n)],to:u}})})),y=c({customClasses:(0,a.classnames)(["gravitysmtp-settings-app__nav-bar"],l),items:b,type:"icon-button"},r);return a.React.createElement(o.Z,(0,i.Z)({},y,{ref:t}))}));g.propTypes={children:a.PropTypes.oneOfType([a.PropTypes.arrayOf(a.PropTypes.node),a.PropTypes.node]),customAttributes:a.PropTypes.object,customClasses:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.array,a.PropTypes.object])},g.displayName="NavBar",t.default=g},9997:function(e,t,n){n.r(t);var i=n(6796),r=n(9801),a=n(5210),o=n(5720),s=n(9509),c=n.n(s),l=n(9608),u=n.n(l),g=n(7784),p=n(4070),d=n(375),m=n(9805),_=n(7343),v=n(6192),f=n(6901),b=n(7511),y=n(7024),h=n(7066),O=n(2030),x=n(4237),w=n(2077),R=n(9208),P=n(7866);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var E=g.React.forwardRef,k=g.React.useState,j=E((function(e,t){var n,s,l=e.customAttributes,E=void 0===l?{}:l,j=e.customClasses,S=void 0===j?[]:j,C=e.common,T=void 0===C?{}:C,D=e.data,z=void 0===D?{}:D,A=e.i18n,N=void 0===A?{}:A,B=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,g.classnames)({"gravitysmtp-settings-app__logging":!0},S)},E),I=(null==N?void 0:N.logging)||{},L=I.top_heading,J=I.top_content,H=I.logging_box_heading,M=I.enable_log_label,F=I.enable_log_helper_text,U=I.save_email_body_label,W=I.save_email_body_helper_text,G=I.save_attachments_label,V=I.save_attachments_helper_text,X=I.email_log_retention_label,$=I.email_log_retention_helper_text,q=I.error_saving_snackbar_message,K=I.debug_logging_box_heading,Q=I.enable_debug_log_label,Y=I.enable_debug_log_helper_text,ee=I.debug_log_retention_label,te=I.debug_log_retention_helper_text,ne=I.view_debug_log_button_text,ie=I.delete_debug_log_button_text,re=I.delete_debug_log_dialog_confirm_change_heading,ae=I.delete_debug_log_dialog_confirm_change_content,oe=I.delete_debug_log_dialog_confirm_change_confirm,se=I.snackbar_debug_log_delete_error,ce=I.snackbar_debug_log_delete_success,le=(null==z?void 0:z.email_log_settings)||{},ue=le.email_log_enabled,ge=le.save_email_body_enabled,pe=le.save_attachments_enabled,de=le.email_log_retention,me=le.retention_options,_e=(null==z?void 0:z.debug_log_settings)||{},ve=_e.debug_log_retention,fe=_e.debug_log_url,be=_e.retention_options,ye=T||{},he=ye.i18n,Oe=void 0===he?{}:he,xe=Oe.debug_messages,we=void 0===xe?{}:xe,Re=we.deleting_all_debug_logs,Pe=void 0===Re?"":Re,Ze=we.deleting_all_debug_logs_error,Ee=void 0===Ze?"":Ze,ke=we.saving_plugin_settings,je=void 0===ke?"":ke,Se=we.saving_plugin_settings_error,Ce=void 0===Se?"":Se,Te=Oe.snackbar_generic_update_success,De=void 0===Te?"":Te,ze=ye.endpoints,Ae=(void 0===ze?{}:ze).delete_debug_logs,Ne=void 0===Ae?{}:Ae,Be=Ne.action,Ie=void 0===Be?"":Be,Le=Ne.nonce,Je=void 0===Le?"":Le,He=(null==z?void 0:z.caps)||{},Me=(null==T||null===(n=T.endpoints)||void 0===n||null===(n=n.save_plugin_settings)||void 0===n?void 0:n.action)||"",Fe=(null==T||null===(s=T.endpoints)||void 0===s||null===(s=s.save_plugin_settings)||void 0===s?void 0:s.nonce)||"",Ue=(0,P.default)((function(e){return e.debugLogEnabled})),We=(0,P.default)((function(e){return e.setDebugLogEnabled})),Ge=(0,P.default)((function(e){return e.setConfirmDialogSettings})),Ve=(0,P.default)((function(e){return e.setConfirmDialogOpen})),Xe=(0,x.Ds)(),$e=k(ue),qe=(0,a.Z)($e,2),Ke=qe[0],Qe=qe[1],Ye=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,i,r,a,o=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={action:Me,security:Fe,key:t=o.length>0&&void 0!==o[0]?o[0]:"",value:n=o.length>1&&void 0!==o[1]?o[1]:""},e.next=5,(0,w.Z)((0,d.gB)(je,JSON.stringify((0,R.Z)(["security"],i))),"info");case 5:return e.prev=5,e.next=8,(0,p.v_)({endpoint:u(),body:i});case 8:null!=(a=e.sent)&&null!==(r=a.data)&&void 0!==r&&r.success?(z.email_log_settings[t]=n,["event_log_retention","debug_log_retention"].includes(t)&&Xe(De,"success")):Xe(q,"error"),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=17,(0,w.Z)((0,d.gB)(Ce,JSON.stringify(e.t0)),"error");case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),et=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={action:Ie,security:Je,all_logs:"1"},e.next=3,(0,w.Z)((0,d.gB)(Pe,JSON.stringify((0,R.Z)(["security"],t))),"info");case 3:return e.prev=3,e.next=6,(0,p.v_)({endpoint:u(),body:t});case 6:null!=(i=e.sent)&&null!==(n=i.data)&&void 0!==n&&n.success?Xe(ce,"success"):Xe(se,"error"),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),Xe(se,"error"),e.next=15,(0,w.Z)((0,d.gB)(Ee,JSON.stringify(e.t0)),"error");case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return g.React.createElement("div",(0,i.Z)({},B,{ref:t}),g.React.createElement(v.Z,{size:"display-sm",weight:"semibold",spacing:1,content:L}),g.React.createElement(y.Z,{size:"text-sm",spacing:6,color:"comet",content:J}),He.gravitysmtp_view_email_log_settings&&g.React.createElement(g.React.Fragment,null,g.React.createElement(O.Z,{HeaderContent:function(e){return g.React.createElement(v.Z,(0,i.Z)({content:H,tagName:"h2",size:"text-lg",weight:"medium"},e))},spacing:6},g.React.createElement(m.Z,{customClasses:["gravitysmtp-logging-settings__box-container"],x:630},g.React.createElement(h.Z,{helpTextAttributes:{content:F,size:"text-sm",spacing:[4,0,0,0]},initialChecked:ue,labelAttributes:{label:M},onChange:function(e){Qe(e),Ye("event_log_enabled",e)},labelPosition:"left",name:"event_log_enabled",spacing:6,size:"size-m",width:"full",disabled:!He.gravitysmtp_edit_email_log_settings}),Ke&&g.React.createElement(h.Z,{helpTextAttributes:{content:W,size:"text-sm",spacing:[4,0,0,0]},initialChecked:ge,labelAttributes:{label:U},onChange:function(e){Ye("save_email_body_enabled",e)},labelPosition:"left",name:"save_email_body_enabled",spacing:6,size:"size-m",width:"full",disabled:!He.gravitysmtp_edit_email_log_settings}),Ke&&g.React.createElement(h.Z,{helpTextAttributes:{content:V,size:"text-sm",spacing:[4,0,0,0]},initialChecked:pe,labelAttributes:{label:G},onChange:function(e){Ye("save_attachments_enabled",e)},labelPosition:"left",name:"save_attachments_enabled",spacing:6,size:"size-m",width:"full",disabled:!He.gravitysmtp_edit_email_log_settings}),g.React.createElement(b.Z,{initialValue:de,labelAttributes:{label:X},helpTextAttributes:{content:$},name:"event_log_retention",onChange:function(e){Ye("event_log_retention",e)},options:me,disabled:!He.gravitysmtp_edit_email_log_settings}))),g.React.createElement(O.Z,{HeaderContent:function(e){return g.React.createElement(v.Z,(0,i.Z)({content:K,tagName:"h2",size:"text-lg",weight:"medium"},e))}},g.React.createElement(m.Z,{customClasses:["gravitysmtp-logging-settings__box-container"],x:630},g.React.createElement(h.Z,{initialChecked:Ue,labelAttributes:{label:Q},helpTextAttributes:{content:Y,size:"text-sm",spacing:[4,0,0]},onChange:function(e){We(e),Ye("debug_log_enabled",e),z.debug_log_settings.debug_log_enabled=e,T.data.debug_log_enabled=e},helpTextWidth:"full",labelPosition:"left",name:"debug_log_enabled",spacing:6,size:"size-m",width:"full",disabled:!He.gravitysmtp_edit_email_log_settings}),g.React.createElement(b.Z,{initialValue:ve,labelAttributes:{label:ee},helpTextAttributes:{content:te},name:"debug_log_retention",onChange:function(e){Ye("debug_log_retention",e)},options:be,disabled:!He.gravitysmtp_edit_email_log_settings,spacing:6}),g.React.createElement(m.Z,{display:"flex",customClasses:["gravitysmtp-logging-settings__debug-log-buttons"]},g.React.createElement(f.Z,{content:ne,customClasses:["gform-button","gform-button--size-height-m","gform-button--white","gform-button--width-auto","gform-button--icon-leading","gform-typography--size-text-sm","gform-typography--weight-medium"],href:fe}),g.React.createElement(_.Z,{label:ie,onClick:(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ge({confirmDialogConfirmButtonType:"amaranth-red",confirmDialogI18n:{confirm_change_confirm:oe,confirm_change_content:ae,confirm_change_heading:re},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return Ve(!1)},confirmDialogOnClose:function(){return Ve(!1)},confirmDialogOnConfirm:function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ve(!1),e.next=3,et();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),icon:"trash",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",size:"size-height-m",type:"amaranth-red"}))))))}));j.propTypes={customAttributes:g.PropTypes.object,customClasses:g.PropTypes.oneOfType([g.PropTypes.string,g.PropTypes.array,g.PropTypes.object])},j.displayName="LoggingScreen",t.default=j},2641:function(e,t,n){n.r(t);var i=n(9801),r=n(6796),a=n(5210),o=n(5720),s=n(9509),c=n.n(s),l=n(9608),u=n.n(l),g=n(7784),p=n(760),d=n(4070),m=n(375),_=n(9805),v=n(7343),f=n(6192),b=n(6493),y=n(6901),h=n(7024),O=n(7066),x=n(8887),w=n(2030),R=n(4237),P=n(2077),Z=n(9208),E=n(7866);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=g.React.forwardRef,C=g.React.useRef,T=g.React.useState,D=g.ReactRouter.useLocation,z=g.ReactRouter.Link,A=S((function(e,t){var n,o,s,l,k=e.customAttributes,S=void 0===k?{}:k,A=e.customClasses,N=void 0===A?[]:A,B=e.common,I=void 0===B?{}:B,L=e.data,J=void 0===L?{}:L,H=e.i18n,M=void 0===H?{}:H,F=j({className:(0,g.classnames)({"gravitysmtp-general-settings":!0},N)},S),U=M||{},W=U.debug_messages,G=void 0===W?{}:W,V=G.uninstalling_plugin,X=G.uninstalling_plugin_error,$=U.settings,q=void 0===$?{}:$,K=q.top_heading,Q=q.license_box_heading,Y=q.license_box_content,ee=q.license_box_input_label,te=q.license_box_input_help_text,ne=q.license_box_button_text,ie=q.license_valid,re=q.license_invalid,ae=q.test_mode_box_content_1,oe=q.test_mode_box_toggle_label,se=q.general_settings_box_heading,ce=q.uninstall_box_heading,le=q.uninstall_box_content,ue=q.uninstall_box_button_label,ge=q.uninstall_dialog_confirm_change_heading,pe=q.uninstall_dialog_confirm_change_content,de=q.uninstall_dialog_confirm_change_confirm,me=q.error_uninstalling_message,_e=J.license_key,ve=J.license_key_is_valid,fe=J.plugins_url,be=(null==I?void 0:I.i18n)||{},ye=be.debug_messages,he=void 0===ye?{}:ye,Oe=he.saving_plugin_settings,xe=void 0===Oe?"":Oe,we=he.saving_plugin_settings_error,Re=void 0===we?"":we,Pe=be.general_settings_usage_analytics_label,Ze=void 0===Pe?"":Pe,Ee=be.general_settings_usage_analytics_help_text,ke=void 0===Ee?"":Ee,je=(null==I?void 0:I.data)||{},Se=je.usage_analytics_enabled,Ce=je.usage_analytics_link,Te=je.param_keys,De=(null==J?void 0:J.caps)||{},ze=T("boolean"==typeof ve&&!ve),Ae=(0,a.Z)(ze,2),Ne=Ae[0],Be=Ae[1],Ie=T(_e),Le=(0,a.Z)(Ie,2),Je=Le[0],He=Le[1],Me=T(ve),Fe=(0,a.Z)(Me,2),Ue=Fe[0],We=Fe[1],Ge=T(""),Ve=(0,a.Z)(Ge,2),Xe=Ve[0],$e=Ve[1],qe=T(!1),Ke=(0,a.Z)(qe,2),Qe=Ke[0],Ye=Ke[1],et=(0,E.default)((function(e){return e.setConfirmDialogOpen})),tt=(0,E.default)((function(e){return e.setConfirmDialogSettings})),nt=(0,E.default)((function(e){return e.setPageLoaderActive})),it=(0,E.default)((function(e){return e.testModeEnabled})),rt=(0,E.default)((function(e){return e.setTestModeEnabled})),at=C(null),ot=(null==I||null===(n=I.endpoints)||void 0===n||null===(n=n.save_plugin_settings)||void 0===n?void 0:n.action)||"",st=(null==I||null===(o=I.endpoints)||void 0===o||null===(o=o.save_plugin_settings)||void 0===o?void 0:o.nonce)||"",ct=(null==I||null===(s=I.endpoints)||void 0===s||null===(s=s.gravitysmtp_uninstall_plugin)||void 0===s?void 0:s.action)||"",lt=(null==I||null===(l=I.endpoints)||void 0===l||null===(l=l.gravitysmtp_uninstall_plugin)||void 0===l?void 0:l.nonce)||"",ut=(0,g.classnames)({"gravitysmtp-general-settings__license-save":!0,"gravitysmtp-general-settings__license-save--saving":Qe}),gt=(0,R.Ds)(),pt=D(),dt=function(){var e=(0,i.Z)(c().mark((function e(){var t,n,i,r,a,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=at.current.offsetWidth,n=Je.trim(),Be(!1),$e(t),Ye(!0),He(n),i={action:ot,security:st,key:Te.license_key,value:n},e.next=9,(0,P.Z)((0,m.gB)(xe,JSON.stringify((0,Z.Z)(["security","value"],i))),"info");case 9:return e.prev=9,e.next=12,(0,d.v_)({endpoint:u(),body:i});case 12:a=e.sent,Ye(!1),$e(""),null!=a&&null!==(r=a.data)&&void 0!==r&&r.success?(s=(null==a||null===(o=a.data)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.license_is_valid)||!1,We(s),!0===s?gt(ie):!1===s&&gt(re,"error")):(We(!1),gt(re,"error")),e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(9),e.next=23,(0,P.Z)((0,m.gB)(Re,JSON.stringify(e.t0)),"error");case 23:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(){return e.apply(this,arguments)}}(),mt={customClasses:["gravitysmtp-general-settings__license-input"],controlled:!0,labelAttributes:{label:ee},helpTextAttributes:Ue?{}:{content:te,size:"text-xs",weight:"regular"},id:"gravitysmtp-general-settings__license-input",name:Te.license_key,onChange:He,textSecurity:"disc",value:Je,customAttributes:{readOnly:!De.gravitysmtp_edit_license_key}};!0===Ue?(mt.borderStyle="correct",mt.iconAttributes={iconPrefix:"gravitysmtp-admin-icon",preset:"status-correct"}):!1===Ue&&(mt.borderStyle="error",mt.iconAttributes={iconPrefix:"gravitysmtp-admin-icon",preset:"status-incorrect"});var _t=function(){var e=new URLSearchParams(pt.search),t=J.nav_item_param_key||"tab";e.set(t,"logging");var n=j(j({},pt),{},{search:"?".concat(e.toString())}),i=ae.split("%s");return g.React.createElement(g.React.Fragment,null,i[0],g.React.createElement(z,{className:"gform-link gform-typography--size-text-sm",to:n},i[1]),i[2])},vt=function(){var e=(0,i.Z)(c().mark((function e(t){var n,i,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rt(t),n={action:ot,security:st,key:Te.test_mode,value:t?"true":"false"},e.next=4,(0,P.Z)((0,m.gB)(xe,JSON.stringify((0,Z.Z)(["security"],n))),"info");case 4:return e.prev=4,e.next=7,(0,d.v_)({endpoint:u(),body:n});case 7:null!=(r=e.sent)&&null!==(i=r.data)&&void 0!==i&&i.success,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(4),e.next=16,(0,P.Z)((0,m.gB)(Re,JSON.stringify(e.t0)),"error");case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=(0,i.Z)(c().mark((function e(t){var n,i,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={action:ot,security:st,key:Te.usage_analytics,value:t?"true":"false"},e.next=3,(0,P.Z)((0,m.gB)(xe,JSON.stringify((0,Z.Z)(["security"],n))),"info");case 3:return e.prev=3,e.next=6,(0,d.v_)({endpoint:u(),body:n});case 6:null!=(r=e.sent)&&null!==(i=r.data)&&void 0!==i&&i.success&&(I.data.usage_analytics_enabled=t,(0,m.X$)({event:"gravitysmtp/setting-updated",native:!1,data:{key:Te.usage_analytics,value:t}})),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),e.next=15,(0,P.Z)((0,m.gB)(Re,JSON.stringify(e.t0)),"error");case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=(0,i.Z)(c().mark((function e(){var t,n,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nt(!0),t={action:ct,security:lt},e.next=4,(0,P.Z)((0,m.gB)(V,JSON.stringify((0,Z.Z)(["security"],t))),"info");case 4:return e.prev=4,e.next=7,(0,d.v_)({endpoint:u(),body:t});case 7:null!=(i=e.sent)&&null!==(n=i.data)&&void 0!==n&&n.success?window.location.href=fe:(nt(!1),gt(me,"error")),e.next=18;break;case 11:return e.prev=11,e.t0=e.catch(4),nt(!1),gt(me,"error"),e.next=18,(0,P.Z)((0,m.gB)(X,JSON.stringify(e.t0)),"error");case 18:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),yt={initialChecked:it,labelAttributes:{label:oe},helpTextAttributes:{content:g.React.createElement(_t,null),size:"text-sm",spacing:[4,0,0,0]},helpTextWidth:"full",labelPosition:"left",id:"test_mode",name:Te.test_mode,onChange:vt,size:"size-m",spacing:6,width:"full",disabled:!De.gravitysmtp_edit_test_mode},ht={initialChecked:Se,labelAttributes:{label:Ze},helpTextAttributes:{content:g.React.createElement(p.ji,{openingSymbol:"{{",closingSymbol:"}}",text:ke,tokens:[{component:y.Z,key:"learn_link",props:{href:Ce,size:"text-sm",target:"_blank"}}]}),size:"text-sm",spacing:[4,0,0,0]},helpTextWidth:"full",labelPosition:"left",id:"usage_analytics",name:Te.usage_analytics,onChange:ft,size:"size-m",width:"full",disabled:!De.gravitysmtp_edit_usage_analytics};return g.React.createElement("div",(0,r.Z)({},F,{ref:t}),g.React.createElement(f.Z,{size:"display-sm",weight:"semibold",spacing:6,content:K}),De.gravitysmtp_view_license_key&&g.React.createElement(w.Z,{HeaderContent:function(e){return g.React.createElement(_.Z,{x:630},g.React.createElement(f.Z,(0,r.Z)({content:Q,tagName:"h2",size:"text-lg",weight:"medium",spacing:2},e)),g.React.createElement(h.Z,(0,r.Z)({content:Y,size:"text-sm",color:"comet"},e)))},FooterContent:function(e){var t={};return Xe&&(t.style={width:"".concat(Xe,"px")}),t.disabled=!De.gravitysmtp_edit_license_key,g.React.createElement(v.Z,(0,r.Z)({active:Qe,activeType:"loader",customAttributes:t,customClasses:ut,icon:"save-disk",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:ne,onClick:dt,size:"size-height-m",ref:at},e))},spacing:6},g.React.createElement(_.Z,{customClasses:["gravitysmtp-general-settings__license-input-container"],x:630},g.React.createElement(b.Z,mt),Ne&&g.React.createElement(x.Z,{customIconPrefix:"gravitysmtp-admin-icon",spacing:[3,0,0,0],type:"error"},re))),(De.gravitysmtp_view_test_mode||De.gravitysmtp_view_usage_analytics)&&g.React.createElement(w.Z,{HeaderContent:function(e){return g.React.createElement(_.Z,{x:630},g.React.createElement(f.Z,(0,r.Z)({content:se,tagName:"h2",size:"text-lg",weight:"medium"},e)))},spacing:6},g.React.createElement(_.Z,{customClasses:["gravitysmtp-general-settings__license-input-container"],x:630},De.gravitysmtp_view_test_mode&&g.React.createElement(O.Z,yt),De.gravitysmtp_view_usage_analytics&&g.React.createElement(O.Z,ht))),De.gravitysmtp_view_uninstall&&g.React.createElement(w.Z,{HeaderContent:function(e){return g.React.createElement(_.Z,{x:630},g.React.createElement(f.Z,(0,r.Z)({content:ce,tagName:"h2",size:"text-lg",weight:"medium"},e)))}},g.React.createElement(_.Z,{customClasses:["gravitysmtp-general-settings__license-input-container"],x:630},g.React.createElement(h.Z,{content:le,size:"text-sm",color:"comet",spacing:6}),g.React.createElement(v.Z,{disabled:!De.gravitysmtp_edit_uninstall,icon:"trash",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:ue,onClick:(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tt({confirmDialogConfirmButtonType:"amaranth-red",confirmDialogI18n:{confirm_change_confirm:de,confirm_change_content:pe,confirm_change_heading:ge},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return et(!1)},confirmDialogOnClose:function(){return et(!1)},confirmDialogOnConfirm:function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return et(!1),e.next=3,bt();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),size:"size-height-m",type:"amaranth-red"}))))}));A.propTypes={customAttributes:g.PropTypes.object,customClasses:g.PropTypes.oneOfType([g.PropTypes.string,g.PropTypes.array,g.PropTypes.object]),data:g.PropTypes.object,i18n:g.PropTypes.object},A.displayName="SettingsScreen",t.default=A},7976:function(e,t,n){n.r(t);var i=n(5720),r=n(5210),a=n(7784),o=n(9118),s=n(4237),c=n(4085),l=n(9694),u=n(2641),g=n(8777),p=n(9997),d=n(3643),m=n(7767),_=n(8448),v=n(7866);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=a.React.useEffect,h=a.ReactRouter.BrowserRouter,O=a.ReactRouter.Routes,x=a.ReactRouter.Route,w=a.ReactRouter.useSearchParams,R=["alerts","emails","routing"],P={settings:["gravitysmtp_view_license_key","gravitysmtp_view_test_mode","gravitysmtp_view_usage_analytics"],integrations:["gravitysmtp_launch_setup_wizard","gravitysmtp_view_integrations"],logging:["gravitysmtp_view_email_log_settings"]},Z=function(e){return a.React.createElement(c.default,e)},E=function(e){return a.React.createElement(l.default,e)},k=function(e){var t=w(),n=(0,r.Z)(t,2),i=n[0],o=(n[1],e.data.nav_items),s=(void 0===o?[]:o).filter((function(e){return!R.includes(e.param)}))[0]||"",c=i.get(e.data.nav_item_param_key||"tab")||s.param,l=i.get("integration"),d=(0,v.default)((function(e){return e.setActiveIntegrationSettings})),m=(0,v.default)((function(e){return e.setIntegrationSettingsDialogOpen}));switch("integrations"===c&&l&&(d(l),m(!0)),c){case"settings":return a.React.createElement(u.default,e);case"integrations":return a.React.createElement(g.default,e);case"logging":return a.React.createElement(p.default,e);default:return null}};t.default=function(e){var t=e.data,n=e.i18n,i=e.common,c=t.route_path.replace(window.location.origin,""),l=(null==t?void 0:t.caps)||{};Object.entries(P).forEach((function(e){var t=(0,r.Z)(e,2),n=t[0];t[1].some((function(e){return l[e]}))||R.push(n)}));var u=(0,v.default)((function(e){return e.pageLoaderActive})),g=(0,v.default)((function(e){return e.setPageLoaderActive})),p={confirmButtonType:(0,v.default)((function(e){return e.confirmDialogConfirmButtonType})),customAttributes:(0,v.default)((function(e){return e.confirmDialogCustomAttributes})),i18n:b(b({},(null==i?void 0:i.i18n)||{}),(0,v.default)((function(e){return e.confirmDialogI18n}))),isOpen:(0,v.default)((function(e){return e.confirmDialogOpen})),onCancel:(0,v.default)((function(e){return e.confirmDialogOnCancel})),onClose:(0,v.default)((function(e){return e.confirmDialogOnClose})),onConfirm:(0,v.default)((function(e){return e.confirmDialogOnConfirm}))},f=function(e){g(e.detail)};return y((function(){return document.addEventListener("gravitysmtp/page_loader/active",f),function(){return document.removeEventListener("gravitysmtp/page_loader/active",f)}}),[]),a.React.createElement(h,null,a.React.createElement(s.wT,{defaultSettings:{errorIconAttributes:{icon:"exclamation-simple",iconPrefix:"gravitysmtp-admin-icon"},successIconAttributes:{icon:"correct",iconPrefix:"gravitysmtp-admin-icon"}}},a.React.createElement("div",{className:"gravitysmtp-app__wrapper"},a.React.createElement(o.Z,{customClasses:["gravitysmtp-settings-app"],Header:Z,PrimarySideBarChildren:E,common:i,data:t,i18n:n,disabledNavItems:R},a.React.createElement("div",{className:"gravitysmtp-settings-app__content"},a.React.createElement(O,null,a.React.createElement(x,{path:c,element:a.React.createElement(k,{common:i,data:t,i18n:n,disabledNavItems:R})})))),a.React.createElement(d.default,{data:t,common:i,i18n:n}),a.React.createElement(m.Z,p),a.React.createElement(_.Z,{loading:u}))))}},8288:function(e,t,n){n.r(t),n.d(t,{GravitySMTPLogo:function(){return i.Z},GravitySMTPTextLogo:function(){return r.Z}});var i=n(324),r=n(515)},7003:function(e,t,n){var i=n(9801),r=n(5720),a=n(9509),o=n.n(a),s=n(7784),c=n(5489),l=n(8731),u=n(6901),g=n(6493),p=n(375),d=n(760);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!["microsoft","google","generic"].includes(t.activeIntegrationSettings))return e;var n=t.integrationSettingsFormData[t.activeIntegrationSettings],r=e;return["microsoft","google"].includes(t.activeIntegrationSettings)?r=e.map((function(e){if(!["BrandedButton","BrandedLink","CopyInput","LinkedHelpTextInput"].includes(e.component)||!e.external)return e;var r,a=t.i18n.snackbar_url_copied,m=void 0===a?"":a,v=t.Svgs[e.props.Svg],f=null,b={};switch(e.component){case"BrandedButton":f=c.Z,b=_(_({},e.props),{},{disabled:!(null!=n&&n.client_id&&null!=n&&n.client_secret)||t.savingSettings,onClick:(r=(0,i.Z)(o().mark((function e(i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.preventDefault(),e.next=3,t.saveConnectorSettings();case 3:window.location.href="".concat(n.oauth_url,"?client_id=").concat(n.client_id).concat(n.oauth_params);case 4:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)}),Svg:s.React.createElement(v,null)});break;case"BrandedLink":f=l.Z,b=_(_({},e.props),{},{href:"wizard"===t.context?e.wizardHref:e.props.href,Svg:s.React.createElement(v,null)});break;case"CopyInput":f=g.Z,b=_(_({},e.props),{},{actionButtonAttributes:_(_({},e.props.actionButtonAttributes),{},{onClick:function(e,n){t.addSnackBarMessage(m),(0,p.BR)(n)}})});break;case"LinkedHelpTextInput":f=g.Z,b=_(_({},e.props),{},{helpTextAttributes:_(_({},e.props.helpTextAttributes),{},{content:s.React.createElement(d.ji,{openingSymbol:"{{",closingSymbol:"}}",text:e.props.helpTextAttributes.content,tokens:e.links.map((function(e){return{component:u.Z,key:e.key,props:e.props}}))})})})}return _(_({},e),{},{component:f,props:b})})):"generic"===t.activeIntegrationSettings&&(r=e.map((function(e){var t;if("Input"!==e.component||!["username","password"].includes(null==e||null===(t=e.props)||void 0===t?void 0:t.name))return e;var i=_(_({},e.props),{},{disabled:!n.auth});return _(_({},e),{},{props:i})}))),r}}}]);