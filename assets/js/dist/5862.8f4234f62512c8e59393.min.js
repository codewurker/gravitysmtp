"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[5862],{65862:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var a,i=n(90455),o=n(71860),r=n(8140),s=n(88856),l=n(78564),c=n.n(l),d=n(97867),g=n(30242),u=n(80509),_=n(5529),b=n(87029),m=n(53377),v=n(66598),f=n(16265),p=n(13379),A=n(84860),h=n(68381),k=n(27122),y=n.n(k),S=n(40450),E=n.n(S),x=n(60177),C=n(71376),w=n(83707),D=n(93313),O=(null===(a=(0,C.zj)(E(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.common)||{},T=function(e){(0,e.addSnackbarMessage)(e.saveSuccessSnackBarMessage,"success")},M=function(e){var t=e.addSnackbarMessage;e.error;t(e.saveErrorSnackBarMessage,"error")},P=function(){var e=(0,i.A)(c().mark((function e(t){var n,a,i,o,r,s,l,d,g,u,_,b,m,v,f,p,A,h,k,S,E,P,z,I,L,B,G,R,j,N,V,U,W,J,H,q,F,K,Q,X,Y,Z,$,ee,te,ne,ae,ie,oe,re,se,le,ce;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.addSnackbarMessage,a=void 0===n?function(){}:n,i=t.errorCallback,o=void 0===i?null:i,r=t.snackBarErrorMessage,s=void 0===r?"":r,l=t.snackBarSuccessMessage,d=void 0===l?"":l,g=t.successCallback,u=void 0===g?null:g,_=t.type,b=void 0===_?"debug":_,m=t.useDebugLogger,v=void 0===m||m,f=O.i18n,A=(p=void 0===f?{}:f).debug_messages,k=(h=void 0===A?{}:A).deleting_activity_log_rows,S=void 0===k?"":k,E=h.deleting_activity_log_rows_error,P=void 0===E?"":E,z=h.deleting_all_debug_logs,I=void 0===z?"":z,L=h.deleting_all_debug_logs_error,B=void 0===L?"":L,G=p.snackbar_activity_log_delete_error,R=void 0===G?"":G,j=p.snackbar_activity_log_delete_success,N=void 0===j?"":j,V=p.snackbar_debug_log_delete_error,U=void 0===V?"":V,W=p.snackbar_debug_log_delete_success,J=void 0===W?"":W,H=O.endpoints,F=(q=void 0===H?{}:H).delete_events,Q=(K=void 0===F?{}:F).action,X=void 0===Q?"":Q,Y=K.nonce,Z=void 0===Y?"":Y,$=q.delete_debug_logs,te=(ee=void 0===$?{}:$).action,ne=void 0===te?"":te,ae=ee.nonce,ie=void 0===ae?"":ae,oe=d||"debug"===b?J:N,re=s||"debug"===b?U:R,se={action:"debug"===b?ne:X,security:"debug"===b?ie:Z},"debug"===b?se.all_logs="1":(se.all_events="1",se.event_ids=[1]),!v){e.next=9;break}return e.next=9,(0,w.A)((0,C.nv)("debug"===b?I:S,JSON.stringify((0,D.A)(["security"],se))),"info");case 9:return e.prev=9,e.next=12,(0,x.bE)({endpoint:y(),body:se});case 12:null!=(ce=e.sent)&&null!==(le=ce.data)&&void 0!==le&&le.success?(u||T)({addSnackbarMessage:a,data:null==ce?void 0:ce.data,saveSuccessSnackBarMessage:oe}):(o||M)({addSnackbarMessage:a,error:null==ce?void 0:ce.error,saveErrorSnackBarMessage:re}),e.next=23;break;case 16:if(e.prev=16,e.t0=e.catch(9),a(re,"error"),!v){e.next=23;break}return e.next=23,(0,w.A)((0,C.nv)("debug"===b?B:P,JSON.stringify(e.t0)),"error");case 23:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}(),z=P,I=n(33695),L=n(49572),B=n(27764),G=n(36770),R=n(59092);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=d.React.forwardRef,U=d.React.useState,W=V((function(e,t){var n=e.customAttributes,a=void 0===n?{}:n,s=e.customClasses,l=void 0===s?[]:s,k=e.common,y=void 0===k?{}:k,S=e.data,E=void 0===S?{}:S,x=e.i18n,C=void 0===x?{}:x,w=N({className:(0,d.classnames)({"gravitysmtp-settings-app__logging":!0},l)},a),D=(null==C?void 0:C.logging)||{},O=D.debug_log_retention_helper_text,T=D.debug_log_retention_label,M=D.debug_logging_box_heading,P=D.delete_activity_log_button_text,j=D.delete_debug_log_button_text,V=D.delete_debug_log_dialog_confirm_change_confirm,W=D.delete_debug_log_dialog_confirm_change_content,J=D.delete_debug_log_dialog_confirm_change_heading,H=D.delete_email_log_dialog_confirm_change_content,q=D.email_log_max_records_helper_text,F=D.email_log_retention_helper_text,K=D.email_log_retention_label,Q=D.enable_debug_log_helper_text,X=D.enable_debug_log_label,Y=D.enable_log_helper_text,Z=D.enable_log_label,$=D.logging_box_heading,ee=D.save_attachments_helper_text,te=D.save_attachments_label,ne=D.save_email_body_helper_text,ae=D.save_email_body_label,ie=D.top_content,oe=D.top_heading,re=D.track_open_label,se=D.track_open_helper_text,le=D.view_activity_log_button_text,ce=D.view_debug_log_button_text,de=(null==E?void 0:E.email_log_settings)||{},ge=de.email_log_enabled,ue=de.email_log_retention,_e=de.email_log_url,be=de.open_tracking_enabled,me=de.retention_options,ve=de.save_attachments_enabled,fe=de.save_email_body_enabled,pe=(null==E?void 0:E.debug_log_settings)||{},Ae=pe.debug_log_retention,he=pe.debug_log_url,ke=pe.retention_options,ye=(0,R.default)((function(e){return e.debugLogEnabled})),Se=(0,R.default)((function(e){return e.setDebugLogEnabled})),Ee=(0,R.default)((function(e){return e.setConfirmDialogSettings})),xe=(0,R.default)((function(e){return e.setConfirmDialogOpen})),Ce=(0,A.dh)(),we=U(ge),De=(0,r.A)(we,2),Oe=De[0],Te=De[1];return d.React.createElement("div",(0,o.A)({},w,{ref:t}),d.React.createElement(_.A,{size:"display-sm",weight:"semibold",spacing:1,content:oe}),d.React.createElement(v.A,{size:"text-sm",spacing:6,color:"comet",content:ie}),(0,L.A)("CAPS_VIEW_EMAIL_LOG_SETTINGS")&&d.React.createElement(p.A,{HeaderContent:function(e){return d.React.createElement(_.A,(0,o.A)({content:$,tagName:"h2",size:"text-lg",weight:"medium"},e))},spacing:6},d.React.createElement(g.A,{customClasses:["gravitysmtp-logging-settings__box-container"],x:630},d.React.createElement(f.A,{customAttributes:{"data-test-id":"settings-activity-log-enable"},helpTextAttributes:{content:Y,size:"text-sm"},initialChecked:ge,labelAttributes:N({label:Z},(0,B.A)((0,I.A)("event_log_enabled"))),onChange:function(e){Te(e),(0,h.A)({addSnackbarMessage:Ce,key:(0,I.A)("event_log_enabled"),updateData:E.email_log_settings,value:e})},labelPosition:"left",name:(0,I.A)("event_log_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,L.A)("CAPS_EDIT_EMAIL_LOG_SETTINGS")}),Oe&&d.React.createElement(f.A,{customAttributes:{"data-test-id":"settings-save-email-body-enable"},helpTextAttributes:{content:ne,size:"text-sm"},initialChecked:fe,labelAttributes:N({label:ae},(0,B.A)((0,I.A)("save_email_body_enabled"))),onChange:function(e){(0,h.A)({addSnackbarMessage:Ce,key:(0,I.A)("save_email_body_enabled"),updateData:E.email_log_settings,value:e})},labelPosition:"left",name:(0,I.A)("save_email_body_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,L.A)("CAPS_EDIT_EMAIL_LOG_SETTINGS")}),Oe&&d.React.createElement(f.A,{customAttributes:{"data-test-id":"settings-save-attachments-enable"},helpTextAttributes:{content:ee,size:"text-sm"},initialChecked:ve,labelAttributes:N({label:te},(0,B.A)((0,I.A)("save_attachments_enabled"))),onChange:function(e){(0,h.A)({addSnackbarMessage:Ce,key:(0,I.A)("save_attachments_enabled"),updateData:E.email_log_settings,value:e})},labelPosition:"left",name:(0,I.A)("save_attachments_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,L.A)("CAPS_EDIT_EMAIL_LOG_SETTINGS")}),Oe&&(0,G.A)("email_open_tracking")&&d.React.createElement(f.A,{customAttributes:{"data-test-id":"settings-track-open-enable"},helpTextAttributes:{content:se,size:"text-sm"},initialChecked:be,labelAttributes:N({label:re},(0,B.A)((0,I.A)("open_tracking"))),onChange:function(e){(0,h.A)({addSnackbarMessage:Ce,key:(0,I.A)("open_tracking"),updateData:E.email_log_settings,value:e})},labelPosition:"left",name:(0,I.A)("open_tracking"),spacing:6,size:"size-m",width:"full",disabled:!(0,L.A)("CAPS_EDIT_EMAIL_LOG_SETTINGS")}),d.React.createElement(m.A,{customAttributes:{"data-test-id":"settings-email-log-retention"},wrapperClasses:[!E.email_log_settings.log_retention_period_enabled&&"gravitysmtp-logging-settings__log-retention--locked"],initialValue:ue,labelAttributes:N({label:K},(0,B.A)((0,I.A)("event_log_retention"),!E.email_log_settings.log_retention_period_enabled)),helpTextAttributes:{content:E.email_log_settings.log_retention_period_enabled?F:q,size:E.email_log_settings.log_retention_period_enabled?"text-xs":"text-sm"},name:(0,I.A)("event_log_retention"),onChange:function(e){(0,h.A)({addSnackbarMessage:Ce,showSnackBarSuccess:!0,key:(0,I.A)("event_log_retention"),updateData:E.email_log_settings,value:e})},options:me,disabled:!(0,L.A)("CAPS_EDIT_EMAIL_LOG_SETTINGS"),spacing:6}),d.React.createElement(g.A,{display:"flex",customClasses:["gravitysmtp-logging-settings__debug-log-buttons"]},(0,L.A)("CAPS_VIEW_EMAIL_LOG")&&d.React.createElement(b.A,{content:le,customAttributes:{"data-test-id":"settings-activity-log-link"},customClasses:["gform-button","gform-button--size-height-m","gform-button--white","gform-button--width-auto","gform-button--icon-leading","gform-typography--size-text-sm","gform-typography--weight-medium"],href:_e}),(0,L.A)("CAPS_DELETE_EMAIL_LOG")&&d.React.createElement(u.A,{customAttributes:{"data-test-id":"settings-activity-log-delete"},label:P,onClick:(0,i.A)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ee({confirmDialogConfirmButtonType:"amaranth-red",confirmDialogI18n:{confirm_change_confirm:V,confirm_change_content:H,confirm_change_heading:J},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return xe(!1)},confirmDialogOnClose:function(){return xe(!1)},confirmDialogOnConfirm:function(){var e=(0,i.A)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(!1),e.next=3,z({addSnackbarMessage:Ce,type:"email"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),icon:"trash",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",size:"size-height-m",type:"amaranth-red"})))),(0,L.A)("CAPS_VIEW_DEBUG_LOG_SETTINGS")&&d.React.createElement(p.A,{HeaderContent:function(e){return d.React.createElement(_.A,(0,o.A)({content:M,tagName:"h2",size:"text-lg",weight:"medium"},e))}},d.React.createElement(g.A,{customClasses:["gravitysmtp-logging-settings__box-container"],x:630},d.React.createElement(f.A,{customAttributes:{"data-test-id":"settings-debug-log-enable"},initialChecked:ye,labelAttributes:N({label:X},(0,B.A)((0,I.A)("debug_log_enabled"))),helpTextAttributes:{content:Q,size:"text-sm"},onChange:function(e){Se(e),(0,h.A)({addSnackbarMessage:Ce,key:(0,I.A)("debug_log_enabled"),successCallback:function(){E.debug_log_settings.debug_log_enabled=e,y.data.debug_log_enabled=e},value:e})},helpTextWidth:"full",labelPosition:"left",name:(0,I.A)("debug_log_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,L.A)("CAPS_EDIT_DEBUG_LOG_SETTINGS")}),d.React.createElement(m.A,{initialValue:Ae,labelAttributes:N({label:T},(0,B.A)((0,I.A)("debug_log_retention"))),helpTextAttributes:{content:O},name:(0,I.A)("debug_log_retention"),onChange:function(e){(0,h.A)({addSnackbarMessage:Ce,showSnackBarSuccess:!0,key:(0,I.A)("debug_log_retention"),updateData:E.debug_log_settings,value:e})},options:ke,disabled:!(0,L.A)("CAPS_EDIT_DEBUG_LOG_SETTINGS"),spacing:6}),d.React.createElement(g.A,{display:"flex",customClasses:["gravitysmtp-logging-settings__debug-log-buttons"]},(0,L.A)("CAPS_VIEW_DEBUG_LOG")&&d.React.createElement(b.A,{content:ce,customAttributes:{"data-test-id":"settings-debug-log-link"},customClasses:["gform-button","gform-button--size-height-m","gform-button--white","gform-button--width-auto","gform-button--icon-leading","gform-typography--size-text-sm","gform-typography--weight-medium"],href:he}),(0,L.A)("CAPS_DELETE_DEBUG_LOG")&&d.React.createElement(u.A,{customAttributes:{"data-test-id":"settings-debug-log-delete"},label:j,onClick:(0,i.A)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ee({confirmDialogConfirmButtonType:"amaranth-red",confirmDialogI18n:{confirm_change_confirm:V,confirm_change_content:W,confirm_change_heading:J},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return xe(!1)},confirmDialogOnClose:function(){return xe(!1)},confirmDialogOnConfirm:function(){var e=(0,i.A)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(!1),e.next=3,z({addSnackbarMessage:Ce});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),icon:"trash",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",size:"size-height-m",type:"amaranth-red"})))))}));W.propTypes={customAttributes:d.PropTypes.object,customClasses:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.array,d.PropTypes.object])},W.displayName="LoggingScreen";var J=W},68381:function(e,t,n){var a,i=n(90455),o=n(78564),r=n.n(o),s=n(27122),l=n.n(s),c=n(40450),d=n.n(c),g=n(60177),u=n(71376),_=n(83707),b=n(93313),m=(null===(a=(0,u.zj)(d(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.common)||{},v=function(e){var t=e.addSnackbarMessage,n=e.key,a=e.saveSuccessSnackBarMessage,i=e.showSnackBarSuccess,o=e.updateData,r=e.value;o[n]&&(o[n]=r),i&&t(a,"success")},f=function(e){var t=e.addSnackbarMessage,n=(e.error,e.saveErrorSnackBarMessage);e.showSnackBarError&&t(n,"error")},p=function(){var e=(0,i.A)(r().mark((function e(t){var n,a,i,o,s,c,d,p,A,h,k,y,S,E,x,C,w,D,O,T,M,P,z,I,L,B,G,R,j,N,V,U,W,J,H,q,F,K,Q,X,Y,Z,$,ee,te;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.addSnackbarMessage,a=void 0===n?function(){}:n,i=t.errorCallback,o=void 0===i?null:i,s=t.key,c=void 0===s?"":s,d=t.showSnackBarError,p=void 0===d||d,A=t.showSnackBarSuccess,h=void 0!==A&&A,k=t.snackBarErrorMessage,y=void 0===k?"":k,S=t.snackBarSuccessMessage,E=void 0===S?"":S,x=t.successCallback,C=void 0===x?null:x,w=t.updateData,D=void 0===w?{}:w,O=t.useDebugLogger,T=void 0===O||O,M=t.value,P=void 0===M?"":M,z=m.i18n,L=(I=void 0===z?{}:z).snackbar_generic_update_error,B=void 0===L?"":L,G=I.snackbar_generic_update_success,R=void 0===G?"":G,j=I.debug_messages,V=(N=void 0===j?{}:j).saving_plugin_settings,U=void 0===V?"":V,W=N.saving_plugin_settings_error,J=void 0===W?"":W,H=m.endpoints,q=(void 0===H?{}:H).save_plugin_settings,K=(F=void 0===q?{}:q).action,Q=void 0===K?"":K,X=F.nonce,Y=E||R,Z=y||B,$={action:Q,security:void 0===X?"":X,key:c,value:P},!T){e.next=8;break}return e.next=8,(0,_.A)((0,u.nv)(U,JSON.stringify((0,b.A)(["security"],$))),"info");case 8:return e.prev=8,e.next=11,(0,g.bE)({endpoint:l(),body:$});case 11:null!=(te=e.sent)&&null!==(ee=te.data)&&void 0!==ee&&ee.success?(C||v)({addSnackbarMessage:a,data:null==te?void 0:te.data,key:c,saveSuccessSnackBarMessage:Y,showSnackBarSuccess:h,updateData:D,value:P}):(o||f)({addSnackbarMessage:a,error:null==te?void 0:te.error,saveErrorSnackBarMessage:Z,showSnackBarError:p}),e.next=21;break;case 15:if(e.prev=15,e.t0=e.catch(8),!T){e.next=21;break}return e.next=21,(0,_.A)((0,u.nv)(J,JSON.stringify(e.t0)),"error");case 21:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}();t.A=p},36770:function(e,t,n){n.d(t,{A:function(){return c}});var a,i,o=n(40450),r=n.n(o),s=(null===(a=(0,n(71376).zj)(r(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.common)||{},l=(null==s||null===(i=s.feature_flags)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.statuses)||{};function c(){return l[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]||!1}},90266:function(e,t,n){n.d(t,{A:function(){return c}});var a,i,o=n(40450),r=n.n(o),s=(null===(a=(0,n(71376).zj)(r(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.common)||{},l=(null==s||null===(i=s.data)||void 0===i?void 0:i.constants)||{};function c(){return l[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]||""}},33695:function(e,t,n){n.d(t,{A:function(){return c}});var a,i,o=n(40450),r=n.n(o),s=(null===(a=(0,n(71376).zj)(r(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.common)||{},l=(null==s||null===(i=s.data)||void 0===i?void 0:i.param_keys)||{};function c(){return l[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]||""}},49572:function(e,t,n){n.d(t,{A:function(){return m}});var a,i,o,r,s=n(40450),l=n.n(s),c=n(71376),d=n(90266),g=(null===(a=(0,c.zj)(l(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.components)||{},u=(null==g||null===(i=g.activity_log)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.caps)||{},_=(null==g||null===(o=g.settings)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.caps)||{},b=(null==g||null===(r=g.tools)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.caps)||{};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,d.A)(e);return u[t]||_[t]||b[t]||!1}},27764:function(e,t,n){var a,i=n(40450),o=n.n(i),r=(null===(a=(0,n(71376).zj)(o(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.common)||{};t.A=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{iconPrefix:"gravitysmtp-admin-icon",locked:(null==r||null===(e=r.data)||void 0===e||null===(e=e.locked_settings)||void 0===e?void 0:e.includes(n))||a,lockedMessage:i||(null==r||null===(t=r.i18n)||void 0===t?void 0:t.setting_locked)||""}}}}]);