"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[3409,628,812],{59238:function(e,t,a){a.r(t);var i=a(88856),n=a(8140),r=a(97867),o=a(62825),c=a(84860),s=a(3258),l=a(64688),m=a(72695),d=a(16954),u=a(23664),p=a(52217),v=a(98895);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,i.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y=r.React.useRef,_=r.ReactRouter.BrowserRouter,w=r.ReactRouter.Routes,b=r.ReactRouter.Route,h=r.ReactRouter.useSearchParams,E=(r.ReactRouter.useLocation,function(e){return r.React.createElement(d.default,e)});t.default=function(e){var t=e.data,a=e.endpoints,i=e.i18n,d=e.common,f=t.route_path.replace(window.location.origin,""),R=y(),O=function(e){var t=h(),a=(0,n.A)(t,2),i=a[0],o=(a[1],i.get(e.data.nav_item_param_key||"tab")||"activity-log");switch(R.current&&(R.current.scrollTop=0),o){case"activity-log":return r.React.createElement(u.default,e);case"log-details":return r.React.createElement(p.default,e);default:return null}},P={confirmButtonType:(0,v.default)((function(e){return e.confirmDialogConfirmButtonType})),i18n:g(g({},(null==d?void 0:d.i18n)||{}),(0,v.default)((function(e){return e.confirmDialogI18n}))),isOpen:(0,v.default)((function(e){return e.confirmDialogOpen})),onCancel:(0,v.default)((function(e){return e.confirmDialogOnCancel})),onConfirm:(0,v.default)((function(e){return e.confirmDialogOnConfirm}))};return r.React.createElement(_,null,r.React.createElement(c.n,{defaultSettings:{errorIconAttributes:{icon:"exclamation-simple",iconPrefix:"gravitysmtp-admin-icon"},successIconAttributes:{icon:"correct",iconPrefix:"gravitysmtp-admin-icon"}}},r.React.createElement("div",{className:"gravitysmtp-app__wrapper"},r.React.createElement(o.A,{customClasses:["gravitysmtp-activity-log-app"],Header:E,simpleBarRef:R,common:d,data:t,i18n:i},r.React.createElement("div",{className:"gravitysmtp-activity-log-app__content"},r.React.createElement(w,null,r.React.createElement(b,{path:f,element:r.React.createElement(O,{data:t,endpoints:a,i18n:i,common:d})})))),r.React.createElement(l.default,{data:t,common:d,i18n:i}),r.React.createElement(m.default,{data:t,common:d,i18n:i}),r.React.createElement(s.A,P))))}},64688:function(e,t,a){a.r(t);var i=a(71860),n=a(90455),r=a(88856),o=a(8140),c=a(78564),s=a.n(c),l=a(27122),m=a.n(l),d=a(97867),u=a(60177),p=a(71376),v=a(80509),f=a(29549),g=a(48959),y=a(84860),_=a(83707),w=a(93313),b=a(98895);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,r.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var R=d.React.forwardRef,O=d.React.useState,P=d.ReactRouter.useLocation,j=d.ReactRouter.useNavigate,A=R((function(e,t){var a,r,c=e.customAttributes,l=void 0===c?{}:c,h=e.customClasses,R=void 0===h?[]:h,A=e.common,C=void 0===A?{}:A,N=e.data,T=void 0===N?{}:N,k=e.i18n,D=void 0===k?{}:k,x=j(),S=P(),z=(0,b.default)((function(e){return e.deleteEventDialogOpen})),B=(0,b.default)((function(e){return e.setDeleteEventDialogOpen})),H=(0,b.default)((function(e){return e.deletingEventId})),I=(0,b.default)((function(e){return e.setDeletingEventId})),L=(0,b.default)((function(e){return e.deleteEventLog})),M=O(!1),F=(0,o.A)(M,2),J=F[0],V=F[1],W=(0,y.dh)(),U=(null==C||null===(a=C.endpoints)||void 0===a||null===(a=a.delete_email)||void 0===a?void 0:a.action)||"",q=(null==C||null===(r=C.endpoints)||void 0===r||null===(r=r.delete_email)||void 0===r?void 0:r.nonce)||"",G=((null==C?void 0:C.i18n)||{}).snackbar_email_log_delete_error,K=void 0===G?"":G,Q=D.confirm_delete_email_heading,X=void 0===Q?"":Q,Y=D.confirm_delete_email_content,Z=void 0===Y?"":Y,$=D.confirm_delete_email_delete,ee=void 0===$?"":$,te=D.confirm_delete_email_cancel,ae=void 0===te?"":te,ie=D.debug_messages,ne=void 0===ie?{}:ie,re=ne.deleting_single_activity_log,oe=void 0===re?"":re,ce=ne.deleting_single_activity_log_error,se=void 0===ce?"":ce,le=E({className:(0,d.classnames)({"gravitysmtp-delete-email":!0},R)},l),me=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=new URLSearchParams(S.search),i=T.nav_item_param_key||"tab";if("activity-log"!==a.get(i))if(a.delete("event_id"),a.set(i,"activity-log"),"activity-log"===(null==S||null===(e=S.state)||void 0===e?void 0:e.previous)){if(!t)return void x(-1);window.location.href="".concat(S.pathname,"?").concat(a.toString())}else{if(!t){var n=E(E({},S),{},{search:"?".concat(a.toString())});x(n,{state:{previous:"log-details"}})}window.location.href="".concat(S.pathname,"?").concat(a.toString())}else t&&window.location.reload()},de={onCloseAfterAnimation:function(){I(0),V(!1)},closeOnMaskClick:!1,customWrapperClasses:["gravitysmtp-delete-activity__dialog"],customCloseButtonLabelAttributes:{className:(0,d.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:Z,isOpen:z,maskTheme:"light",maxHeight:"90vh",mode:"modal",padContent:!1,position:"absolute",showCloseButton:!1,theme:"cosmos",title:X},ue=function(){var e=(0,n.A)(s().mark((function e(){var t,a,i,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),t={action:U,security:q,event_id:H},e.next=4,(0,_.A)((0,p.nv)(oe,JSON.stringify((0,w.A)(["security"],t))),"info");case 4:return e.prev=4,e.next=7,(0,u.bE)({endpoint:m(),body:t});case 7:null!=(i=e.sent)&&null!==(a=i.data)&&void 0!==a&&a.success?(L(H),W(null==i||null===(n=i.data)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)):W(K,"error"),B(!1),me(!0),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(4),W(e.t0,"error"),e.next=18,(0,_.A)((0,p.nv)(se,JSON.stringify(e.t0)),"error");case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();return d.React.createElement("div",(0,i.A)({},le,{ref:t}),d.React.createElement(g.A,de,d.React.createElement(f.A,{container:!0,customClasses:["gravitysmtp-delete-activity__dialog-actions"],justifyContent:"flex-start",columnSpacing:3,spacing:[8,0,0,0],type:"fluid"},d.React.createElement(f.A,{item:!0,width:6},d.React.createElement(v.A,{label:ae,onClick:function(){return B(!1)},type:"white",width:"full"})),d.React.createElement(f.A,{item:!0,width:6},d.React.createElement(v.A,{active:J,activeType:"loader",label:ee,onClick:ue,width:"full"})))))}));A.propTypes={customAttributes:d.PropTypes.object,customClasses:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.array,d.PropTypes.object]),common:d.PropTypes.object,data:d.PropTypes.object,i18n:d.PropTypes.object},t.default=A},16954:function(e,t,a){a.r(t);var i=a(71860),n=a(88856),r=a(97867),o=a(10997),c=a(30242),s=a(43632);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var m=(0,r.React.forwardRef)((function(e,t){var a=e.customAttributes,m=void 0===a?{}:a,d=e.customClasses,u=void 0===d?[]:d,p=e.common,v=void 0===p?{}:p,f=e.showModes,g=void 0===f||f,y=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,n.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({className:(0,r.classnames)({"gravitysmtp-activity-log-app__header":!0},u)},m),_=v.data,w=void 0===_?{}:_,b=w.debug_log_enabled,h=void 0!==b&&b,E=w.test_mode_enabled,R=void 0!==E&&E,O=v.i18n,P=void 0===O?{}:O,j=P.debug_log_enabled,A=void 0===j?"":j,C=P.test_mode_enabled,N=void 0===C?"":C;return r.React.createElement("div",(0,i.A)({},y,{ref:t}),r.React.createElement("div",{className:"gravitysmtp-activity-log-app__header-main"},r.React.createElement("div",{className:"gravitysmtp-activity-log-app__header-logo"},r.React.createElement(o.A,{height:22,width:220})),g&&r.React.createElement(c.A,{customClasses:["gravitysmtp-header__status"],setDisplay:!1},h&&r.React.createElement(s.A,{status:"warning",size:"sm",spacing:[0,R?4:0,0,0],label:A,isStatic:!0}),R&&r.React.createElement(s.A,{status:"blue",size:"sm",label:N,isStatic:!0}))))}));m.propTypes={customAttributes:r.PropTypes.object,customClasses:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.array,r.PropTypes.object])},m.displayName="ActivityLogHeader",t.default=m},72695:function(e,t,a){a.r(t);var i=a(71860),n=a(88856),r=a(8140),o=a(97867),c=a(62825),s=a(16954),l=a(48959),m=a(15635),d=a(32722),u=a(80509),p=a(5529),v=a(25980),f=a(66598),g=a(98895);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var _=o.React.forwardRef,w=o.React.useEffect,b=o.React.useState,h=function(e){var t=e.wrapperClasses,a=void 0===t?[]:t,i=e.dot,n=void 0===i||i,r=e.width,c=void 0===r?"62px":r,s={className:(0,o.classnames)(["gravitysmtp-view-email__placeholder-stripe"],a)};return o.React.createElement("div",s,n&&o.React.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-dot"}),o.React.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-line",style:{width:c}}))},E=_((function(e,t){var a,_,E=e.customAttributes,R=void 0===E?{}:E,O=e.customClasses,P=void 0===O?[]:O,j=e.common,A=void 0===j?{}:j,C=e.data,N=void 0===C?{}:C,T=e.i18n,k=void 0===T?{}:T,D=(0,g.default)((function(e){return e.viewEmailDialogOpen})),x=(0,g.default)((function(e){return e.setViewEmailDialogOpen})),S=(0,g.default)((function(e){return e.viewEmailEventId})),z=(0,g.default)((function(e){return e.viewEmailEventIsHtml})),B=(0,g.default)((function(e){return e.viewEmailEventDate})),H=(0,g.default)((function(e){return e.viewEmailEventFromHash})),I=(0,g.default)((function(e){return e.viewEmailEventFrom})),L=(0,g.default)((function(e){return e.viewEmailEventTo})),M=(0,g.default)((function(e){return e.viewEmailEventTitle})),F=(0,g.default)((function(e){return e.setViewEmailEventProperties})),J=b(!1),V=(0,r.A)(J,2),W=V[0],U=V[1],q=b("desktop"),G=(0,r.A)(q,2),K=G[0],Q=G[1],X=(null==A||null===(a=A.endpoints)||void 0===a||null===(a=a.get_email_message)||void 0===a?void 0:a.action)||"",Y=(null==A||null===(_=A.endpoints)||void 0===_||null===(_=_.get_email_message)||void 0===_?void 0:_.nonce)||"",Z="".concat(null==N?void 0:N.ajax_url,"?action=").concat(X,"&security=").concat(Y,"&event_id=").concat(S),$=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,n.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({className:(0,o.classnames)({"gravitysmtp-view-email":!0},P)},R),ee={className:(0,o.classnames)({"gravitysmtp-view-email__sidebar-container":!0,"gravitysmtp-view-email__sidebar-container--loading":W})},te={className:(0,o.classnames)((0,n.A)({"gravitysmtp-view-email__container":!0,"gravitysmtp-view-email__container--html-mode":z},"gravitysmtp-view-email__container--".concat(K,"-mode"),!0))},ae=(null==k?void 0:k.log_detail)||{},ie=ae.main_box_from_label,ne=ae.main_box_to_label,re=ae.view_email_desktop_mode,oe=ae.view_email_mobile_mode;w((function(){D&&U(!0),Q("desktop")}),[D]);var ce={closeButtonType:"simplified",onCloseAfterAnimation:function(){F({date:"",isHtml:!1,id:0,fromHash:"",from:"",to:"",title:""}),x(!1)},customWrapperClasses:["gravitysmtp-view-email__dialog"],customMaskClasses:["gravitysmtp-view-email__mask"],customCloseButtonLabelAttributes:{className:(0,o.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:"",isOpen:D,maskTheme:"light",mode:"modal",padContent:!1,position:"absolute",theme:"cosmos",version:2,zIndex:100001},se=[62,62,55,81,81,55],le={className:(0,o.classnames)({"gravitysmtp-view-email__header-details-meta":!0,"gravitysmtp-view-email__header-details-meta--loading":W})};return o.React.createElement("div",(0,i.A)({},$,{ref:t}),o.React.createElement(l.A,ce,o.React.createElement(c.A,{customClasses:["gravitysmtp-view-email-layout"],Header:function(e){return o.React.createElement(s.default,(0,i.A)({},e,{showModes:!1}))},PrimarySideBarChildren:function(){return o.React.createElement("div",ee,se.map((function(e,t){return o.React.createElement(h,{key:"stripe-".concat(t,"-").concat(e),width:"".concat(e,"px")})})))},data:N,simplebarContent:!1},o.React.createElement("div",te,o.React.createElement("div",{className:"gravitysmtp-view-email__header"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-title-wrapper"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-title"},""!==M&&!W&&o.React.createElement(p.A,{customClasses:["gravitysmtp-view-email__header-title-subject"],tagName:"h2",size:"text-xl",weight:"medium",content:M}),W&&o.React.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"35%"})),!W&&o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-actions"},o.React.createElement(u.A,{icon:"desktop",iconPrefix:"gravitysmtp-admin-icon",label:re,onClick:function(){return Q("desktop")},size:"size-height-s",spacing:[0,3,0,0],type:"icon-white"}),o.React.createElement(u.A,{icon:"mobile",iconPrefix:"gravitysmtp-admin-icon",label:oe,onClick:function(){return Q("mobile")},size:"size-height-s",type:"icon-white"}))),o.React.createElement("div",{className:"gravitysmtp-view-email__header-details"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-left"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-image"},o.React.createElement(v.A,{customClasses:["gravitysmtp-view-email__header-details-default"],icon:"account",iconPrefix:"gravitysmtp-admin-icon"}),""!==H&&o.React.createElement(m.A,{customClasses:["gravitysmtp-view-email__header-details-gravatar"],emailHash:H,height:40,width:40,defaultImage:"blank"})),o.React.createElement("div",le,W&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-from gravitysmtp-view-email__header-details-from--has-loader"},o.React.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"75%"})),W&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},o.React.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"45%"})),!W&&""!==I&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-from"},o.React.createElement(f.A,{tagName:"span",size:"text-sm",weight:"semibold",content:ie})," ",o.React.createElement(f.A,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:I})),!W&&""!==L&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},o.React.createElement(f.A,{weight:"semibold",tagName:"span",size:"text-sm",content:ne})," ",o.React.createElement(f.A,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:L})))),o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-right"},!W&&""!==B&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-date"},o.React.createElement(f.A,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-xs",content:B}))))),o.React.createElement("div",{className:"gravitysmtp-view-email__wrapper"},W&&o.React.createElement(d.A,{loaderCustomAttributes:{mask:!0,maskCustomClasses:["gravitysmtp-view-email__iframe-loader-mask"]}}),0!==S&&o.React.createElement("iframe",{className:"gravitysmtp-view-email__iframe",onLoad:function(){U(!1)},title:M,src:Z}))))))}));E.propTypes={customAttributes:o.PropTypes.object,customClasses:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.array,o.PropTypes.object]),common:o.PropTypes.object,data:o.PropTypes.object,i18n:o.PropTypes.object},t.default=E},98846:function(e,t,a){a.r(t);var i,n,r=a(71860),o=a(97867),c=a(40450),s=a.n(c),l=a(59238),m=o.ReactDOM.createRoot,d=(null===s()||void 0===s()?void 0:s().common)||{},u=(null===s()||void 0===s()||null===(i=s().components)||void 0===i?void 0:i.activity_log)||{},p=(null===s()||void 0===s()||null===(n=s().components)||void 0===n?void 0:n.setup_wizard)||{};t.default=function(e){var t;null!=p&&null!==(t=p.data)&&void 0!==t&&t.should_display&&document.body.classList.add("gravitysmtp-apps--hidden"),window.scrollTo(0,0),m(e).render(o.React.createElement(l.default,(0,r.A)({},u,{common:d})))}}}]);