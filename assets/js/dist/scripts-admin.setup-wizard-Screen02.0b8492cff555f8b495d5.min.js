"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[8356,1967,6018,9529],{2142:function(t,e,n){n.r(e);var r=n(5720),i=n(9801),o=n(6588),a=n(5210),u=n(9509),c=n.n(u),s=n(9608),l=n.n(s),d=n(7784),p=n(760),f=n(4070),v=n(375),g=n(9805),m=n(6192),b=n(7024),y=n(5271),_=n(5806),w=n(5212),h=n(2077),S=n(9208),Z=n(1047),O=d.React.useEffect,A=d.React.useRef,P=d.React.useState;e.default=function(t){var e,n,u,s=t.data,k=t.endpoints,z=t.i18n,x=z.debug_messages,C=void 0===x?{}:x,E=C.migrating_data,j=C.migrating_data_error,B=z.setup_wizard_next_button,N=z.setup_wizard_import_data_title,R=z.setup_wizard_import_data_copy,D=s.import_data,F=s.integrations,I=(0,Z.default)((function(t){return t.activeStep})),L=(0,Z.default)((function(t){return t.isAnimatedIn})),M=(0,Z.default)((function(t){return t.importPlugin})),G=(0,Z.default)((function(t){return t.setActiveStepNext})),T=(0,Z.default)((function(t){return t.setHasDebugError})),U=(0,Z.default)((function(t){return t.setImportPlugin})),H=(0,Z.default)((function(t){return t.setIntegrationSettingsFormData})),J=(0,Z.default)((function(t){return t.setSettingsUpdated})),V=(null==k||null===(e=k.migrate_settings)||void 0===e?void 0:e.action)||"",W=(null==k||null===(n=k.migrate_settings)||void 0===n?void 0:n.nonce)||"",q=P(!1),K=(0,a.Z)(q,2),Q=K[0],X=K[1],Y=function t(e,n,r){e.forEach((function(e){var i,o;((null===(i=e.props)||void 0===i?void 0:i.name)===n||"InputGroup"===e.component&&(null===(o=e.props)||void 0===o?void 0:o.id)==="".concat(n,"_group"))&&("Toggle"===e.component?e.props.initialChecked=r:"InputGroup"===e.component?e.props.initialValue=r:e.props.value=r),e.fields&&t(e.fields,n,r)}))},$=function(t,e){t.forEach((function(t){var n=e[t.id];"object"!==(0,o.Z)(n)||null===n||Array.isArray(n)||Object.entries(n).forEach((function(e){var n=(0,a.Z)(e,2),r=n[0],i=n[1];t.settings&&Array.isArray(t.settings.fields)&&Y(t.settings.fields,r,i)}))}))},tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(t).forEach((function(t){var e=(0,a.Z)(t,2),n=e[0],r=e[1];"object"===(0,o.Z)(r)&&null!==r&&!Array.isArray(r)&&Object.keys(r).length>0&&Object.entries(r).forEach((function(t){var e=(0,a.Z)(t,2),r=e[0],i=e[1];H(n,r,i)}))}))},et=function(){var t=(0,i.Z)(c().mark((function t(){var e,n,r,i,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={action:V,security:W,plugin_to_migrate:M},t.next=4,(0,h.Z)((0,v.gB)(E,JSON.stringify((0,S.Z)(["security"],n))),"info");case 4:return t.next=6,(0,f.v_)({endpoint:l(),body:n});case 6:if(r=t.sent,X(!1),null!=r&&null!==(e=r.data)&&void 0!==e&&e.success){t.next=15;break}return t.next=12,(0,h.Z)((0,v.gB)(j,JSON.stringify(null==r?void 0:r.error)),"error");case 12:T(!0),t.next=18;break;case 15:tt(null==r||null===(i=r.data)||void 0===i?void 0:i.data),$(F,null==r||null===(o=r.data)||void 0===o?void 0:o.data),J();case 18:t.next=26;break;case 20:return t.prev=20,t.t0=t.catch(0),t.next=25,(0,h.Z)((0,v.gB)(j,JSON.stringify(t.t0)),"error");case 25:T(!0);case 26:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(){return t.apply(this,arguments)}}(),nt=D.filter((function(t){return t.activated})).map((function(t){var e="import_data_".concat(t.id),n=w["".concat(t.logo,"Logo")];return{id:e,labelAttributes:{label:t.title},name:"import_data",type:"image",value:t.id,children:d.React.createElement(n,null)}})),rt=A();O((function(){2===I&&rt.current&&rt.current.focus()}),[I]);var it,ot={ref:(0,p.P5)(2===I&&L),className:(0,d.classnames)((0,r.Z)({"gravitysmtp-setup-wizard__screen":!0},"gravitysmtp-setup-wizard__screen--step-".concat(2),!0)),"aria-hidden":2!==I,"data-test-id":"setup-wizard-screen-02"},at=(null===(u=D.filter((function(t){return t.activated&&t.initialChecked}))[0])||void 0===u?void 0:u.id)||"";return d.React.createElement("div",ot,d.React.createElement("div",{className:"gravitysmtp-setup-wizard__screen-inner"},d.React.createElement(d.SimpleBar,{scrollableNodeProps:{ref:rt}},d.React.createElement("div",{className:"gravitysmtp-setup-wizard__content"},d.React.createElement(g.Z,{customClasses:["gravitysmtp-setup-wizard__content-header"],spacing:6},d.React.createElement(m.Z,{content:N,spacing:4,size:"display-sm",tagName:"h2",weight:"medium"}),d.React.createElement(b.Z,{content:R,spacing:8})),d.React.createElement(y.Z,{customClasses:["gravitysmtp-setup-wizard__content-cards","gform-grid--container","gform-grid--wrap","gform-grid--row-spacing-6","gform-grid--col-spacing-6"],data:nt,id:"import_data",inputType:"radio",initialValue:at,onChange:function(t,e){return U(e.target.value)},useWrapper:!0,wrapperAttributes:{customClasses:["gravitysmtp-setup-wizard__content-card","gform-grid--item"]}}),d.React.createElement(_.default,{i18n:z,backButtonCustomAttributes:{customAttributes:{"data-test-id":"setup-wizard-screen-02-back-button"}},nextButtonCustomAttributes:{disabled:!M||Q,onClick:(it=(0,i.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return X(!0),t.next=3,et();case 3:G();case 4:case"end":return t.stop()}}),t)}))),function(){return it.apply(this,arguments)}),active:Q,activeType:"loader",activeText:B,icon:Q?"":"arrow-narrow-right",lockSize:!0,customAttributes:{"data-test-id":"setup-wizard-screen-02-next-button"}},skipButtonCustomAttributes:{customAttributes:{"data-test-id":"setup-wizard-screen-02-skip-button"}}})))))}},5806:function(t,e,n){n.r(e);var r=n(107),i=n(5720),o=n(5689),a=n(7784),u=n(9805),c=n(7343),s=n(1047),l=["customClasses"],d=["customClasses"],p=["customClasses"],f=["customClasses"];function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m=(0,a.React.forwardRef)((function(t,e){var n=t.backButtonCustomAttributes,i=void 0===n?{}:n,v=t.nextButtonCustomAttributes,m=void 0===v?{}:v,b=t.i18n,y=t.showBackButton,_=void 0===y||y,w=t.showSkipButton,h=void 0===w||w,S=t.showNextButton,Z=void 0===S||S,O=t.skipButtonCustomAttributes,A=void 0===O?{}:O,P=t.wrapperCustomAttributes,k=void 0===P?{}:P,z=b.setup_wizard_back_button,x=b.setup_wizard_skip_button,C=b.setup_wizard_next_button,E=(0,s.default)((function(t){return t.setActiveStepNext})),j=(0,s.default)((function(t){return t.setActiveStepPrevious})),B=(0,s.default)((function(t){return t.setActiveNavBarStepNext})),N=(0,s.default)((function(t){return t.setActiveNavBarStepPrevious})),R=k.customClasses,D=(0,o.Z)(k,l),F=g({customClasses:a.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-buttons"]].concat((0,r.Z)(R||[]))),display:"flex",spacing:[6,0,0],ref:e},D),I=i.customClasses,L=(0,o.Z)(i,d),M=g({customClasses:a.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--back"]].concat((0,r.Z)(I||[]))),icon:"arrow-narrow-left",iconPrefix:"gravitysmtp-admin-icon",label:z,size:"size-height-xl",type:"icon-white",onClick:function(){j(),N()}},L),G=A.customClasses,T=(0,o.Z)(A,p),U=g({customClasses:a.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--skip"]].concat((0,r.Z)(G||[]))),icon:"arrow-narrow-right",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"trailing",label:x,size:"size-height-xl",type:"white",onClick:function(){E(),B()}},T),H=m.customClasses,J=(0,o.Z)(m,f),V=g({customClasses:a.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--next"]].concat((0,r.Z)(H||[]))),icon:"arrow-narrow-right",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"trailing",label:C,size:"size-height-xl",onClick:function(){E(),B()}},J);return a.React.createElement(u.Z,F,_&&a.React.createElement(c.Z,M),h&&a.React.createElement(c.Z,U),Z&&a.React.createElement(c.Z,V))}));e.default=m},5212:function(t,e,n){n.r(e),n.d(e,{BrevoFullLogo:function(){return r.Z},CustomSMTPFullLogo:function(){return i.Z},GoogleAltLogo:function(){return o.Z},GoogleFullLogo:function(){return a.Z},GravityFormsStackedLogo:function(){return u.Z},GravitySMTPFullLogo:function(){return c.Z},MailFailedBg:function(){return s.Z},MailSuccessBg:function(){return d.Z},MailgunFullLogo:function(){return l.Z},MicrosoftAltLogo:function(){return p.Z},MicrosoftFullLogo:function(){return f.Z},PHPFullLogo:function(){return v.Z},PostmarkFullLogo:function(){return g.Z},SendGridFullLogo:function(){return m.Z},WPMailSMTPFullLogo:function(){return b.Z}});var r=n(1345),i=n(1219),o=n(4270),a=n(4077),u=n(3811),c=n(2635),s=n(9228),l=n(1285),d=n(1917),p=n(962),f=n(7571),v=n(6516),g=n(3989),m=n(1215),b=n(7478)},1047:function(t,e,n){n.r(e);var r,i,o,a,u,c=n(5720),s=n(7784),l=n(760),d=n(375),p=n(3267),f=n.n(p);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m,b,y=(null===(r=(0,d.iE)(f(),"gravitysmtp_admin_config"))||void 0===r||null===(r=r.components)||void 0===r?void 0:r.setup_wizard)||{},_=(null===(o=((null==y||null===(i=y.data)||void 0===i?void 0:i.import_data)||[]).filter((function(t){return t.activated&&t.initialChecked}))[0])||void 0===o?void 0:o.id)||"",w="",h=g(g({hasDebugError:!1,isAnimatedIn:!1,integrationSetupAction:"skip",setupStatus:"skipped",settingsUpdated:!1,shouldRedirect:(null==y||null===(a=y.data)||void 0===a?void 0:a.should_display)||!1,integrationSettingsFormData:(b={},null==y||null===(m=y.data)||void 0===m||null===(m=m.integrations)||void 0===m||m.forEach((function(t){var e;b[t.id]=(null==t?void 0:t.data)||{},null!==(e=b[t.id])&&void 0!==e&&e.enabled&&(w=t.id)})),b)},(null===(u=(0,d.iE)(f(),"gravitysmtp_admin_config"))||void 0===u||null===(u=u.components)||void 0===u||null===(u=u.setup_wizard)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.defaults)||{}),{},{integration:w,importPlugin:_}),S=(0,l.Ue)(h,(function(t){return{closeDialog:function(){return t((function(){return{isOpen:!1}}))},openDialog:function(){return t((function(){return{isOpen:!0}}))},setActiveStepNext:function(){return t((function(t){return{activeStep:t.activeStep+1}}))},setActiveStepPrevious:function(){return t((function(t){return{activeStep:t.activeStep-1}}))},setActiveStep:function(e){return t((function(){return{activeStep:e}}))},setActiveNavBarStepNext:function(){return t((function(t){return{activeNavBarStep:t.activeNavBarStep+1}}))},setActiveNavBarStepPrevious:function(){return t((function(t){return{activeNavBarStep:t.activeNavBarStep-1}}))},setActiveNavBarStep:function(e){return t((function(){return{activeNavBarStep:e}}))},setHasDebugError:function(e){return t((function(){return{hasDebugError:e}}))},setImportPlugin:function(e){return t((function(){return{importPlugin:e}}))},setIntegration:function(e){return t((function(){return{integration:e}}))},setIsAnimatedIn:function(e){return t((function(){return{isAnimatedIn:e}}))},setIntegrationSetupAction:function(e){return t((function(){return{integrationSetupAction:e}}))},setSetupStatus:function(e){return t((function(){return{setupStatus:e}}))},setSettingsUpdated:function(){return t((function(){return{settingsUpdated:!0}}))},setShouldRedirect:function(e){return t((function(){return{shouldRedirect:e}}))},setInnerDialogOpen:function(e){return t((function(){return{innerDialogOpen:e}}))},setIntegrationSettingsFormData:function(e,n,r){return t((0,s.immer)((function(t){t.integrationSettingsFormData[e]||(t.integrationSettingsFormData[e]={}),t.integrationSettingsFormData[e][n]=r})))}}}));e.default=S},2077:function(t,e,n){n.d(e,{Z:function(){return f}});var r,i=n(9801),o=n(9509),a=n.n(o),u=n(9608),c=n.n(u),s=n(3267),l=n.n(s),d=n(4070),p=(null===(r=(0,n(375).iE)(l(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{};function f(){return v.apply(this,arguments)}function v(){return v=(0,i.Z)(a().mark((function t(){var e,n,r,i,o,u,s,l,f,v,g=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=g.length>0&&void 0!==g[0]?g[0]:"",i=g.length>1&&void 0!==g[1]?g[1]:"debug",o=p.data,u=void 0===o?{}:o,s=p.endpoints,f=(null==(l=void 0===s?{}:s)||null===(e=l.log_debug_item)||void 0===e?void 0:e.action)||"",v=(null==l||null===(n=l.log_debug_item)||void 0===n?void 0:n.nonce)||"",null!=u&&u.debug_log_enabled&&f&&v&&r){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,(0,d.v_)({endpoint:c(),body:{action:f,security:v,message:r,priority:i}}).catch((function(t){}));case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}},9208:function(t,e,n){var r=n(6588),i=n(5210);e.Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return function n(o){return Object.entries(o).reduce((function(o,a){var u=(0,i.Z)(a,2),c=u[0],s=u[1];return"object"===(0,r.Z)(s)&&null!==s?o[c]=n(s):t.includes(c)?o[c]=null===s?null:e.repeat(s.length):o[c]=s,o}),Array.isArray(o)?[]:{})}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}}]);