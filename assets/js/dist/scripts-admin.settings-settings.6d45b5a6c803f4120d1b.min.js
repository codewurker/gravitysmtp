"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[4678,5685,2940,642],{4085:function(e,t,n){n.r(t);var r=n(6796),i=n(5720),a=n(7784),o=n(8288),s=n(9805),c=n(8631),l=n(7866);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var g=(0,a.React.forwardRef)((function(e,t){var n=e.customAttributes,g=void 0===n?{}:n,p=e.customClasses,d=void 0===p?[]:p,m=e.common,_=void 0===m?{}:m,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,a.classnames)({"gravitysmtp-settings-app__header":!0},d)},g),v=_.i18n,b=void 0===v?{}:v,y=b.debug_log_enabled,h=void 0===y?"":y,O=b.test_mode_enabled,w=void 0===O?"":O,x=(0,l.default)((function(e){return e.debugLogEnabled})),P=(0,l.default)((function(e){return e.testModeEnabled}));return a.React.createElement("div",(0,r.Z)({},f,{ref:t}),a.React.createElement("div",{className:"gravitysmtp-settings-app__header-logo"},a.React.createElement(o.GravitySMTPLogo,null)),a.React.createElement("div",{className:"gravitysmtp-settings-app__header-main"},a.React.createElement(o.GravitySMTPTextLogo,null),a.React.createElement(s.Z,{customClasses:["gravitysmtp-header__status"],setDisplay:!1},x&&a.React.createElement(c.Z,{status:"warning",size:"sm",spacing:[0,P?4:0,0,0],label:h,isStatic:!0}),P&&a.React.createElement(c.Z,{status:"blue",size:"sm",label:w,isStatic:!0}))))}));g.propTypes={customAttributes:a.PropTypes.object,customClasses:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.array,a.PropTypes.object])},g.displayName="SettingsHeader",t.default=g},3643:function(e,t,n){n.r(t);var r=n(6796),i=n(9801),a=n(5210),o=n(5720),s=n(9509),c=n.n(s),l=n(9608),u=n.n(l),g=n(7784),p=n(4070),d=n(375),m=n(8777),_=n(9805),f=n(7343),v=n(1480),b=n(4237),y=n(8957),h=n(7003),O=n(2077),w=n(9208),x=n(4582),P=n(7866);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Z=g.React.forwardRef,E=g.React.useState,j=g.React.useRef,k=Z((function(e,t){var n,s,l,Z,k,S,C=e.customAttributes,T=void 0===C?{}:C,D=e.customClasses,z=void 0===D?[]:D,A=e.common,N=void 0===A?{}:A,B=e.data,L=void 0===B?{}:B,I=e.i18n,J=void 0===I?{}:I,H=(null==J?void 0:J.integrations)||{},M=H.integration_settings_apply,F=H.integration_settings_cancel,U=H.integration_settings_error,W=(null==N?void 0:N.i18n)||{},G=W.debug_messages,V=void 0===G?{}:G,X=V.saving_integration_settings,$=void 0===X?"":X,q=V.saving_integration_settings_error,K=void 0===q?"":q,Q=W.snackbar_api_save_success,Y=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,g.classnames)({"gravitysmtp-integration-settings":!0},z)},T),ee=(0,P.default)((function(e){return e.activeIntegrationSettings})),te=(0,P.default)((function(e){return e.integrationSettingsFormData})),ne=(0,P.default)((function(e){return e.integrationSettingsDialogOpen})),re=E(!1),ie=(0,a.Z)(re,2),ae=ie[0],oe=ie[1],se=j(null),ce=(0,P.default)((function(e){return e.setIntegrationSettingsDialogOpen})),le=(0,P.default)((function(e){return e.updateIntegrationStatus})),ue=(0,P.default)((function(e){return e.setIntegrationSettingsFormData})),ge=(0,d.Bl)(L,"id",ee),pe=(null==ge||null===(n=ge.settings)||void 0===n?void 0:n.fields)||[],de=(null==N||null===(s=N.endpoints)||void 0===s||null===(s=s.save_connector_settings)||void 0===s?void 0:s.action)||"",me=(null==N||null===(l=N.endpoints)||void 0===l||null===(l=l.save_connector_settings)||void 0===l?void 0:l.nonce)||"",_e=(0,b.Ds)(),fe=(null==ge||null===(Z=ge.settings)||void 0===Z?void 0:Z.hide_save)||!1,ve=function(){var e=(0,i.Z)(c().mark((function e(){var t,n,r,i,a,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=se&&se.current&&(t=se.current.offsetWidth,se.current.style.width="".concat(t,"px")),oe(!0),n={action:de,security:me,settings:te[ee],connector_type:ee},e.next=5,(0,O.Z)((0,d.gB)($,ee,JSON.stringify((0,w.Z)(["api_key","server_api_token","password","security"],n))),"info");case 5:return e.prev=5,e.next=8,(0,p.v_)({endpoint:u(),body:n});case 8:null!=(i=e.sent)&&null!==(r=i.data)&&void 0!==r&&r.success?(_e(Q),le(ee,{configured:!0}),(0,m.saveActivationState)(ee,de,me,{configured:!0}),setTimeout((function(){ce(!1)}),1e3)):(s=(0,d.sO)(null==i||null===(a=i.error)||void 0===a||null===(a=a.detail)||void 0===a?void 0:a.data)?JSON.parse(null==i||null===(o=i.error)||void 0===o||null===(o=o.detail)||void 0===o?void 0:o.data):"",_e((null==s?void 0:s.data)||U,"error")),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,(0,O.Z)((0,d.gB)(K,ee,JSON.stringify(e.t0)),"error");case 16:case 17:oe(!1),null!=se&&se.current&&(se.current.style.width="");case 19:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),be={closeButtonType:"simplified",customCloseButtonLabelAttributes:{className:(0,g.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},customMaskClasses:["gravitysmtp-integration-settings__mask"],description:null==ge||null===(k=ge.settings)||void 0===k?void 0:k.description,isOpen:ne,maskTheme:"light",maxHeight:"calc(90vh - 80px)",mode:"modal",onClose:function(){if(new URLSearchParams(window.location.search).has("integration")){var e=new URL(window.location.href),t=new URLSearchParams(e.search);t.delete("integration"),e.search=t.toString(),window.history.pushState({path:e.toString()},"",e.toString())}ce(!1)},padContent:!1,position:"absolute",simplebar:!0,theme:"cosmos",title:null==ge||null===(S=ge.settings)||void 0===S?void 0:S.title,titleSize:"md",titleTagName:"h3",version:2},ye=(0,g.classnames)({"gravitysmtp-integration-settings__save":!0,"gravitysmtp-integration-settings__save--saving":ae}),he=(0,h.Z)(pe,{activeIntegrationSettings:ee,integrationSettingsFormData:te,saveConnectorSettings:ve,savingSettings:ae,Svgs:x,i18n:null==N?void 0:N.i18n,addSnackBarMessage:_e});return g.React.createElement("div",(0,r.Z)({},Y,{ref:t}),g.React.createElement(v.Z,be,g.React.createElement("form",{id:ee},g.React.createElement(y.Z,{id:ee,fields:he,setFieldData:function(e,t){return ue(ee,e,t)}})),g.React.createElement(_.Z,{customClasses:["gravitysmtp-integration-settings__actions"],display:"flex",spacing:[8,0,0,0]},g.React.createElement(f.Z,{label:F,onClick:function(){return ce(!1)},size:"size-height-m",type:"white"}),!fe&&g.React.createElement(f.Z,{active:ae,activeType:"loader",customClasses:ye,icon:"save-disk",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:M,onClick:ve,ref:se,spacing:[0,0,0,3],size:"size-height-m"}))))}));k.propTypes={customAttributes:g.PropTypes.object,customClasses:g.PropTypes.oneOfType([g.PropTypes.string,g.PropTypes.array,g.PropTypes.object]),common:g.PropTypes.object,data:g.PropTypes.object,i18n:g.PropTypes.object},k.displayName="IntegrationSettings",t.default=k},9694:function(e,t,n){n.r(t);var r=n(6796),i=n(5720),a=n(7784),o=n(223);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=a.React.forwardRef,u=a.ReactRouter.useLocation,g=l((function(e,t){var n=e.customAttributes,i=void 0===n?{}:n,s=e.customClasses,l=void 0===s?[]:s,g=e.data,p=void 0===g?{}:g,d=e.disabledNavItems,m=void 0===d?[]:d,_=p.nav_items,f=void 0===_?[]:_,v=u(),b=f.filter((function(e){return!m.includes(e.param)})).map((function(e,t){var n=e.param,r=e.label,i=e.icon,a={item:{customClasses:["gravitysmtp-settings-app__nav-bar-item","gravitysmtp-settings-app__nav-bar-item--".concat(n)],key:"".concat(n,"-").concat(t)},icon:{customClasses:["gravitysmtp-settings-app__nav-bar-item-icon"],icon:i,iconPrefix:"gravitysmtp-admin-icon"},text:{content:r,customClasses:["gravitysmtp-settings-app__nav-bar-item-text"]}};if(m.includes(n))return c(c({},a),{},{item:c(c({},a.item),{},{active:!1,disabled:!0}),button:{customClasses:["gravitysmtp-settings-app__nav-bar-item-button","gravitysmtp-settings-app__nav-bar-item-button--".concat(n)],size:"size-height-m",type:"icon-white",disabled:!0}});var o=new URLSearchParams(v.search),s=p.nav_item_param_key||"tab",l=o.get(s);o.set(s,n);var u=c(c({},v),{},{search:"?".concat(o.toString())});return c(c({},a),{},{item:c(c({},a.item),{},{active:l===n}),link:{customClasses:["gravitysmtp-settings-app__nav-bar-item-link","gravitysmtp-settings-app__nav-bar-item-link--".concat(n)],to:u}})})),y=c({customClasses:(0,a.classnames)(["gravitysmtp-settings-app__nav-bar"],l),items:b,type:"icon-button"},i);return a.React.createElement(o.Z,(0,r.Z)({},y,{ref:t}))}));g.propTypes={children:a.PropTypes.oneOfType([a.PropTypes.arrayOf(a.PropTypes.node),a.PropTypes.node]),customAttributes:a.PropTypes.object,customClasses:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.array,a.PropTypes.object])},g.displayName="NavBar",t.default=g},9997:function(e,t,n){n.r(t);var r=n(6796),i=n(9801),a=n(5720),o=n(9509),s=n.n(o),c=n(9608),l=n.n(c),u=n(7784),g=n(4070),p=n(375),d=n(9805),m=n(7343),_=n(6192),f=n(6901),v=n(7511),b=n(7024),y=n(7066),h=n(2030),O=n(4237),w=n(2077),x=n(9208),P=n(7866);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Z=(0,u.React.forwardRef)((function(e,t){var n,o,c=e.customAttributes,Z=void 0===c?{}:c,E=e.customClasses,j=void 0===E?[]:E,k=e.common,S=void 0===k?{}:k,C=e.data,T=void 0===C?{}:C,D=e.i18n,z=void 0===D?{}:D,A=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,u.classnames)({"gravitysmtp-settings-app__logging":!0},j)},Z),N=(null==z?void 0:z.logging)||{},B=N.top_heading,L=N.top_content,I=N.logging_box_heading,J=N.enable_log_heading,H=N.enable_log_label,M=N.email_log_retention_label,F=N.email_log_retention_helper_text,U=N.error_saving_snackbar_message,W=N.debug_logging_box_heading,G=N.enable_debug_log_label,V=N.enable_debug_log_helper_text,X=N.debug_log_retention_label,$=N.debug_log_retention_helper_text,q=N.view_debug_log_button_text,K=N.delete_debug_log_button_text,Q=N.delete_debug_log_dialog_confirm_change_heading,Y=N.delete_debug_log_dialog_confirm_change_content,ee=N.delete_debug_log_dialog_confirm_change_confirm,te=N.snackbar_debug_log_delete_error,ne=N.snackbar_debug_log_delete_success,re=(null==T?void 0:T.email_log_settings)||{},ie=re.email_log_enabled,ae=re.email_log_retention,oe=re.retention_options,se=(null==T?void 0:T.debug_log_settings)||{},ce=se.debug_log_retention,le=se.debug_log_url,ue=se.retention_options,ge=S||{},pe=ge.i18n,de=void 0===pe?{}:pe,me=de.debug_messages,_e=void 0===me?{}:me,fe=_e.deleting_all_debug_logs,ve=void 0===fe?"":fe,be=_e.deleting_all_debug_logs_error,ye=void 0===be?"":be,he=_e.saving_plugin_settings,Oe=void 0===he?"":he,we=_e.saving_plugin_settings_error,xe=void 0===we?"":we,Pe=de.snackbar_generic_update_success,Re=void 0===Pe?"":Pe,Ze=ge.endpoints,Ee=(void 0===Ze?{}:Ze).delete_debug_logs,je=void 0===Ee?{}:Ee,ke=je.action,Se=void 0===ke?"":ke,Ce=je.nonce,Te=void 0===Ce?"":Ce,De=(null==T?void 0:T.caps)||{},ze=(null==S||null===(n=S.endpoints)||void 0===n||null===(n=n.save_plugin_settings)||void 0===n?void 0:n.action)||"",Ae=(null==S||null===(o=S.endpoints)||void 0===o||null===(o=o.save_plugin_settings)||void 0===o?void 0:o.nonce)||"",Ne=(0,P.default)((function(e){return e.debugLogEnabled})),Be=(0,P.default)((function(e){return e.setDebugLogEnabled})),Le=(0,P.default)((function(e){return e.setConfirmDialogSettings})),Ie=(0,P.default)((function(e){return e.setConfirmDialogOpen})),Je=(0,O.Ds)(),He=function(){var e=(0,i.Z)(s().mark((function e(){var t,n,r,i,a,o=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={action:ze,security:Ae,key:t=o.length>0&&void 0!==o[0]?o[0]:"",value:n=o.length>1&&void 0!==o[1]?o[1]:""},e.next=5,(0,w.Z)((0,p.gB)(Oe,JSON.stringify((0,x.Z)(["security"],r))),"info");case 5:return e.prev=5,e.next=8,(0,g.v_)({endpoint:l(),body:r});case 8:null!=(a=e.sent)&&null!==(i=a.data)&&void 0!==i&&i.success?(T.email_log_settings[t]=n,["event_log_retention","debug_log_retention"].includes(t)&&Je(Re,"success")):Je(U,"error"),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=17,(0,w.Z)((0,p.gB)(xe,JSON.stringify(e.t0)),"error");case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=(0,i.Z)(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={action:Se,security:Te,all_logs:"1"},e.next=3,(0,w.Z)((0,p.gB)(ve,JSON.stringify((0,x.Z)(["security"],t))),"info");case 3:return e.prev=3,e.next=6,(0,g.v_)({endpoint:l(),body:t});case 6:null!=(r=e.sent)&&null!==(n=r.data)&&void 0!==n&&n.success?Je(ne,"success"):Je(te,"error"),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),Je(te,"error"),e.next=15,(0,w.Z)((0,p.gB)(ye,JSON.stringify(e.t0)),"error");case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return u.React.createElement("div",(0,r.Z)({},A,{ref:t}),u.React.createElement(_.Z,{size:"display-sm",weight:"semibold",spacing:1,content:B}),u.React.createElement(b.Z,{size:"text-sm",spacing:6,color:"comet",content:L}),De.gravitysmtp_view_email_log_settings&&u.React.createElement(u.React.Fragment,null,u.React.createElement(h.Z,{HeaderContent:function(e){return u.React.createElement(_.Z,(0,r.Z)({content:I,tagName:"h2",size:"text-lg",weight:"medium"},e))},spacing:6},u.React.createElement(d.Z,{customClasses:["gravitysmtp-logging-settings__box-container"],x:630},u.React.createElement(y.Z,{helpTextAttributes:{content:H,size:"text-sm",spacing:[4,0,0,0]},initialChecked:ie,labelAttributes:{label:J},onChange:function(e){He("event_log_enabled",e)},labelPosition:"left",name:"event_log_enabled",spacing:6,size:"size-m",width:"full",disabled:!De.gravitysmtp_edit_email_log_settings}),u.React.createElement(v.Z,{initialValue:ae,labelAttributes:{label:M},helpTextAttributes:{content:F},name:"event_log_retention",onChange:function(e){He("event_log_retention",e)},options:oe,disabled:!De.gravitysmtp_edit_email_log_settings}))),u.React.createElement(h.Z,{HeaderContent:function(e){return u.React.createElement(_.Z,(0,r.Z)({content:W,tagName:"h2",size:"text-lg",weight:"medium"},e))}},u.React.createElement(d.Z,{customClasses:["gravitysmtp-logging-settings__box-container"],x:630},u.React.createElement(y.Z,{initialChecked:Ne,labelAttributes:{label:G},helpTextAttributes:{content:V,size:"text-sm",spacing:[4,0,0]},onChange:function(e){Be(e),He("debug_log_enabled",e),T.debug_log_settings.debug_log_enabled=e,S.data.debug_log_enabled=e},helpTextWidth:"full",labelPosition:"left",name:"debug_log_enabled",spacing:6,size:"size-m",width:"full",disabled:!De.gravitysmtp_edit_email_log_settings}),u.React.createElement(v.Z,{initialValue:ce,labelAttributes:{label:X},helpTextAttributes:{content:$},name:"debug_log_retention",onChange:function(e){He("debug_log_retention",e)},options:ue,disabled:!De.gravitysmtp_edit_email_log_settings,spacing:6}),u.React.createElement(d.Z,{display:"flex",customClasses:["gravitysmtp-logging-settings__debug-log-buttons"]},u.React.createElement(f.Z,{content:q,customClasses:["gform-button","gform-button--size-height-m","gform-button--white","gform-button--width-auto","gform-button--icon-leading","gform-typography--size-text-sm","gform-typography--weight-medium"],href:le}),u.React.createElement(m.Z,{label:K,onClick:(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Le({confirmDialogConfirmButtonType:"amaranth-red",confirmDialogI18n:{confirm_change_confirm:ee,confirm_change_content:Y,confirm_change_heading:Q},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return Ie(!1)},confirmDialogOnClose:function(){return Ie(!1)},confirmDialogOnConfirm:function(){var e=(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ie(!1),e.next=3,Me();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),icon:"trash",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",size:"size-height-m",type:"amaranth-red"}))))))}));Z.propTypes={customAttributes:u.PropTypes.object,customClasses:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.array,u.PropTypes.object])},Z.displayName="LoggingScreen",t.default=Z},2641:function(e,t,n){n.r(t);var r=n(9801),i=n(6796),a=n(5210),o=n(5720),s=n(9509),c=n.n(s),l=n(9608),u=n.n(l),g=n(7784),p=n(760),d=n(4070),m=n(375),_=n(9805),f=n(7343),v=n(6192),b=n(6493),y=n(6901),h=n(7024),O=n(7066),w=n(8887),x=n(2030),P=n(4237),R=n(2077),Z=n(9208),E=n(7866);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=g.React.forwardRef,C=g.React.useRef,T=g.React.useState,D=g.ReactRouter.useLocation,z=g.ReactRouter.Link,A=S((function(e,t){var n,o,s,l,j=e.customAttributes,S=void 0===j?{}:j,A=e.customClasses,N=void 0===A?[]:A,B=e.common,L=void 0===B?{}:B,I=e.data,J=void 0===I?{}:I,H=e.i18n,M=void 0===H?{}:H,F=k({className:(0,g.classnames)({"gravitysmtp-general-settings":!0},N)},S),U=M||{},W=U.debug_messages,G=void 0===W?{}:W,V=G.uninstalling_plugin,X=G.uninstalling_plugin_error,$=U.settings,q=void 0===$?{}:$,K=q.top_heading,Q=q.license_box_heading,Y=q.license_box_content,ee=q.license_box_input_label,te=q.license_box_input_help_text,ne=q.license_box_button_text,re=q.license_valid,ie=q.license_invalid,ae=q.test_mode_box_content_1,oe=q.test_mode_box_toggle_label,se=q.general_settings_box_heading,ce=q.uninstall_box_heading,le=q.uninstall_box_content,ue=q.uninstall_box_button_label,ge=q.uninstall_dialog_confirm_change_heading,pe=q.uninstall_dialog_confirm_change_content,de=q.uninstall_dialog_confirm_change_confirm,me=q.error_uninstalling_message,_e=J.license_key,fe=J.license_key_is_valid,ve=J.plugins_url,be=(null==L?void 0:L.i18n)||{},ye=be.debug_messages,he=void 0===ye?{}:ye,Oe=he.saving_plugin_settings,we=void 0===Oe?"":Oe,xe=he.saving_plugin_settings_error,Pe=void 0===xe?"":xe,Re=be.general_settings_usage_analytics_label,Ze=void 0===Re?"":Re,Ee=be.general_settings_usage_analytics_help_text,je=void 0===Ee?"":Ee,ke=(null==L?void 0:L.data)||{},Se=ke.usage_analytics_enabled,Ce=ke.usage_analytics_link,Te=ke.param_keys,De=(null==J?void 0:J.caps)||{},ze=T("boolean"==typeof fe&&!fe),Ae=(0,a.Z)(ze,2),Ne=Ae[0],Be=Ae[1],Le=T(_e),Ie=(0,a.Z)(Le,2),Je=Ie[0],He=Ie[1],Me=T(fe),Fe=(0,a.Z)(Me,2),Ue=Fe[0],We=Fe[1],Ge=T(""),Ve=(0,a.Z)(Ge,2),Xe=Ve[0],$e=Ve[1],qe=T(!1),Ke=(0,a.Z)(qe,2),Qe=Ke[0],Ye=Ke[1],et=(0,E.default)((function(e){return e.setConfirmDialogOpen})),tt=(0,E.default)((function(e){return e.setConfirmDialogSettings})),nt=(0,E.default)((function(e){return e.setPageLoaderActive})),rt=(0,E.default)((function(e){return e.testModeEnabled})),it=(0,E.default)((function(e){return e.setTestModeEnabled})),at=C(null),ot=(null==L||null===(n=L.endpoints)||void 0===n||null===(n=n.save_plugin_settings)||void 0===n?void 0:n.action)||"",st=(null==L||null===(o=L.endpoints)||void 0===o||null===(o=o.save_plugin_settings)||void 0===o?void 0:o.nonce)||"",ct=(null==L||null===(s=L.endpoints)||void 0===s||null===(s=s.gravitysmtp_uninstall_plugin)||void 0===s?void 0:s.action)||"",lt=(null==L||null===(l=L.endpoints)||void 0===l||null===(l=l.gravitysmtp_uninstall_plugin)||void 0===l?void 0:l.nonce)||"",ut=(0,g.classnames)({"gravitysmtp-general-settings__license-save":!0,"gravitysmtp-general-settings__license-save--saving":Qe}),gt=(0,P.Ds)(),pt=D(),dt=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r,i,a,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=at.current.offsetWidth,n=Je.trim(),Be(!1),$e(t),Ye(!0),He(n),r={action:ot,security:st,key:Te.license_key,value:n},e.next=9,(0,R.Z)((0,m.gB)(we,JSON.stringify((0,Z.Z)(["security","value"],r))),"info");case 9:return e.prev=9,e.next=12,(0,d.v_)({endpoint:u(),body:r});case 12:a=e.sent,Ye(!1),$e(""),null!=a&&null!==(i=a.data)&&void 0!==i&&i.success?(s=(null==a||null===(o=a.data)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.license_is_valid)||!1,We(s),!0===s?gt(re):!1===s&&gt(ie,"error")):(We(!1),gt(ie,"error")),e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(9),e.next=23,(0,R.Z)((0,m.gB)(Pe,JSON.stringify(e.t0)),"error");case 23:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(){return e.apply(this,arguments)}}(),mt={customClasses:["gravitysmtp-general-settings__license-input"],controlled:!0,labelAttributes:{label:ee},helpTextAttributes:Ue?{}:{content:te,size:"text-xs",weight:"regular"},id:"gravitysmtp-general-settings__license-input",name:Te.license_key,onChange:He,textSecurity:"disc",value:Je,customAttributes:{readOnly:!De.gravitysmtp_edit_license_key}};!0===Ue?(mt.borderStyle="correct",mt.iconAttributes={iconPrefix:"gravitysmtp-admin-icon",preset:"status-correct"}):!1===Ue&&(mt.borderStyle="error",mt.iconAttributes={iconPrefix:"gravitysmtp-admin-icon",preset:"status-incorrect"});var _t=function(){var e=new URLSearchParams(pt.search),t=J.nav_item_param_key||"tab";e.set(t,"logging");var n=k(k({},pt),{},{search:"?".concat(e.toString())}),r=ae.split("%s");return g.React.createElement(g.React.Fragment,null,r[0],g.React.createElement(z,{className:"gform-link gform-typography--size-text-sm",to:n},r[1]),r[2])},ft=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return it(t),n={action:ot,security:st,key:Te.test_mode,value:t?"true":"false"},e.next=4,(0,R.Z)((0,m.gB)(we,JSON.stringify((0,Z.Z)(["security"],n))),"info");case 4:return e.prev=4,e.next=7,(0,d.v_)({endpoint:u(),body:n});case 7:null!=(i=e.sent)&&null!==(r=i.data)&&void 0!==r&&r.success,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(4),e.next=16,(0,R.Z)((0,m.gB)(Pe,JSON.stringify(e.t0)),"error");case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),vt=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={action:ot,security:st,key:Te.usage_analytics,value:t?"true":"false"},e.next=3,(0,R.Z)((0,m.gB)(we,JSON.stringify((0,Z.Z)(["security"],n))),"info");case 3:return e.prev=3,e.next=6,(0,d.v_)({endpoint:u(),body:n});case 6:null!=(i=e.sent)&&null!==(r=i.data)&&void 0!==r&&r.success&&(L.data.usage_analytics_enabled=t,(0,m.X$)({event:"gravitysmtp/setting-updated",native:!1,data:{key:Te.usage_analytics,value:t}})),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),e.next=15,(0,R.Z)((0,m.gB)(Pe,JSON.stringify(e.t0)),"error");case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nt(!0),t={action:ct,security:lt},e.next=4,(0,R.Z)((0,m.gB)(V,JSON.stringify((0,Z.Z)(["security"],t))),"info");case 4:return e.prev=4,e.next=7,(0,d.v_)({endpoint:u(),body:t});case 7:null!=(r=e.sent)&&null!==(n=r.data)&&void 0!==n&&n.success?window.location.href=ve:(nt(!1),gt(me,"error")),e.next=18;break;case 11:return e.prev=11,e.t0=e.catch(4),nt(!1),gt(me,"error"),e.next=18,(0,R.Z)((0,m.gB)(X,JSON.stringify(e.t0)),"error");case 18:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),yt={initialChecked:rt,labelAttributes:{label:oe},helpTextAttributes:{content:g.React.createElement(_t,null),size:"text-sm",spacing:[4,0,0,0]},helpTextWidth:"full",labelPosition:"left",id:"test_mode",name:Te.test_mode,onChange:ft,size:"size-m",spacing:6,width:"full",disabled:!De.gravitysmtp_edit_test_mode},ht={initialChecked:Se,labelAttributes:{label:Ze},helpTextAttributes:{content:g.React.createElement(p.ji,{openingSymbol:"{{",closingSymbol:"}}",text:je,tokens:[{component:y.Z,key:"learn_link",props:{href:Ce,size:"text-sm",target:"_blank"}}]}),size:"text-sm",spacing:[4,0,0,0]},helpTextWidth:"full",labelPosition:"left",id:"usage_analytics",name:Te.usage_analytics,onChange:vt,size:"size-m",width:"full",disabled:!De.gravitysmtp_edit_usage_analytics};return g.React.createElement("div",(0,i.Z)({},F,{ref:t}),g.React.createElement(v.Z,{size:"display-sm",weight:"semibold",spacing:6,content:K}),De.gravitysmtp_view_license_key&&g.React.createElement(x.Z,{HeaderContent:function(e){return g.React.createElement(_.Z,{x:630},g.React.createElement(v.Z,(0,i.Z)({content:Q,tagName:"h2",size:"text-lg",weight:"medium",spacing:2},e)),g.React.createElement(h.Z,(0,i.Z)({content:Y,size:"text-sm",color:"comet"},e)))},FooterContent:function(e){var t={};return Xe&&(t.style={width:"".concat(Xe,"px")}),t.disabled=!De.gravitysmtp_edit_license_key,g.React.createElement(f.Z,(0,i.Z)({active:Qe,activeType:"loader",customAttributes:t,customClasses:ut,icon:"save-disk",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:ne,onClick:dt,size:"size-height-m",ref:at},e))},spacing:6},g.React.createElement(_.Z,{customClasses:["gravitysmtp-general-settings__license-input-container"],x:630},g.React.createElement(b.Z,mt),Ne&&g.React.createElement(w.Z,{customIconPrefix:"gravitysmtp-admin-icon",spacing:[3,0,0,0],type:"error"},ie))),(De.gravitysmtp_view_test_mode||De.gravitysmtp_view_usage_analytics)&&g.React.createElement(x.Z,{HeaderContent:function(e){return g.React.createElement(_.Z,{x:630},g.React.createElement(v.Z,(0,i.Z)({content:se,tagName:"h2",size:"text-lg",weight:"medium"},e)))},spacing:6},g.React.createElement(_.Z,{customClasses:["gravitysmtp-general-settings__license-input-container"],x:630},De.gravitysmtp_view_test_mode&&g.React.createElement(O.Z,yt),De.gravitysmtp_view_usage_analytics&&g.React.createElement(O.Z,ht))),De.gravitysmtp_view_uninstall&&g.React.createElement(x.Z,{HeaderContent:function(e){return g.React.createElement(_.Z,{x:630},g.React.createElement(v.Z,(0,i.Z)({content:ce,tagName:"h2",size:"text-lg",weight:"medium"},e)))}},g.React.createElement(_.Z,{customClasses:["gravitysmtp-general-settings__license-input-container"],x:630},g.React.createElement(h.Z,{content:le,size:"text-sm",color:"comet",spacing:6}),g.React.createElement(f.Z,{disabled:!De.gravitysmtp_edit_uninstall,icon:"trash",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:ue,onClick:(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tt({confirmDialogConfirmButtonType:"amaranth-red",confirmDialogI18n:{confirm_change_confirm:de,confirm_change_content:pe,confirm_change_heading:ge},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return et(!1)},confirmDialogOnClose:function(){return et(!1)},confirmDialogOnConfirm:function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return et(!1),e.next=3,bt();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),size:"size-height-m",type:"amaranth-red"}))))}));A.propTypes={customAttributes:g.PropTypes.object,customClasses:g.PropTypes.oneOfType([g.PropTypes.string,g.PropTypes.array,g.PropTypes.object]),data:g.PropTypes.object,i18n:g.PropTypes.object},A.displayName="SettingsScreen",t.default=A},7976:function(e,t,n){n.r(t);var r=n(5720),i=n(5210),a=n(7784),o=n(9118),s=n(4237),c=n(4085),l=n(9694),u=n(2641),g=n(8777),p=n(9997),d=n(3643),m=n(7767),_=n(8448),f=n(7866);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=a.React.useEffect,h=a.ReactRouter.BrowserRouter,O=a.ReactRouter.Routes,w=a.ReactRouter.Route,x=a.ReactRouter.useSearchParams,P=["alerts","emails","routing"],R={settings:["gravitysmtp_view_license_key","gravitysmtp_view_test_mode","gravitysmtp_view_usage_analytics"],integrations:["gravitysmtp_launch_setup_wizard","gravitysmtp_view_integrations"],logging:["gravitysmtp_view_email_log_settings"]},Z=function(e){return a.React.createElement(c.default,e)},E=function(e){return a.React.createElement(l.default,e)},j=function(e){var t=x(),n=(0,i.Z)(t,2),r=n[0],o=(n[1],e.data.nav_items),s=(void 0===o?[]:o).filter((function(e){return!P.includes(e.param)}))[0]||"",c=r.get(e.data.nav_item_param_key||"tab")||s.param,l=r.get("integration"),d=(0,f.default)((function(e){return e.setActiveIntegrationSettings})),m=(0,f.default)((function(e){return e.setIntegrationSettingsDialogOpen}));switch("integrations"===c&&l&&(d(l),m(!0)),c){case"settings":return a.React.createElement(u.default,e);case"integrations":return a.React.createElement(g.default,e);case"logging":return a.React.createElement(p.default,e);default:return null}};t.default=function(e){var t=e.data,n=e.i18n,r=e.common,c=t.route_path.replace(window.location.origin,""),l=(null==t?void 0:t.caps)||{};Object.entries(R).forEach((function(e){var t=(0,i.Z)(e,2),n=t[0];t[1].some((function(e){return l[e]}))||P.push(n)}));var u=(0,f.default)((function(e){return e.pageLoaderActive})),g=(0,f.default)((function(e){return e.setPageLoaderActive})),p={confirmButtonType:(0,f.default)((function(e){return e.confirmDialogConfirmButtonType})),customAttributes:(0,f.default)((function(e){return e.confirmDialogCustomAttributes})),i18n:b(b({},(null==r?void 0:r.i18n)||{}),(0,f.default)((function(e){return e.confirmDialogI18n}))),isOpen:(0,f.default)((function(e){return e.confirmDialogOpen})),onCancel:(0,f.default)((function(e){return e.confirmDialogOnCancel})),onClose:(0,f.default)((function(e){return e.confirmDialogOnClose})),onConfirm:(0,f.default)((function(e){return e.confirmDialogOnConfirm}))},v=function(e){g(e.detail)};return y((function(){return document.addEventListener("gravitysmtp/page_loader/active",v),function(){return document.removeEventListener("gravitysmtp/page_loader/active",v)}}),[]),a.React.createElement(h,null,a.React.createElement(s.wT,{defaultSettings:{errorIconAttributes:{icon:"exclamation-simple",iconPrefix:"gravitysmtp-admin-icon"},successIconAttributes:{icon:"correct",iconPrefix:"gravitysmtp-admin-icon"}}},a.React.createElement("div",{className:"gravitysmtp-app__wrapper"},a.React.createElement(o.Z,{customClasses:["gravitysmtp-settings-app"],Header:Z,PrimarySideBarChildren:E,common:r,data:t,i18n:n,disabledNavItems:P},a.React.createElement("div",{className:"gravitysmtp-settings-app__content"},a.React.createElement(O,null,a.React.createElement(w,{path:c,element:a.React.createElement(j,{common:r,data:t,i18n:n,disabledNavItems:P})})))),a.React.createElement(d.default,{data:t,common:r,i18n:n}),a.React.createElement(m.Z,p),a.React.createElement(_.Z,{loading:u}))))}},8288:function(e,t,n){n.r(t),n.d(t,{GravitySMTPLogo:function(){return r.Z},GravitySMTPTextLogo:function(){return i.Z}});var r=n(324),i=n(515)},7003:function(e,t,n){var r=n(9801),i=n(5720),a=n(9509),o=n.n(a),s=n(7784),c=n(5489),l=n(8731),u=n(6901),g=n(6493),p=n(375),d=n(760);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!["microsoft","google"].includes(t.activeIntegrationSettings))return e;var n=t.integrationSettingsFormData[t.activeIntegrationSettings],i=e.map((function(e){if(!["BrandedButton","BrandedLink","CopyInput","LinkedHelpTextInput"].includes(e.component)||!e.external)return e;var i,a=t.i18n.snackbar_url_copied,m=void 0===a?"":a,f=t.Svgs[e.props.Svg],v=null,b={};switch(e.component){case"BrandedButton":v=c.Z,b=_(_({},e.props),{},{disabled:!(null!=n&&n.client_id&&null!=n&&n.client_secret)||t.savingSettings,onClick:(i=(0,r.Z)(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,t.saveConnectorSettings();case 3:window.location.href="".concat(n.oauth_url,"?client_id=").concat(n.client_id).concat(n.oauth_params);case 4:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)}),Svg:s.React.createElement(f,null)});break;case"BrandedLink":v=l.Z,b=_(_({},e.props),{},{href:"wizard"===t.context?e.wizardHref:e.props.href,Svg:s.React.createElement(f,null)});break;case"CopyInput":v=g.Z,b=_(_({},e.props),{},{actionButtonAttributes:_(_({},e.props.actionButtonAttributes),{},{onClick:function(e,n){t.addSnackBarMessage(m),(0,p.BR)(n)}})});break;case"LinkedHelpTextInput":v=g.Z,b=_(_({},e.props),{},{helpTextAttributes:_(_({},e.props.helpTextAttributes),{},{content:s.React.createElement(d.ji,{openingSymbol:"{{",closingSymbol:"}}",text:e.props.helpTextAttributes.content,tokens:e.links.map((function(e){return{component:u.Z,key:e.key,props:e.props}}))})})})}return _(_({},e),{},{component:v,props:b})}));return i}}}]);