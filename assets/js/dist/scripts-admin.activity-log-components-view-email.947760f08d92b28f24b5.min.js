"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[6093,9975,1050],{8066:function(e,t,a){a.r(t);var i=a(6796),n=a(5720),r=a(7784),o=a(2635),s=a(9805),l=a(8631);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var m=(0,r.React.forwardRef)((function(e,t){var a=e.customAttributes,m=void 0===a?{}:a,d=e.customClasses,v=void 0===d?[]:d,p=e.common,u=void 0===p?{}:p,g=e.showModes,f=void 0===g||g,w=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({className:(0,r.classnames)({"gravitysmtp-activity-log-app__header":!0},v)},m),y=u.data,_=void 0===y?{}:y,E=_.debug_log_enabled,b=void 0!==E&&E,h=_.test_mode_enabled,O=void 0!==h&&h,R=u.i18n,D=void 0===R?{}:R,C=D.debug_log_enabled,j=void 0===C?"":C,P=D.test_mode_enabled,N=void 0===P?"":P;return r.React.createElement("div",(0,i.Z)({},w,{ref:t}),r.React.createElement("div",{className:"gravitysmtp-activity-log-app__header-main"},r.React.createElement("div",{className:"gravitysmtp-activity-log-app__header-logo"},r.React.createElement(o.Z,{height:22,width:220})),f&&r.React.createElement(s.Z,{customClasses:["gravitysmtp-header__status"],setDisplay:!1},b&&r.React.createElement(l.Z,{status:"warning",size:"sm",spacing:[0,O?4:0,0,0],label:j,isStatic:!0}),O&&r.React.createElement(l.Z,{status:"blue",size:"sm",label:N,isStatic:!0}))))}));m.propTypes={customAttributes:r.PropTypes.object,customClasses:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.array,r.PropTypes.object])},m.displayName="ActivityLogHeader",t.default=m},5239:function(e,t,a){a.r(t);var i=a(6796),n=a(5720),r=a(5210),o=a(7784),s=a(9118),l=a(8066),c=a(1480),m=a(6936),d=a(1256),v=a(7343),p=a(6192),u=a(1523),g=a(7024),f=a(141);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var y=o.React.forwardRef,_=o.React.useEffect,E=o.React.useState,b=function(e){var t=e.wrapperClasses,a=void 0===t?[]:t,i=e.dot,n=void 0===i||i,r=e.width,s=void 0===r?"62px":r,l={className:(0,o.classnames)(["gravitysmtp-view-email__placeholder-stripe"],a)};return o.React.createElement("div",l,n&&o.React.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-dot"}),o.React.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-line",style:{width:s}}))},h=y((function(e,t){var a,y,h=e.customAttributes,O=void 0===h?{}:h,R=e.customClasses,D=void 0===R?[]:R,C=e.common,j=void 0===C?{}:C,P=e.data,N=void 0===P?{}:P,T=e.i18n,Z=void 0===T?{}:T,k=(0,f.default)((function(e){return e.viewEmailDialogOpen})),x=(0,f.default)((function(e){return e.setViewEmailDialogOpen})),I=(0,f.default)((function(e){return e.viewEmailEventId})),z=(0,f.default)((function(e){return e.viewEmailEventIsHtml})),H=(0,f.default)((function(e){return e.viewEmailEventDate})),G=(0,f.default)((function(e){return e.viewEmailEventFromHash})),S=(0,f.default)((function(e){return e.viewEmailEventFrom})),A=(0,f.default)((function(e){return e.viewEmailEventTo})),L=(0,f.default)((function(e){return e.viewEmailEventTitle})),B=(0,f.default)((function(e){return e.setViewEmailEventProperties})),F=E(!1),V=(0,r.Z)(F,2),M=V[0],U=V[1],W=E("desktop"),q=(0,r.Z)(W,2),J=q[0],K=q[1],Q=(null==j||null===(a=j.endpoints)||void 0===a||null===(a=a.get_email_message)||void 0===a?void 0:a.action)||"",X=(null==j||null===(y=j.endpoints)||void 0===y||null===(y=y.get_email_message)||void 0===y?void 0:y.nonce)||"",Y="".concat(null==N?void 0:N.ajax_url,"?action=").concat(Q,"&security=").concat(X,"&event_id=").concat(I),$=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({className:(0,o.classnames)({"gravitysmtp-view-email":!0},D)},O),ee={className:(0,o.classnames)({"gravitysmtp-view-email__sidebar-container":!0,"gravitysmtp-view-email__sidebar-container--loading":M})},te={className:(0,o.classnames)((0,n.Z)({"gravitysmtp-view-email__container":!0,"gravitysmtp-view-email__container--html-mode":z},"gravitysmtp-view-email__container--".concat(J,"-mode"),!0))},ae=(null==Z?void 0:Z.log_detail)||{},ie=ae.main_box_from_label,ne=ae.main_box_to_label,re=ae.view_email_desktop_mode,oe=ae.view_email_mobile_mode;_((function(){k&&U(!0),K("desktop")}),[k]);var se={closeButtonType:"simplified",onCloseAfterAnimation:function(){B({date:"",isHtml:!1,id:0,fromHash:"",from:"",to:"",title:""}),x(!1)},customWrapperClasses:["gravitysmtp-view-email__dialog"],customMaskClasses:["gravitysmtp-view-email__mask"],customCloseButtonLabelAttributes:{className:(0,o.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:"",isOpen:k,maskTheme:"light",mode:"modal",padContent:!1,position:"absolute",theme:"cosmos",version:2,zIndex:100001},le=[62,62,55,81,81,55],ce={className:(0,o.classnames)({"gravitysmtp-view-email__header-details-meta":!0,"gravitysmtp-view-email__header-details-meta--loading":M})};return o.React.createElement("div",(0,i.Z)({},$,{ref:t}),o.React.createElement(c.Z,se,o.React.createElement(s.Z,{customClasses:["gravitysmtp-view-email-layout"],Header:function(e){return o.React.createElement(l.default,(0,i.Z)({},e,{showModes:!1}))},PrimarySideBarChildren:function(){return o.React.createElement("div",ee,le.map((function(e,t){return o.React.createElement(b,{key:"stripe-".concat(t,"-").concat(e),width:"".concat(e,"px")})})))},data:N,simplebarContent:!1},o.React.createElement("div",te,o.React.createElement("div",{className:"gravitysmtp-view-email__header"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-title-wrapper"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-title"},""!==L&&!M&&o.React.createElement(p.Z,{customClasses:["gravitysmtp-view-email__header-title-subject"],tagName:"h2",size:"text-xl",weight:"medium",content:L}),M&&o.React.createElement(b,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"35%"})),!M&&o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-actions"},o.React.createElement(v.Z,{icon:"desktop",iconPrefix:"gravitysmtp-admin-icon",label:re,onClick:function(){return K("desktop")},size:"size-height-s",spacing:[0,3,0,0],type:"icon-white"}),o.React.createElement(v.Z,{icon:"mobile",iconPrefix:"gravitysmtp-admin-icon",label:oe,onClick:function(){return K("mobile")},size:"size-height-s",type:"icon-white"}))),o.React.createElement("div",{className:"gravitysmtp-view-email__header-details"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-left"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-image"},o.React.createElement(u.Z,{customClasses:["gravitysmtp-view-email__header-details-default"],icon:"account",iconPrefix:"gravitysmtp-admin-icon"}),""!==G&&o.React.createElement(m.Z,{customClasses:["gravitysmtp-view-email__header-details-gravatar"],emailHash:G,height:40,width:40,defaultImage:"blank"})),o.React.createElement("div",ce,M&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-from gravitysmtp-view-email__header-details-from--has-loader"},o.React.createElement(b,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"75%"})),M&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},o.React.createElement(b,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"45%"})),!M&&""!==S&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-from"},o.React.createElement(g.Z,{tagName:"span",size:"text-sm",weight:"semibold",content:ie})," ",o.React.createElement(g.Z,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:S})),!M&&""!==A&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},o.React.createElement(g.Z,{weight:"semibold",tagName:"span",size:"text-sm",content:ne})," ",o.React.createElement(g.Z,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:A})))),o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-right"},!M&&""!==H&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-date"},o.React.createElement(g.Z,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-xs",content:H}))))),o.React.createElement("div",{className:"gravitysmtp-view-email__wrapper"},M&&o.React.createElement(d.Z,{loaderCustomAttributes:{mask:!0,maskCustomClasses:["gravitysmtp-view-email__iframe-loader-mask"]}}),0!==I&&o.React.createElement("iframe",{className:"gravitysmtp-view-email__iframe",onLoad:function(){U(!1)},title:L,src:Y}))))))}));h.propTypes={customAttributes:o.PropTypes.object,customClasses:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.array,o.PropTypes.object]),common:o.PropTypes.object,data:o.PropTypes.object,i18n:o.PropTypes.object},t.default=h},141:function(e,t,a){a.r(t);var i,n,r,o,s=a(5720),l=a(3267),c=a.n(l),m=a(760);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,s.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p=(null===(i=(0,a(583).iE)(c(),"gravitysmtp_admin_config"))||void 0===i||null===(i=i.components)||void 0===i?void 0:i.activity_log)||{},u={confirmDialogConfirmButtonType:"primary-new",confirmDialogI18n:{},confirmDialogOnCancel:function(){},confirmDialogOnConfirm:function(){},confirmDialogOpen:!1,logDetail:(null==p||null===(n=p.data)||void 0===n?void 0:n.log_detail)||{},dataGridLoading:!1,dataGridRows:(null==p||null===(r=p.data)||void 0===r||null===(r=r.data_grid)||void 0===r?void 0:r.data)||[],dataGridRowCount:parseInt((null==p||null===(o=p.data)||void 0===o?void 0:o.initial_row_count)||0,10),deleteEventDialogOpen:!1,deletingEventId:0,viewEmailDialogOpen:!1,viewEmailEventId:0,viewEmailEventIsHtml:!1,viewEmailEventDate:"",viewEmailEventFromHash:"",viewEmailEventFrom:"",viewEmailEventTo:"",viewEmailEventTitle:""},g=(0,m.Ue)(u,(function(e){return{deleteEventLog:function(t){return e((function(e){return v(v({},e),{},{dataGridRows:e.dataGridRows.filter((function(e){var a;return(null==e||null===(a=e.subject)||void 0===a||null===(a=a.props)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.event_id)!==t}))})}))},setConfirmDialogOpen:function(t){return e((function(){return{confirmDialogOpen:t}}))},setConfirmDialogSettings:function(t){var a=t.confirmDialogConfirmButtonType,i=void 0===a?"primary-new":a,n=t.confirmDialogI18n,r=void 0===n?{}:n,o=t.confirmDialogOpen,s=void 0!==o&&o,l=t.confirmDialogOnCancel,c=void 0===l?function(){}:l,m=t.confirmDialogOnConfirm,d=void 0===m?function(){}:m;e((function(){return{confirmDialogConfirmButtonType:i,confirmDialogI18n:r,confirmDialogOpen:s,confirmDialogOnCancel:c,confirmDialogOnConfirm:d}}))},setDataGridLoading:function(t){return e({dataGridLoading:t})},setDataGridRows:function(t){return e((function(){return{dataGridRows:t}}))},setDataGridRowCount:function(t){return e({dataGridRowCount:t})},setDeleteEventDialogOpen:function(t){return e({deleteEventDialogOpen:t})},setDeletingEventId:function(t){return e({deletingEventId:t})},setLogDetail:function(t){return e({logDetail:t})},setViewEmailDialogOpen:function(t){return e({viewEmailDialogOpen:t})},setViewEmailEventProperties:function(t){return e({viewEmailEventId:t.id,viewEmailEventIsHtml:t.isHtml,viewEmailEventDate:t.date,viewEmailEventFromHash:t.fromHash,viewEmailEventFrom:t.from,viewEmailEventTo:t.to,viewEmailEventTitle:t.title})}}}));t.default=g}}]);