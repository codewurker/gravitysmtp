"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[5683,812,6793],{16954:function(e,t,a){a.r(t);var i=a(71860),n=a(88856),r=a(97867),o=a(10997),s=a(30242),l=a(43632);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var m=(0,r.React.forwardRef)((function(e,t){var a=e.customAttributes,m=void 0===a?{}:a,d=e.customClasses,v=void 0===d?[]:d,p=e.common,u=void 0===p?{}:p,g=e.showModes,f=void 0===g||g,w=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,n.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({className:(0,r.classnames)({"gravitysmtp-activity-log-app__header":!0},v)},m),y=u.data,_=void 0===y?{}:y,E=_.debug_log_enabled,b=void 0!==E&&E,h=_.test_mode_enabled,O=void 0!==h&&h,R=u.i18n,D=void 0===R?{}:R,C=D.debug_log_enabled,j=void 0===C?"":C,P=D.test_mode_enabled,A=void 0===P?"":P;return r.React.createElement("div",(0,i.A)({},w,{ref:t}),r.React.createElement("div",{className:"gravitysmtp-activity-log-app__header-main"},r.React.createElement("div",{className:"gravitysmtp-activity-log-app__header-logo"},r.React.createElement(o.A,{height:22,width:220})),f&&r.React.createElement(s.A,{customClasses:["gravitysmtp-header__status"],setDisplay:!1},b&&r.React.createElement(l.A,{status:"warning",size:"sm",spacing:[0,O?4:0,0,0],label:j,isStatic:!0}),O&&r.React.createElement(l.A,{status:"blue",size:"sm",label:A,isStatic:!0}))))}));m.propTypes={customAttributes:r.PropTypes.object,customClasses:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.array,r.PropTypes.object])},m.displayName="ActivityLogHeader",t.default=m},72695:function(e,t,a){a.r(t);var i=a(71860),n=a(88856),r=a(8140),o=a(97867),s=a(62825),l=a(16954),c=a(48959),m=a(15635),d=a(32722),v=a(80509),p=a(5529),u=a(25980),g=a(66598),f=a(98895);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var y=o.React.forwardRef,_=o.React.useEffect,E=o.React.useState,b=function(e){var t=e.wrapperClasses,a=void 0===t?[]:t,i=e.dot,n=void 0===i||i,r=e.width,s=void 0===r?"62px":r,l={className:(0,o.classnames)(["gravitysmtp-view-email__placeholder-stripe"],a)};return o.React.createElement("div",l,n&&o.React.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-dot"}),o.React.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-line",style:{width:s}}))},h=y((function(e,t){var a,y,h=e.customAttributes,O=void 0===h?{}:h,R=e.customClasses,D=void 0===R?[]:R,C=e.common,j=void 0===C?{}:C,P=e.data,A=void 0===P?{}:P,N=e.i18n,T=void 0===N?{}:N,k=(0,f.default)((function(e){return e.viewEmailDialogOpen})),x=(0,f.default)((function(e){return e.setViewEmailDialogOpen})),I=(0,f.default)((function(e){return e.viewEmailEventId})),z=(0,f.default)((function(e){return e.viewEmailEventIsHtml})),H=(0,f.default)((function(e){return e.viewEmailEventDate})),G=(0,f.default)((function(e){return e.viewEmailEventFromHash})),S=(0,f.default)((function(e){return e.viewEmailEventFrom})),L=(0,f.default)((function(e){return e.viewEmailEventTo})),B=(0,f.default)((function(e){return e.viewEmailEventTitle})),F=(0,f.default)((function(e){return e.setViewEmailEventProperties})),V=E(!1),M=(0,r.A)(V,2),W=M[0],q=M[1],J=E("desktop"),K=(0,r.A)(J,2),Q=K[0],U=K[1],X=(null==j||null===(a=j.endpoints)||void 0===a||null===(a=a.get_email_message)||void 0===a?void 0:a.action)||"",Y=(null==j||null===(y=j.endpoints)||void 0===y||null===(y=y.get_email_message)||void 0===y?void 0:y.nonce)||"",Z="".concat(null==A?void 0:A.ajax_url,"?action=").concat(X,"&security=").concat(Y,"&event_id=").concat(I),$=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,n.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({className:(0,o.classnames)({"gravitysmtp-view-email":!0},D)},O),ee={className:(0,o.classnames)({"gravitysmtp-view-email__sidebar-container":!0,"gravitysmtp-view-email__sidebar-container--loading":W})},te={className:(0,o.classnames)((0,n.A)({"gravitysmtp-view-email__container":!0,"gravitysmtp-view-email__container--html-mode":z},"gravitysmtp-view-email__container--".concat(Q,"-mode"),!0))},ae=(null==T?void 0:T.log_detail)||{},ie=ae.main_box_from_label,ne=ae.main_box_to_label,re=ae.view_email_desktop_mode,oe=ae.view_email_mobile_mode;_((function(){k&&q(!0),U("desktop")}),[k]);var se={closeButtonType:"simplified",onCloseAfterAnimation:function(){F({date:"",isHtml:!1,id:0,fromHash:"",from:"",to:"",title:""}),x(!1)},customWrapperClasses:["gravitysmtp-view-email__dialog"],customMaskClasses:["gravitysmtp-view-email__mask"],customCloseButtonLabelAttributes:{className:(0,o.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:"",isOpen:k,maskTheme:"light",mode:"modal",padContent:!1,position:"absolute",theme:"cosmos",version:2,zIndex:100001},le=[62,62,55,81,81,55],ce={className:(0,o.classnames)({"gravitysmtp-view-email__header-details-meta":!0,"gravitysmtp-view-email__header-details-meta--loading":W})};return o.React.createElement("div",(0,i.A)({},$,{ref:t}),o.React.createElement(c.A,se,o.React.createElement(s.A,{customClasses:["gravitysmtp-view-email-layout"],Header:function(e){return o.React.createElement(l.default,(0,i.A)({},e,{showModes:!1}))},PrimarySideBarChildren:function(){return o.React.createElement("div",ee,le.map((function(e,t){return o.React.createElement(b,{key:"stripe-".concat(t,"-").concat(e),width:"".concat(e,"px")})})))},data:A,simplebarContent:!1},o.React.createElement("div",te,o.React.createElement("div",{className:"gravitysmtp-view-email__header"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-title-wrapper"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-title"},""!==B&&!W&&o.React.createElement(p.A,{customClasses:["gravitysmtp-view-email__header-title-subject"],tagName:"h2",size:"text-xl",weight:"medium",content:B}),W&&o.React.createElement(b,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"35%"})),!W&&o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-actions"},o.React.createElement(v.A,{icon:"desktop",iconPrefix:"gravitysmtp-admin-icon",label:re,onClick:function(){return U("desktop")},size:"size-height-s",spacing:[0,3,0,0],type:"icon-white"}),o.React.createElement(v.A,{icon:"mobile",iconPrefix:"gravitysmtp-admin-icon",label:oe,onClick:function(){return U("mobile")},size:"size-height-s",type:"icon-white"}))),o.React.createElement("div",{className:"gravitysmtp-view-email__header-details"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-left"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-image"},o.React.createElement(u.A,{customClasses:["gravitysmtp-view-email__header-details-default"],icon:"account",iconPrefix:"gravitysmtp-admin-icon"}),""!==G&&o.React.createElement(m.A,{customClasses:["gravitysmtp-view-email__header-details-gravatar"],emailHash:G,height:40,width:40,defaultImage:"blank"})),o.React.createElement("div",ce,W&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-from gravitysmtp-view-email__header-details-from--has-loader"},o.React.createElement(b,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"75%"})),W&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},o.React.createElement(b,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"45%"})),!W&&""!==S&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-from"},o.React.createElement(g.A,{tagName:"span",size:"text-sm",weight:"semibold",content:ie})," ",o.React.createElement(g.A,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:S})),!W&&""!==L&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},o.React.createElement(g.A,{weight:"semibold",tagName:"span",size:"text-sm",content:ne})," ",o.React.createElement(g.A,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:L})))),o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-right"},!W&&""!==H&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-date"},o.React.createElement(g.A,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-xs",content:H}))))),o.React.createElement("div",{className:"gravitysmtp-view-email__wrapper"},W&&o.React.createElement(d.A,{loaderCustomAttributes:{mask:!0,maskCustomClasses:["gravitysmtp-view-email__iframe-loader-mask"]}}),0!==I&&o.React.createElement("iframe",{className:"gravitysmtp-view-email__iframe",onLoad:function(){q(!1)},title:B,src:Z}))))))}));h.propTypes={customAttributes:o.PropTypes.object,customClasses:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.array,o.PropTypes.object]),common:o.PropTypes.object,data:o.PropTypes.object,i18n:o.PropTypes.object},t.default=h},98895:function(e,t,a){a.r(t);var i,n,r,o,s=a(88856),l=a(40450),c=a.n(l),m=a(13296);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,s.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p=(null===(i=(0,a(71376).zj)(c(),"gravitysmtp_admin_config"))||void 0===i||null===(i=i.components)||void 0===i?void 0:i.activity_log)||{},u={confirmDialogConfirmButtonType:"primary-new",confirmDialogI18n:{},confirmDialogOnCancel:function(){},confirmDialogOnConfirm:function(){},confirmDialogOpen:!1,logDetail:(null==p||null===(n=p.data)||void 0===n?void 0:n.log_detail)||{},dataGridLoading:!1,dataGridRows:(null==p||null===(r=p.data)||void 0===r||null===(r=r.data_grid)||void 0===r?void 0:r.data)||[],dataGridRowCount:parseInt((null==p||null===(o=p.data)||void 0===o?void 0:o.initial_row_count)||0,10),deleteEventDialogOpen:!1,deletingEventId:0,viewEmailDialogOpen:!1,viewEmailEventId:0,viewEmailEventIsHtml:!1,viewEmailEventDate:"",viewEmailEventFromHash:"",viewEmailEventFrom:"",viewEmailEventTo:"",viewEmailEventTitle:""},g=(0,m.vt)(u,(function(e){return{deleteEventLog:function(t){return e((function(e){return v(v({},e),{},{dataGridRows:e.dataGridRows.filter((function(e){var a;return(null==e||null===(a=e.subject)||void 0===a||null===(a=a.props)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.event_id)!==t}))})}))},setConfirmDialogOpen:function(t){return e((function(){return{confirmDialogOpen:t}}))},setConfirmDialogSettings:function(t){var a=t.confirmDialogConfirmButtonType,i=void 0===a?"primary-new":a,n=t.confirmDialogI18n,r=void 0===n?{}:n,o=t.confirmDialogOpen,s=void 0!==o&&o,l=t.confirmDialogOnCancel,c=void 0===l?function(){}:l,m=t.confirmDialogOnClose,d=void 0===m?function(){}:m,v=t.confirmDialogOnConfirm,p=void 0===v?function(){}:v;e((function(){return{confirmDialogConfirmButtonType:i,confirmDialogI18n:r,confirmDialogOpen:s,confirmDialogOnCancel:c,confirmDialogOnClose:d,confirmDialogOnConfirm:p}}))},setDataGridLoading:function(t){return e({dataGridLoading:t})},setDataGridRows:function(t){return e((function(){return{dataGridRows:t}}))},setDataGridRowCount:function(t){return e({dataGridRowCount:t})},setDeleteEventDialogOpen:function(t){return e({deleteEventDialogOpen:t})},setDeletingEventId:function(t){return e({deletingEventId:t})},setLogDetail:function(t){return e({logDetail:t})},setViewEmailDialogOpen:function(t){return e({viewEmailDialogOpen:t})},setViewEmailEventProperties:function(t){return e({viewEmailEventId:t.id,viewEmailEventIsHtml:t.isHtml,viewEmailEventDate:t.date,viewEmailEventFromHash:t.fromHash,viewEmailEventFrom:t.from,viewEmailEventTo:t.to,viewEmailEventTitle:t.title})}}}));t.default=g}}]);