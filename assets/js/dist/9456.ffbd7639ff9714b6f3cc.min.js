"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[9456],{9456:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var a,i,o,r=n(90455),s=n(71860),l=n(8140),c=n(88856),d=n(78564),g=n.n(d),u=n(97867),_=n(30242),b=n(80509),m=n(5529),v=n(87029),f=n(53377),p=n(66598),h=n(16265),A=n(13379),y=n(84860),k=n(68381),S=n(27122),E=n.n(S),x=n(40450),C=n.n(x),w=n(60177),O=n(71376),D=n(83707),T=n(93313),M=(null===(a=(0,O.zj)(C(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.common)||{},P=function(e){(0,e.addSnackbarMessage)(e.saveSuccessSnackBarMessage,"success")},z=function(e){var t=e.addSnackbarMessage;e.error;t(e.saveErrorSnackBarMessage,"error")},B=function(){var e=(0,r.A)(g().mark((function e(t){var n,a,i,o,r,s,l,c,d,u,_,b,m,v,f,p,h,A,y,k,S,x,C,B,I,L,G,R,j,N,V,U,W,J,H,q,F,K,Q,X,Y,Z,$,ee,te,ne,ae,ie,oe,re,se,le,ce;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.addSnackbarMessage,a=void 0===n?function(){}:n,i=t.errorCallback,o=void 0===i?null:i,r=t.snackBarErrorMessage,s=void 0===r?"":r,l=t.snackBarSuccessMessage,c=void 0===l?"":l,d=t.successCallback,u=void 0===d?null:d,_=t.type,b=void 0===_?"debug":_,m=t.useDebugLogger,v=void 0===m||m,f=M.i18n,h=(p=void 0===f?{}:f).debug_messages,y=(A=void 0===h?{}:h).deleting_activity_log_rows,k=void 0===y?"":y,S=A.deleting_activity_log_rows_error,x=void 0===S?"":S,C=A.deleting_all_debug_logs,B=void 0===C?"":C,I=A.deleting_all_debug_logs_error,L=void 0===I?"":I,G=p.snackbar_activity_log_delete_error,R=void 0===G?"":G,j=p.snackbar_activity_log_delete_success,N=void 0===j?"":j,V=p.snackbar_debug_log_delete_error,U=void 0===V?"":V,W=p.snackbar_debug_log_delete_success,J=void 0===W?"":W,H=M.endpoints,F=(q=void 0===H?{}:H).delete_events,Q=(K=void 0===F?{}:F).action,X=void 0===Q?"":Q,Y=K.nonce,Z=void 0===Y?"":Y,$=q.delete_debug_logs,te=(ee=void 0===$?{}:$).action,ne=void 0===te?"":te,ae=ee.nonce,ie=void 0===ae?"":ae,oe=c||"debug"===b?J:N,re=s||"debug"===b?U:R,se={action:"debug"===b?ne:X,security:"debug"===b?ie:Z},"debug"===b?se.all_logs="1":(se.all_events="1",se.event_ids=[1]),!v){e.next=9;break}return e.next=9,(0,D.A)((0,O.nv)("debug"===b?B:k,JSON.stringify((0,T.A)(["security"],se))),"info");case 9:return e.prev=9,e.next=12,(0,w.bE)({endpoint:E(),body:se});case 12:null!=(ce=e.sent)&&null!==(le=ce.data)&&void 0!==le&&le.success?(u||P)({addSnackbarMessage:a,data:null==ce?void 0:ce.data,saveSuccessSnackBarMessage:oe}):(o||z)({addSnackbarMessage:a,error:null==ce?void 0:ce.error,saveErrorSnackBarMessage:re}),e.next=23;break;case 16:if(e.prev=16,e.t0=e.catch(9),a(re,"error"),!v){e.next=23;break}return e.next=23,(0,D.A)((0,O.nv)("debug"===b?L:x,JSON.stringify(e.t0)),"error");case 23:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}(),I=B,L=(null===(i=(0,O.zj)(C(),"gravitysmtp_admin_config"))||void 0===i?void 0:i.common)||{},G=(null==L||null===(o=L.data)||void 0===o?void 0:o.param_keys)||{};function R(){return G[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]||""}var j=n(49572),N=n(27764),V=n(59092);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,c.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=u.React.forwardRef,H=u.React.useState,q=J((function(e,t){var n=e.customAttributes,a=void 0===n?{}:n,i=e.customClasses,o=void 0===i?[]:i,c=e.common,d=void 0===c?{}:c,S=e.data,E=void 0===S?{}:S,x=e.i18n,C=void 0===x?{}:x,w=W({className:(0,u.classnames)({"gravitysmtp-settings-app__logging":!0},o)},a),O=(null==C?void 0:C.logging)||{},D=O.top_heading,T=O.top_content,M=O.logging_box_heading,P=O.enable_log_label,z=O.enable_log_helper_text,B=O.save_email_body_label,L=O.save_email_body_helper_text,G=O.save_attachments_label,U=O.save_attachments_helper_text,J=O.email_log_retention_label,q=O.email_log_retention_helper_text,F=O.email_log_max_records_helper_text,K=O.debug_logging_box_heading,Q=O.enable_debug_log_label,X=O.enable_debug_log_helper_text,Y=O.debug_log_retention_label,Z=O.debug_log_retention_helper_text,$=O.view_activity_log_button_text,ee=O.delete_activity_log_button_text,te=O.view_debug_log_button_text,ne=O.delete_debug_log_button_text,ae=O.delete_debug_log_dialog_confirm_change_heading,ie=O.delete_email_log_dialog_confirm_change_content,oe=O.delete_debug_log_dialog_confirm_change_content,re=O.delete_debug_log_dialog_confirm_change_confirm,se=(null==E?void 0:E.email_log_settings)||{},le=se.email_log_enabled,ce=se.email_log_retention,de=se.email_log_url,ge=se.retention_options,ue=se.save_attachments_enabled,_e=se.save_email_body_enabled,be=(null==E?void 0:E.debug_log_settings)||{},me=be.debug_log_retention,ve=be.debug_log_url,fe=be.retention_options,pe=(0,V.default)((function(e){return e.debugLogEnabled})),he=(0,V.default)((function(e){return e.setDebugLogEnabled})),Ae=(0,V.default)((function(e){return e.setConfirmDialogSettings})),ye=(0,V.default)((function(e){return e.setConfirmDialogOpen})),ke=(0,y.dh)(),Se=H(le),Ee=(0,l.A)(Se,2),xe=Ee[0],Ce=Ee[1];return u.React.createElement("div",(0,s.A)({},w,{ref:t}),u.React.createElement(m.A,{size:"display-sm",weight:"semibold",spacing:1,content:D}),u.React.createElement(p.A,{size:"text-sm",spacing:6,color:"comet",content:T}),(0,j.A)("CAPS_VIEW_EMAIL_LOG_SETTINGS")&&u.React.createElement(A.A,{HeaderContent:function(e){return u.React.createElement(m.A,(0,s.A)({content:M,tagName:"h2",size:"text-lg",weight:"medium"},e))},spacing:6},u.React.createElement(_.A,{customClasses:["gravitysmtp-logging-settings__box-container"],x:630},u.React.createElement(h.A,{customAttributes:{"data-test-id":"settings-activity-log-enable"},helpTextAttributes:{content:z,size:"text-sm"},initialChecked:le,labelAttributes:W({label:P},(0,N.A)(R("event_log_enabled"))),onChange:function(e){Ce(e),(0,k.A)({addSnackbarMessage:ke,key:R("event_log_enabled"),updateData:E.email_log_settings,value:e})},labelPosition:"left",name:R("event_log_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,j.A)("CAPS_EDIT_EMAIL_LOG_SETTINGS")}),xe&&u.React.createElement(h.A,{customAttributes:{"data-test-id":"settings-save-email-body-enable"},helpTextAttributes:{content:L,size:"text-sm"},initialChecked:_e,labelAttributes:W({label:B},(0,N.A)(R("save_email_body_enabled"))),onChange:function(e){(0,k.A)({addSnackbarMessage:ke,key:R("save_email_body_enabled"),updateData:E.email_log_settings,value:e})},labelPosition:"left",name:R("save_email_body_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,j.A)("CAPS_EDIT_EMAIL_LOG_SETTINGS")}),xe&&u.React.createElement(h.A,{customAttributes:{"data-test-id":"settings-save-attachments-enable"},helpTextAttributes:{content:U,size:"text-sm"},initialChecked:ue,labelAttributes:W({label:G},(0,N.A)(R("save_attachments_enabled"))),onChange:function(e){(0,k.A)({addSnackbarMessage:ke,key:R("save_attachments_enabled"),updateData:E.email_log_settings,value:e})},labelPosition:"left",name:R("save_attachments_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,j.A)("CAPS_EDIT_EMAIL_LOG_SETTINGS")}),u.React.createElement(f.A,{customAttributes:{"data-test-id":"settings-email-log-retention"},wrapperClasses:[!E.email_log_settings.log_retention_period_enabled&&"gravitysmtp-logging-settings__log-retention--locked"],initialValue:ce,labelAttributes:W({label:J},(0,N.A)(R("event_log_retention"),!E.email_log_settings.log_retention_period_enabled)),helpTextAttributes:{content:E.email_log_settings.log_retention_period_enabled?q:F,size:E.email_log_settings.log_retention_period_enabled?"text-xs":"text-sm"},name:R("event_log_retention"),onChange:function(e){(0,k.A)({addSnackbarMessage:ke,showSnackBarSuccess:!0,key:R("event_log_retention"),updateData:E.email_log_settings,value:e})},options:ge,disabled:!(0,j.A)("CAPS_EDIT_EMAIL_LOG_SETTINGS"),spacing:6}),u.React.createElement(_.A,{display:"flex",customClasses:["gravitysmtp-logging-settings__debug-log-buttons"]},(0,j.A)("CAPS_VIEW_EMAIL_LOG")&&u.React.createElement(v.A,{content:$,customAttributes:{"data-test-id":"settings-activity-log-link"},customClasses:["gform-button","gform-button--size-height-m","gform-button--white","gform-button--width-auto","gform-button--icon-leading","gform-typography--size-text-sm","gform-typography--weight-medium"],href:de}),(0,j.A)("CAPS_DELETE_EMAIL_LOG")&&u.React.createElement(b.A,{customAttributes:{"data-test-id":"settings-activity-log-delete"},label:ee,onClick:(0,r.A)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ae({confirmDialogConfirmButtonType:"amaranth-red",confirmDialogI18n:{confirm_change_confirm:re,confirm_change_content:ie,confirm_change_heading:ae},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return ye(!1)},confirmDialogOnClose:function(){return ye(!1)},confirmDialogOnConfirm:function(){var e=(0,r.A)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye(!1),e.next=3,I({addSnackbarMessage:ke,type:"email"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),icon:"trash",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",size:"size-height-m",type:"amaranth-red"})))),(0,j.A)("CAPS_VIEW_DEBUG_LOG_SETTINGS")&&u.React.createElement(A.A,{HeaderContent:function(e){return u.React.createElement(m.A,(0,s.A)({content:K,tagName:"h2",size:"text-lg",weight:"medium"},e))}},u.React.createElement(_.A,{customClasses:["gravitysmtp-logging-settings__box-container"],x:630},u.React.createElement(h.A,{customAttributes:{"data-test-id":"settings-debug-log-enable"},initialChecked:pe,labelAttributes:W({label:Q},(0,N.A)(R("debug_log_enabled"))),helpTextAttributes:{content:X,size:"text-sm"},onChange:function(e){he(e),(0,k.A)({addSnackbarMessage:ke,key:R("debug_log_enabled"),successCallback:function(){E.debug_log_settings.debug_log_enabled=e,d.data.debug_log_enabled=e},value:e})},helpTextWidth:"full",labelPosition:"left",name:R("debug_log_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,j.A)("CAPS_EDIT_DEBUG_LOG_SETTINGS")}),u.React.createElement(f.A,{initialValue:me,labelAttributes:W({label:Y},(0,N.A)(R("debug_log_retention"))),helpTextAttributes:{content:Z},name:R("debug_log_retention"),onChange:function(e){(0,k.A)({addSnackbarMessage:ke,showSnackBarSuccess:!0,key:R("debug_log_retention"),updateData:E.debug_log_settings,value:e})},options:fe,disabled:!(0,j.A)("CAPS_EDIT_DEBUG_LOG_SETTINGS"),spacing:6}),u.React.createElement(_.A,{display:"flex",customClasses:["gravitysmtp-logging-settings__debug-log-buttons"]},(0,j.A)("CAPS_VIEW_DEBUG_LOG")&&u.React.createElement(v.A,{content:te,customAttributes:{"data-test-id":"settings-debug-log-link"},customClasses:["gform-button","gform-button--size-height-m","gform-button--white","gform-button--width-auto","gform-button--icon-leading","gform-typography--size-text-sm","gform-typography--weight-medium"],href:ve}),(0,j.A)("CAPS_DELETE_DEBUG_LOG")&&u.React.createElement(b.A,{customAttributes:{"data-test-id":"settings-debug-log-delete"},label:ne,onClick:(0,r.A)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ae({confirmDialogConfirmButtonType:"amaranth-red",confirmDialogI18n:{confirm_change_confirm:re,confirm_change_content:oe,confirm_change_heading:ae},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return ye(!1)},confirmDialogOnClose:function(){return ye(!1)},confirmDialogOnConfirm:function(){var e=(0,r.A)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye(!1),e.next=3,I({addSnackbarMessage:ke});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),icon:"trash",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",size:"size-height-m",type:"amaranth-red"})))))}));q.propTypes={customAttributes:u.PropTypes.object,customClasses:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.array,u.PropTypes.object])},q.displayName="LoggingScreen";var F=q},68381:function(e,t,n){var a,i=n(90455),o=n(78564),r=n.n(o),s=n(27122),l=n.n(s),c=n(40450),d=n.n(c),g=n(60177),u=n(71376),_=n(83707),b=n(93313),m=(null===(a=(0,u.zj)(d(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.common)||{},v=function(e){var t=e.addSnackbarMessage,n=e.key,a=e.saveSuccessSnackBarMessage,i=e.showSnackBarSuccess,o=e.updateData,r=e.value;o[n]&&(o[n]=r),i&&t(a,"success")},f=function(e){var t=e.addSnackbarMessage,n=(e.error,e.saveErrorSnackBarMessage);e.showSnackBarError&&t(n,"error")},p=function(){var e=(0,i.A)(r().mark((function e(t){var n,a,i,o,s,c,d,p,h,A,y,k,S,E,x,C,w,O,D,T,M,P,z,B,I,L,G,R,j,N,V,U,W,J,H,q,F,K,Q,X,Y,Z,$,ee,te;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.addSnackbarMessage,a=void 0===n?function(){}:n,i=t.errorCallback,o=void 0===i?null:i,s=t.key,c=void 0===s?"":s,d=t.showSnackBarError,p=void 0===d||d,h=t.showSnackBarSuccess,A=void 0!==h&&h,y=t.snackBarErrorMessage,k=void 0===y?"":y,S=t.snackBarSuccessMessage,E=void 0===S?"":S,x=t.successCallback,C=void 0===x?null:x,w=t.updateData,O=void 0===w?{}:w,D=t.useDebugLogger,T=void 0===D||D,M=t.value,P=void 0===M?"":M,z=m.i18n,I=(B=void 0===z?{}:z).snackbar_generic_update_error,L=void 0===I?"":I,G=B.snackbar_generic_update_success,R=void 0===G?"":G,j=B.debug_messages,V=(N=void 0===j?{}:j).saving_plugin_settings,U=void 0===V?"":V,W=N.saving_plugin_settings_error,J=void 0===W?"":W,H=m.endpoints,q=(void 0===H?{}:H).save_plugin_settings,K=(F=void 0===q?{}:q).action,Q=void 0===K?"":K,X=F.nonce,Y=E||R,Z=k||L,$={action:Q,security:void 0===X?"":X,key:c,value:P},!T){e.next=8;break}return e.next=8,(0,_.A)((0,u.nv)(U,JSON.stringify((0,b.A)(["security"],$))),"info");case 8:return e.prev=8,e.next=11,(0,g.bE)({endpoint:l(),body:$});case 11:null!=(te=e.sent)&&null!==(ee=te.data)&&void 0!==ee&&ee.success?(C||v)({addSnackbarMessage:a,data:null==te?void 0:te.data,key:c,saveSuccessSnackBarMessage:Y,showSnackBarSuccess:A,updateData:O,value:P}):(o||f)({addSnackbarMessage:a,error:null==te?void 0:te.error,saveErrorSnackBarMessage:Z,showSnackBarError:p}),e.next=21;break;case 15:if(e.prev=15,e.t0=e.catch(8),!T){e.next=21;break}return e.next=21,(0,_.A)((0,u.nv)(J,JSON.stringify(e.t0)),"error");case 21:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}();t.A=p},90266:function(e,t,n){n.d(t,{A:function(){return c}});var a,i,o=n(40450),r=n.n(o),s=(null===(a=(0,n(71376).zj)(r(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.common)||{},l=(null==s||null===(i=s.data)||void 0===i?void 0:i.constants)||{};function c(){return l[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]||""}},49572:function(e,t,n){n.d(t,{A:function(){return m}});var a,i,o,r,s=n(40450),l=n.n(s),c=n(71376),d=n(90266),g=(null===(a=(0,c.zj)(l(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.components)||{},u=(null==g||null===(i=g.activity_log)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.caps)||{},_=(null==g||null===(o=g.settings)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.caps)||{},b=(null==g||null===(r=g.tools)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.caps)||{};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,d.A)(e);return u[t]||_[t]||b[t]||!1}},27764:function(e,t,n){var a,i=n(40450),o=n.n(i),r=(null===(a=(0,n(71376).zj)(o(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.common)||{};t.A=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{iconPrefix:"gravitysmtp-admin-icon",locked:(null==r||null===(e=r.data)||void 0===e||null===(e=e.locked_settings)||void 0===e?void 0:e.includes(n))||a,lockedMessage:i||(null==r||null===(t=r.i18n)||void 0===t?void 0:t.setting_locked)||""}}}}]);