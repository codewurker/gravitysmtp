"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[6921,6018,9529],{1057:function(e,t,n){n.r(t);var r=n(9801),i=n(5720),a=n(5210),u=n(9509),s=n.n(u),c=n(9608),o=n.n(c),l=n(7784),d=n(760),p=n(4070),f=n(9805),v=n(7343),g=n(6192),_=n(6493),m=n(7024),y=n(4237),b=n(5212),h=n(1047),S=n(583),w=n(6901),k=n(7066),x=n(2077),Z=n(9208),z=l.React.useEffect,O=l.React.useRef,E=l.React.useState;t.default=function(e){var t,n,u,c,N=e.common,R=e.data,B=e.endpoints,P=e.i18n,A=(0,h.default)((function(e){return e.activeStep})),D=(0,h.default)((function(e){return e.isAnimatedIn})),C=(0,h.default)((function(e){return e.isOpen})),F=(0,h.default)((function(e){return e.setActiveStep})),j=(0,h.default)((function(e){return e.setActiveNavBarStepNext})),J=(0,h.default)((function(e){return e.setShouldRedirect})),I=(0,h.default)((function(e){return e.setHasDebugError})),L=P.debug_messages,T=void 0===L?{}:L,M=T.checking_license_key,G=T.checking_license_key_error,U=T.saving_should_display_error,H=T.saving_license_key_error,q=T.updating_usage_analytics_error,K=T.saving_license_key,V=T.setting_should_display_false,W=T.starting_subsequent_run,Q=T.updating_usage_analytics,X=P.setup_wizard_welcome_title,Y=P.setup_wizard_welcome_copy,$=(P.setup_wizard_welcome_list_01,P.setup_wizard_welcome_list_02,P.setup_wizard_welcome_list_03,P.setup_wizard_welcome_list_04,P.setup_wizard_get_started),ee=P.setup_wizard_verify_license,te=P.setup_wizard_checking_license,ne=P.setup_wizard_license_input_label,re=P.setup_wizard_license_input_placeholder,ie=R.import_data_possible,ae=R.license_key_is_valid,ue=R.should_display,se=(null==N?void 0:N.i18n)||{},ce=se.general_settings_usage_analytics_label,oe=se.general_settings_usage_analytics_help_text,le=(null==N?void 0:N.data)||{},de=le.param_keys,pe=le.usage_analytics_enabled,fe=le.usage_analytics_link,ve=ie?2:3,ge=(0,y.Ds)(),_e=ue&&ae&&(null==R?void 0:R.license_key)||"",me=E(!1),ye=(0,a.Z)(me,2),be=ye[0],he=ye[1],Se=E(_e),we=(0,a.Z)(Se,2),ke=we[0],xe=we[1],Ze=E(!1),ze=(0,a.Z)(Ze,2),Oe=ze[0],Ee=ze[1],Ne=(0,d.aM)(pe),Re=(0,a.Z)(Ne,2),Be=Re[0],Pe=Re[1],Ae=(null==B||null===(t=B.save_plugin_settings)||void 0===t?void 0:t.action)||"",De=(null==B||null===(n=B.save_plugin_settings)||void 0===n?void 0:n.nonce)||"",Ce=(null==B||null===(u=B.check_license)||void 0===u?void 0:u.action)||"",Fe=(null==B||null===(c=B.check_license)||void 0===c?void 0:c.nonce)||"",je=O();z((function(){1===A&&je.current&&je.current.focus()}),[A]),z((function(){var e=function(e){var t;(null===(t=e.detail)||void 0===t?void 0:t.key)===de.usage_analytics&&Pe(e.detail.value)};return document.addEventListener("gravitysmtp/setting-updated",e),function(){document.removeEventListener("gravitysmtp/setting-updated",e)}})),z((function(){C&&1===A&&!ue&&(0,x.Z)((0,S.gB)(W,JSON.stringify({licenseKeyIsValid:ae,importDataPossible:ie,nextStep:ve,activeStep:A,currentStep:1})),"info")}),[C]);var Je={ref:(0,d.P5)(1===A&&D),className:(0,l.classnames)((0,i.Z)({"gravitysmtp-setup-wizard__screen":!0},"gravitysmtp-setup-wizard__screen--step-".concat(1),!0)),"aria-hidden":1!==A},Ie=function(){var e=(0,r.Z)(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n={action:Ae,security:De,key:"setup_wizard_should_display",value:!1},e.next=6,(0,x.Z)((0,S.gB)(V,JSON.stringify((0,Z.Z)(["security"],n))),"info");case 6:return e.next=8,(0,p.v_)({endpoint:o(),body:n});case 8:if(null!=(r=e.sent)&&null!==(t=r.data)&&void 0!==t&&t.success){e.next=14;break}return e.next=13,(0,x.Z)((0,S.gB)(U,JSON.stringify(null==r?void 0:r.error)),"error");case 13:I(!0);case 14:e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(2),e.next=21,(0,x.Z)((0,S.gB)(U,JSON.stringify(e.t0)),"error");case 21:I(!0);case 22:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=(0,r.Z)(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={action:Ae,security:De,key:"license_key",value:ke.trim()},e.next=4,(0,x.Z)((0,S.gB)(K,JSON.stringify((0,Z.Z)(["security"],n))),"info");case 4:return e.next=6,(0,p.v_)({endpoint:o(),body:n});case 6:if(null!=(r=e.sent)&&null!==(t=r.data)&&void 0!==t&&t.success){e.next=12;break}return e.next=11,(0,x.Z)((0,S.gB)(H,JSON.stringify(null==r?void 0:r.error)),"error");case 11:I(!0);case 12:e.next=20;break;case 14:return e.prev=14,e.t0=e.catch(0),e.next=19,(0,x.Z)((0,S.gB)(H,JSON.stringify(e.t0)),"error");case 19:I(!0);case 20:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={action:Ae,security:De,key:de.usage_analytics,value:t?"true":"false"},e.next=4,(0,x.Z)((0,S.gB)(Q,JSON.stringify((0,Z.Z)(["security"],r))),"info");case 4:return e.next=6,(0,p.v_)({endpoint:o(),body:r});case 6:if(null!=(i=e.sent)&&null!==(n=i.data)&&void 0!==n&&n.success){e.next=14;break}return e.next=11,(0,x.Z)((0,S.gB)(q,JSON.stringify(null==i?void 0:i.error)),"error");case 11:I(!0),e.next=16;break;case 14:N.data.usage_analytics_enabled=t,Pe(t);case 16:e.next=24;break;case 18:return e.prev=18,e.t0=e.catch(0),e.next=23,(0,x.Z)((0,S.gB)(q,JSON.stringify(e.t0)),"error");case 23:I(!0);case 24:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}(),Me={initialChecked:pe,externalChecked:Be,externalControl:!0,labelAttributes:{label:ce},helpTextAttributes:{content:l.React.createElement(d.ji,{closingSymbol:"}}",openingSymbol:"{{",text:oe,tokens:[{component:w.Z,key:"learn_link",props:{href:fe,size:"text-xs",target:"_blank"}}]}),spacing:[4,0,0,0]},helpTextWidth:"full",labelPosition:"left",id:"usage_analytics_wizard",name:de.usage_analytics,onChange:Te,size:"size-m",width:"full"},Ge=function(){var e=(0,r.Z)(s().mark((function e(){var t,n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={action:Ce,security:Fe,license_key:ke.trim()},e.next=4,(0,x.Z)((0,S.gB)(M,JSON.stringify((0,Z.Z)(["security"],n))),"info");case 4:return e.next=6,(0,p.v_)({endpoint:o(),body:n});case 6:if(r=e.sent,he(!1),null!=r&&null!==(t=r.data)&&void 0!==t&&t.success){e.next=16;break}return i=(0,S.sO)(r.error.detail.data)?JSON.parse(r.error.detail.data):"",e.next=12,(0,x.Z)((0,S.gB)(G,JSON.stringify(null==r?void 0:r.error)),"error");case 12:I(!0),ge(i.data,"error"),e.next=20;break;case 16:Ee(!0),Ie().then((function(){Le()})),J(!1),setTimeout((function(){F(ve),j(),setTimeout((function(){Ee(!1)}),300)}),1e3);case 20:e.next=28;break;case 22:return e.prev=22,e.t0=e.catch(0),e.next=27,(0,x.Z)((0,S.gB)(G,JSON.stringify(e.t0)),"error");case 27:I(!0);case 28:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}();return l.React.createElement("div",Je,l.React.createElement("div",{className:"gravitysmtp-setup-wizard__screen-inner"},l.React.createElement(l.SimpleBar,{scrollableNodeProps:{ref:je}},l.React.createElement("div",{className:"gravitysmtp-setup-wizard__content"},l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__inner-content"],x:368},l.React.createElement(d.Uo,{delay:200,transitionDuration:800},l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__logo-container"],spacing:12},l.React.createElement(b.GravitySMTPFullLogo,null)),l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__heading-container"]},l.React.createElement(g.Z,{content:X,size:"display-lg",spacing:6,tagName:"h2",weight:"semibold"})),l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__body-container"]},l.React.createElement(m.Z,{content:Y,spacing:8})),l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__footer-container"],spacing:8},ae?l.React.createElement(v.Z,{customClasses:["gravitysmtp-setup-wizard__get-started-button"],size:"size-height-xl",icon:"check-circle",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",label:$,type:"primary-new",width:"full",onClick:function(){ue&&Ie().then((function(){Le()})),J(!1),F(ve),j()}}):l.React.createElement(l.React.Fragment,null,l.React.createElement(_.Z,{customAttributes:{disabled:be},customClasses:["gravitysmtp-setup-wizard__license-input"],id:"gravitysmtp-setup-wizard__license-input",labelAttributes:{label:ne},onChange:xe,placeholder:re,size:"size-xl",spacing:5,textSecurity:"disc",value:ke}),l.React.createElement(v.Z,{customClasses:["gravitysmtp-setup-wizard__get-started-button"],size:"size-height-xl",icon:"check-circle",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",label:ee,active:be,activeType:"loader",disabled:be||Oe,activeText:te,type:Oe?"apple-green":"primary-new",width:"full",onClick:(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return he(!0),e.next=3,Ge();case 3:case"end":return e.stop()}}),e)})))}))),l.React.createElement(f.Z,null,l.React.createElement(k.Z,Me))))))))}},5212:function(e,t,n){n.r(t),n.d(t,{BrevoFullLogo:function(){return r.Z},CustomSMTPFullLogo:function(){return i.Z},GoogleFullLogo:function(){return a.Z},GravityFormsStackedLogo:function(){return u.Z},GravitySMTPFullLogo:function(){return s.Z},MailFailedBg:function(){return c.Z},MailSuccessBg:function(){return l.Z},MailgunFullLogo:function(){return o.Z},PostmarkFullLogo:function(){return d.Z},SendGridFullLogo:function(){return p.Z}});var r=n(1345),i=n(1219),a=n(4077),u=n(3811),s=n(2635),c=n(9228),o=n(1285),l=n(1917),d=n(3989),p=n(1215)},1047:function(e,t,n){n.r(t);var r,i,a,u,s=n(5720),c=n(7784),o=n(760),l=n(583),d=n(3267),p=n.n(d);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g,_,m=(null===(r=(0,l.iE)(p(),"gravitysmtp_admin_config"))||void 0===r||null===(r=r.components)||void 0===r?void 0:r.setup_wizard)||{},y="",b=v(v({hasDebugError:!1,importDataPossible:null===(i=m.data)||void 0===i?void 0:i.import_data_possible,isAnimatedIn:!1,integrationSetupAction:"skip",setupStatus:"skipped",settingsUpdated:!1,shouldRedirect:(null==m||null===(a=m.data)||void 0===a?void 0:a.should_display)||!1,integrationSettingsFormData:(_={},null==m||null===(g=m.data)||void 0===g||null===(g=g.integrations)||void 0===g||g.forEach((function(e){var t;_[e.id]=(null==e?void 0:e.data)||{},null!==(t=_[e.id])&&void 0!==t&&t.enabled&&(y=e.id)})),_)},(null===(u=(0,l.iE)(p(),"gravitysmtp_admin_config"))||void 0===u||null===(u=u.components)||void 0===u||null===(u=u.setup_wizard)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.defaults)||{}),{},{integration:y}),h=(0,o.Ue)(b,(function(e){return{closeDialog:function(){return e((function(){return{isOpen:!1}}))},openDialog:function(){return e((function(){return{isOpen:!0}}))},setActiveStepNext:function(){return e((function(e){return{activeStep:e.activeStep+1}}))},setActiveStepPrevious:function(){return e((function(e){return{activeStep:e.activeStep-1}}))},setActiveStep:function(t){return e((function(){return{activeStep:t}}))},setActiveNavBarStepNext:function(){return e((function(e){return{activeNavBarStep:e.activeNavBarStep+1}}))},setActiveNavBarStepPrevious:function(){return e((function(e){return{activeNavBarStep:e.activeNavBarStep-1}}))},setActiveNavBarStep:function(t){return e((function(){return{activeNavBarStep:t}}))},setHasDebugError:function(t){return e((function(){return{hasDebugError:t}}))},setImportPlugin:function(t){return e((function(){return{importPlugin:t}}))},setIntegration:function(t){return e((function(){return{integration:t}}))},setIsAnimatedIn:function(t){return e((function(){return{isAnimatedIn:t}}))},setIntegrationSetupAction:function(t){return e((function(){return{integrationSetupAction:t}}))},setSetupStatus:function(t){return e((function(){return{setupStatus:t}}))},setSettingsUpdated:function(){return e((function(){return{settingsUpdated:!0}}))},setShouldRedirect:function(t){return e((function(){return{shouldRedirect:t}}))},setInnerDialogOpen:function(t){return e((function(){return{innerDialogOpen:t}}))},setIntegrationSettingsFormData:function(t,n,r){return e((0,c.immer)((function(e){e.integrationSettingsFormData[t]||(e.integrationSettingsFormData[t]={}),e.integrationSettingsFormData[t][n]=r})))}}}));t.default=h},2077:function(e,t,n){n.d(t,{Z:function(){return f}});var r,i=n(9801),a=n(9509),u=n.n(a),s=n(9608),c=n.n(s),o=n(3267),l=n.n(o),d=n(4070),p=(null===(r=(0,n(583).iE)(l(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{};function f(){return v.apply(this,arguments)}function v(){return v=(0,i.Z)(u().mark((function e(){var t,n,r,i,a,s,o,l,f,v,g=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g.length>0&&void 0!==g[0]?g[0]:"",i=g.length>1&&void 0!==g[1]?g[1]:"debug",a=p.data,s=void 0===a?{}:a,o=p.endpoints,f=(null==(l=void 0===o?{}:o)||null===(t=l.log_debug_item)||void 0===t?void 0:t.action)||"",v=(null==l||null===(n=l.log_debug_item)||void 0===n?void 0:n.nonce)||"",null!=s&&s.debug_log_enabled&&f&&v&&r){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,(0,d.v_)({endpoint:c(),body:{action:f,security:v,message:r,priority:i}}).catch((function(e){}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}},9208:function(e,t,n){var r=n(6588),i=n(5210);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return function n(a){return Object.entries(a).reduce((function(a,u){var s=(0,i.Z)(u,2),c=s[0],o=s[1];return"object"===(0,r.Z)(o)&&null!==o?a[c]=n(o):e.includes(c)?a[c]=null===o?null:t.repeat(o.length):a[c]=o,a}),Array.isArray(a)?[]:{})}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}}]);