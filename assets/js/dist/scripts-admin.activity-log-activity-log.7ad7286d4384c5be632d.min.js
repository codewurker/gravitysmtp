"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[6648,9975],{7301:function(e,t,a){a.r(t);var i=a(5720),r=a(5210),n=a(7784),c=a(9118),o=a(4237),s=a(7767),l=a(6091),m=a(5239),p=a(8066),d=a(907),u=a(4665),v=a(141);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,i.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y=n.React.useRef,_=n.ReactRouter.BrowserRouter,w=n.ReactRouter.Routes,b=n.ReactRouter.Route,h=n.ReactRouter.useSearchParams,E=(n.ReactRouter.useLocation,function(e){return n.React.createElement(p.default,e)});t.default=function(e){var t=e.data,a=e.i18n,i=e.common,p=t.route_path.replace(window.location.origin,""),f=y(),R=function(e){var t=h(),a=(0,r.Z)(t,2),i=a[0],c=(a[1],i.get(e.data.nav_item_param_key||"tab")||"activity-log");switch(f.current&&(f.current.scrollTop=0),c){case"activity-log":return n.React.createElement(d.default,e);case"log-details":return n.React.createElement(u.default,e);default:return null}},O={confirmButtonType:(0,v.default)((function(e){return e.confirmDialogConfirmButtonType})),i18n:g(g({},(null==i?void 0:i.i18n)||{}),(0,v.default)((function(e){return e.confirmDialogI18n}))),isOpen:(0,v.default)((function(e){return e.confirmDialogOpen})),onCancel:(0,v.default)((function(e){return e.confirmDialogOnCancel})),onConfirm:(0,v.default)((function(e){return e.confirmDialogOnConfirm}))};return n.React.createElement(_,null,n.React.createElement(o.wT,{defaultSettings:{errorIconAttributes:{icon:"exclamation-simple",iconPrefix:"gravitysmtp-admin-icon"},successIconAttributes:{icon:"correct",iconPrefix:"gravitysmtp-admin-icon"}}},n.React.createElement("div",{className:"gravitysmtp-app__wrapper"},n.React.createElement(c.Z,{customClasses:["gravitysmtp-activity-log-app"],Header:E,simpleBarRef:f,data:t,i18n:a},n.React.createElement("div",{className:"gravitysmtp-activity-log-app__content"},n.React.createElement(w,null,n.React.createElement(b,{path:p,element:n.React.createElement(R,{data:t,i18n:a,common:i})})))),n.React.createElement(l.default,{data:t,common:i,i18n:a}),n.React.createElement(m.default,{data:t,common:i,i18n:a}),n.React.createElement(s.Z,O))))}},6091:function(e,t,a){a.r(t);var i=a(6796),r=a(9801),n=a(5720),c=a(5210),o=a(9509),s=a.n(o),l=a(9608),m=a.n(l),p=a(7784),d=a(4070),u=a(583),v=a(7343),f=a(5051),g=a(1480),y=a(4237),_=a(2077),w=a(9208),b=a(141);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var R=p.React.forwardRef,O=p.React.useState,P=p.ReactRouter.useLocation,j=p.ReactRouter.useNavigate,C=R((function(e,t){var a,n,o=e.customAttributes,l=void 0===o?{}:o,h=e.customClasses,R=void 0===h?[]:h,C=e.common,N=void 0===C?{}:C,Z=e.data,T=void 0===Z?{}:Z,k=e.i18n,x=void 0===k?{}:k,D=j(),S=P(),A=(0,b.default)((function(e){return e.deleteEventDialogOpen})),z=(0,b.default)((function(e){return e.setDeleteEventDialogOpen})),B=(0,b.default)((function(e){return e.deletingEventId})),H=(0,b.default)((function(e){return e.setDeletingEventId})),I=(0,b.default)((function(e){return e.deleteEventLog})),L=O(!1),V=(0,c.Z)(L,2),F=V[0],J=V[1],M=(0,y.Ds)(),W=(null==N||null===(a=N.endpoints)||void 0===a||null===(a=a.delete_email)||void 0===a?void 0:a.action)||"",U=(null==N||null===(n=N.endpoints)||void 0===n||null===(n=n.delete_email)||void 0===n?void 0:n.nonce)||"",q=((null==N?void 0:N.i18n)||{}).snackbar_email_log_delete_error,G=void 0===q?"":q,K=x.confirm_delete_email_heading,Q=void 0===K?"":K,X=x.confirm_delete_email_content,Y=void 0===X?"":X,$=x.confirm_delete_email_delete,ee=void 0===$?"":$,te=x.confirm_delete_email_cancel,ae=void 0===te?"":te,ie=x.debug_messages,re=void 0===ie?{}:ie,ne=re.deleting_single_activity_log,ce=void 0===ne?"":ne,oe=re.deleting_single_activity_log_error,se=void 0===oe?"":oe,le=E({className:(0,p.classnames)({"gravitysmtp-delete-email":!0},R)},l),me=function(){var e,t=new URLSearchParams(S.search),a=T.nav_item_param_key||"tab";if("activity-log"!==t.get(a))if("activity-log"===(null==S||null===(e=S.state)||void 0===e?void 0:e.previous))D(-1);else{t.delete("event_id"),t.set(a,"activity-log");var i=E(E({},S),{},{search:"?".concat(t.toString())});D(i,{state:{previous:"log-details"}})}},pe={onCloseAfterAnimation:function(){H(0),J(!1)},closeOnMaskClick:!1,customWrapperClasses:["gravitysmtp-delete-activity__dialog"],customCloseButtonLabelAttributes:{className:(0,p.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:Y,isOpen:A,maskTheme:"light",maxHeight:"90vh",mode:"modal",padContent:!1,position:"absolute",showCloseButton:!1,theme:"cosmos",title:Q},de=function(){var e=(0,r.Z)(s().mark((function e(){var t,a,i,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),t={action:W,security:U,event_id:B},e.next=4,(0,_.Z)((0,u.gB)(ce,JSON.stringify((0,w.Z)(["security"],t))),"info");case 4:return e.prev=4,e.next=7,(0,d.v_)({endpoint:m(),body:t});case 7:null!=(i=e.sent)&&null!==(a=i.data)&&void 0!==a&&a.success?(I(B),M(null==i||null===(r=i.data)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message)):M(G,"error"),z(!1),me(),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(4),M(e.t0,"error"),e.next=18,(0,_.Z)((0,u.gB)(se,JSON.stringify(e.t0)),"error");case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();return p.React.createElement("div",(0,i.Z)({},le,{ref:t}),p.React.createElement(g.Z,pe,p.React.createElement(f.Z,{container:!0,customClasses:["gravitysmtp-delete-activity__dialog-actions"],justifyContent:"flex-start",columnSpacing:3,spacing:[8,0,0,0],type:"fluid"},p.React.createElement(f.Z,{item:!0,width:6},p.React.createElement(v.Z,{label:ae,onClick:function(){return z(!1)},type:"white",width:"full"})),p.React.createElement(f.Z,{item:!0,width:6},p.React.createElement(v.Z,{active:F,activeType:"loader",label:ee,onClick:de,width:"full"})))))}));C.propTypes={customAttributes:p.PropTypes.object,customClasses:p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.array,p.PropTypes.object]),common:p.PropTypes.object,data:p.PropTypes.object,i18n:p.PropTypes.object},t.default=C},8066:function(e,t,a){a.r(t);var i=a(6796),r=a(5720),n=a(7784),c=a(2635),o=a(1053);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var l=(0,n.React.forwardRef)((function(e,t){var a=e.customAttributes,l=void 0===a?{}:a,m=e.customClasses,p=void 0===m?[]:m,d=e.data,u=void 0===d?{}:d,v=e.showVersion,f=void 0===v||v,g=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({className:(0,n.classnames)({"gravitysmtp-activity-log-app__header":!0},p)},l),y=u.version;return n.React.createElement("div",(0,i.Z)({},g,{ref:t}),n.React.createElement("div",{className:"gravitysmtp-activity-log-app__header-main"},n.React.createElement("div",{className:"gravitysmtp-activity-log-app__header-logo"},n.React.createElement(c.Z,{height:22,width:220})),f&&n.React.createElement(o.Z,{type:"amethyst-smoke",size:"text-xxs",content:y})))}));l.propTypes={customAttributes:n.PropTypes.object,customClasses:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.array,n.PropTypes.object])},l.displayName="ActivityLogHeader",t.default=l},5239:function(e,t,a){a.r(t);var i=a(6796),r=a(5720),n=a(5210),c=a(7784),o=a(9118),s=a(8066),l=a(1480),m=a(6936),p=a(1256),d=a(7343),u=a(6192),v=a(1523),f=a(7024),g=a(141);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var _=c.React.forwardRef,w=c.React.useEffect,b=c.React.useState,h=function(e){var t=e.wrapperClasses,a=void 0===t?[]:t,i=e.dot,r=void 0===i||i,n=e.width,o=void 0===n?"62px":n,s={className:(0,c.classnames)(["gravitysmtp-view-email__placeholder-stripe"],a)};return c.React.createElement("div",s,r&&c.React.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-dot"}),c.React.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-line",style:{width:o}}))},E=_((function(e,t){var a,_,E=e.customAttributes,R=void 0===E?{}:E,O=e.customClasses,P=void 0===O?[]:O,j=e.common,C=void 0===j?{}:j,N=e.data,Z=void 0===N?{}:N,T=e.i18n,k=void 0===T?{}:T,x=(0,g.default)((function(e){return e.viewEmailDialogOpen})),D=(0,g.default)((function(e){return e.setViewEmailDialogOpen})),S=(0,g.default)((function(e){return e.viewEmailEventId})),A=(0,g.default)((function(e){return e.viewEmailEventIsHtml})),z=(0,g.default)((function(e){return e.viewEmailEventDate})),B=(0,g.default)((function(e){return e.viewEmailEventFromHash})),H=(0,g.default)((function(e){return e.viewEmailEventFrom})),I=(0,g.default)((function(e){return e.viewEmailEventTo})),L=(0,g.default)((function(e){return e.viewEmailEventTitle})),V=(0,g.default)((function(e){return e.setViewEmailEventProperties})),F=b(!1),J=(0,n.Z)(F,2),M=J[0],W=J[1],U=b("desktop"),q=(0,n.Z)(U,2),G=q[0],K=q[1],Q=(null==C||null===(a=C.endpoints)||void 0===a||null===(a=a.get_email_message)||void 0===a?void 0:a.action)||"",X=(null==C||null===(_=C.endpoints)||void 0===_||null===(_=_.get_email_message)||void 0===_?void 0:_.nonce)||"",Y="".concat(null==Z?void 0:Z.ajax_url,"?action=").concat(Q,"&security=").concat(X,"&event_id=").concat(S),$=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({className:(0,c.classnames)({"gravitysmtp-view-email":!0},P)},R),ee={className:(0,c.classnames)({"gravitysmtp-view-email__sidebar-container":!0,"gravitysmtp-view-email__sidebar-container--loading":M})},te={className:(0,c.classnames)((0,r.Z)({"gravitysmtp-view-email__container":!0,"gravitysmtp-view-email__container--html-mode":A},"gravitysmtp-view-email__container--".concat(G,"-mode"),!0))},ae=(null==k?void 0:k.log_detail)||{},ie=ae.main_box_from_label,re=ae.main_box_to_label,ne=ae.view_email_desktop_mode,ce=ae.view_email_mobile_mode;w((function(){x&&W(!0),K("desktop")}),[x]);var oe={closeButtonType:"simplified",onCloseAfterAnimation:function(){V({date:"",isHtml:!1,id:0,fromHash:"",from:"",to:"",title:""}),D(!1)},customWrapperClasses:["gravitysmtp-view-email__dialog"],customMaskClasses:["gravitysmtp-view-email__mask"],customCloseButtonLabelAttributes:{className:(0,c.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:"",isOpen:x,maskTheme:"light",mode:"modal",padContent:!1,position:"absolute",theme:"cosmos",version:2,zIndex:100001},se=[62,62,55,81,81,55],le={className:(0,c.classnames)({"gravitysmtp-view-email__header-details-meta":!0,"gravitysmtp-view-email__header-details-meta--loading":M})};return c.React.createElement("div",(0,i.Z)({},$,{ref:t}),c.React.createElement(l.Z,oe,c.React.createElement(o.Z,{customClasses:["gravitysmtp-view-email-layout"],Header:function(e){return c.React.createElement(s.default,(0,i.Z)({},e,{showVersion:!1}))},PrimarySideBarChildren:function(){return c.React.createElement("div",ee,se.map((function(e,t){return c.React.createElement(h,{key:"stripe-".concat(t,"-").concat(e),width:"".concat(e,"px")})})))},data:Z,simplebarContent:!1},c.React.createElement("div",te,c.React.createElement("div",{className:"gravitysmtp-view-email__header"},c.React.createElement("div",{className:"gravitysmtp-view-email__header-title-wrapper"},c.React.createElement("div",{className:"gravitysmtp-view-email__header-title"},""!==L&&!M&&c.React.createElement(u.Z,{customClasses:["gravitysmtp-view-email__header-title-subject"],tagName:"h2",size:"text-xl",weight:"medium",content:L}),M&&c.React.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"35%"})),!M&&c.React.createElement("div",{className:"gravitysmtp-view-email__header-details-actions"},c.React.createElement(d.Z,{icon:"desktop",iconPrefix:"gravitysmtp-admin-icon",label:ne,onClick:function(){return K("desktop")},size:"size-height-s",spacing:[0,3,0,0],type:"icon-white"}),c.React.createElement(d.Z,{icon:"mobile",iconPrefix:"gravitysmtp-admin-icon",label:ce,onClick:function(){return K("mobile")},size:"size-height-s",type:"icon-white"}))),c.React.createElement("div",{className:"gravitysmtp-view-email__header-details"},c.React.createElement("div",{className:"gravitysmtp-view-email__header-details-left"},c.React.createElement("div",{className:"gravitysmtp-view-email__header-details-image"},c.React.createElement(v.Z,{customClasses:["gravitysmtp-view-email__header-details-default"],icon:"account",iconPrefix:"gravitysmtp-admin-icon"}),""!==B&&c.React.createElement(m.Z,{customClasses:["gravitysmtp-view-email__header-details-gravatar"],emailHash:B,height:40,width:40,defaultImage:"blank"})),c.React.createElement("div",le,M&&c.React.createElement("span",{className:"gravitysmtp-view-email__header-details-from gravitysmtp-view-email__header-details-from--has-loader"},c.React.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"75%"})),M&&c.React.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},c.React.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"45%"})),!M&&""!==H&&c.React.createElement("span",{className:"gravitysmtp-view-email__header-details-from"},c.React.createElement(f.Z,{tagName:"span",size:"text-sm",weight:"semibold",content:ie})," ",c.React.createElement(f.Z,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:H})),!M&&""!==I&&c.React.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},c.React.createElement(f.Z,{weight:"semibold",tagName:"span",size:"text-sm",content:re})," ",c.React.createElement(f.Z,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:I})))),c.React.createElement("div",{className:"gravitysmtp-view-email__header-details-right"},!M&&""!==z&&c.React.createElement("span",{className:"gravitysmtp-view-email__header-details-date"},c.React.createElement(f.Z,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-xs",content:z}))))),c.React.createElement("div",{className:"gravitysmtp-view-email__wrapper"},M&&c.React.createElement(p.Z,{loaderCustomAttributes:{mask:!0,maskCustomClasses:["gravitysmtp-view-email__iframe-loader-mask"]}}),0!==S&&c.React.createElement("iframe",{className:"gravitysmtp-view-email__iframe",onLoad:function(){W(!1)},title:L,src:Y}))))))}));E.propTypes={customAttributes:c.PropTypes.object,customClasses:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.array,c.PropTypes.object]),common:c.PropTypes.object,data:c.PropTypes.object,i18n:c.PropTypes.object},t.default=E}}]);