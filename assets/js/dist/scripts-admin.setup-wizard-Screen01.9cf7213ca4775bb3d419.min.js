"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[6921,6018,9529],{1057:function(e,t,n){n.r(t);var r=n(9801),i=n(5720),a=n(5210),u=n(9509),c=n.n(u),o=n(9608),s=n.n(o),l=n(7784),d=n(760),p=n(4070),f=n(9805),g=n(7343),v=n(6192),_=n(6493),m=n(7024),y=n(4237),b=n(5212),h=n(1047),S=n(375),Z=n(6901),w=n(7066),k=n(2077),x=n(9208),z=l.React.useEffect,O=l.React.useRef,E=l.React.useState;t.default=function(e){var t,n,u,o,N=e.common,R=e.data,P=e.endpoints,B=e.i18n,A=(0,h.default)((function(e){return e.activeStep})),C=(0,h.default)((function(e){return e.isAnimatedIn})),D=(0,h.default)((function(e){return e.isOpen})),F=(0,h.default)((function(e){return e.setActiveStep})),L=(0,h.default)((function(e){return e.setActiveNavBarStepNext})),j=(0,h.default)((function(e){return e.setShouldRedirect})),J=(0,h.default)((function(e){return e.setHasDebugError})),I=B.debug_messages,M=void 0===I?{}:I,T=M.checking_license_key,G=M.checking_license_key_error,U=M.saving_should_display_error,H=M.saving_license_key_error,W=M.updating_usage_analytics_error,q=M.saving_license_key,K=M.setting_should_display_false,V=M.starting_subsequent_run,Q=M.updating_usage_analytics,X=B.setup_wizard_welcome_title,Y=B.setup_wizard_welcome_copy,$=(B.setup_wizard_welcome_list_01,B.setup_wizard_welcome_list_02,B.setup_wizard_welcome_list_03,B.setup_wizard_welcome_list_04,B.setup_wizard_get_started),ee=B.setup_wizard_verify_license,te=B.setup_wizard_checking_license,ne=B.setup_wizard_license_input_label,re=B.setup_wizard_license_input_placeholder,ie=R.license_key_is_valid,ae=R.should_display,ue=(null==N?void 0:N.i18n)||{},ce=ue.general_settings_usage_analytics_label,oe=ue.general_settings_usage_analytics_help_text,se=(null==N?void 0:N.data)||{},le=se.param_keys,de=se.usage_analytics_enabled,pe=se.usage_analytics_link,fe=(0,y.Ds)(),ge=ae&&ie&&(null==R?void 0:R.license_key)||"",ve=E(!1),_e=(0,a.Z)(ve,2),me=_e[0],ye=_e[1],be=E(ge),he=(0,a.Z)(be,2),Se=he[0],Ze=he[1],we=E(!1),ke=(0,a.Z)(we,2),xe=ke[0],ze=ke[1],Oe=(0,d.aM)(de),Ee=(0,a.Z)(Oe,2),Ne=Ee[0],Re=Ee[1],Pe=(null==P||null===(t=P.save_plugin_settings)||void 0===t?void 0:t.action)||"",Be=(null==P||null===(n=P.save_plugin_settings)||void 0===n?void 0:n.nonce)||"",Ae=(null==P||null===(u=P.check_license)||void 0===u?void 0:u.action)||"",Ce=(null==P||null===(o=P.check_license)||void 0===o?void 0:o.nonce)||"",De=O();z((function(){1===A&&De.current&&De.current.focus()}),[A]),z((function(){var e=function(e){var t;(null===(t=e.detail)||void 0===t?void 0:t.key)===le.usage_analytics&&Re(e.detail.value)};return document.addEventListener("gravitysmtp/setting-updated",e),function(){document.removeEventListener("gravitysmtp/setting-updated",e)}})),z((function(){D&&1===A&&!ae&&(0,k.Z)((0,S.gB)(V,JSON.stringify({licenseKeyIsValid:ie,nextStep:2,activeStep:A,currentStep:1})),"info")}),[D]);var Fe={ref:(0,d.P5)(1===A&&C),className:(0,l.classnames)((0,i.Z)({"gravitysmtp-setup-wizard__screen":!0},"gravitysmtp-setup-wizard__screen--step-".concat(1),!0)),"aria-hidden":1!==A},Le=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ae){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n={action:Pe,security:Be,key:"setup_wizard_should_display",value:!1},e.next=6,(0,k.Z)((0,S.gB)(K,JSON.stringify((0,x.Z)(["security"],n))),"info");case 6:return e.next=8,(0,p.v_)({endpoint:s(),body:n});case 8:if(null!=(r=e.sent)&&null!==(t=r.data)&&void 0!==t&&t.success){e.next=14;break}return e.next=13,(0,k.Z)((0,S.gB)(U,JSON.stringify(null==r?void 0:r.error)),"error");case 13:J(!0);case 14:e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(2),e.next=21,(0,k.Z)((0,S.gB)(U,JSON.stringify(e.t0)),"error");case 21:J(!0);case 22:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={action:Pe,security:Be,key:"license_key",value:Se.trim()},e.next=4,(0,k.Z)((0,S.gB)(q,JSON.stringify((0,x.Z)(["security","license_key"],n))),"info");case 4:return e.next=6,(0,p.v_)({endpoint:s(),body:n});case 6:if(null!=(r=e.sent)&&null!==(t=r.data)&&void 0!==t&&t.success){e.next=12;break}return e.next=11,(0,k.Z)((0,S.gB)(H,JSON.stringify(null==r?void 0:r.error)),"error");case 11:J(!0);case 12:e.next=20;break;case 14:return e.prev=14,e.t0=e.catch(0),e.next=19,(0,k.Z)((0,S.gB)(H,JSON.stringify(e.t0)),"error");case 19:J(!0);case 20:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={action:Pe,security:Be,key:le.usage_analytics,value:t?"true":"false"},e.next=4,(0,k.Z)((0,S.gB)(Q,JSON.stringify((0,x.Z)(["security"],r))),"info");case 4:return e.next=6,(0,p.v_)({endpoint:s(),body:r});case 6:if(null!=(i=e.sent)&&null!==(n=i.data)&&void 0!==n&&n.success){e.next=14;break}return e.next=11,(0,k.Z)((0,S.gB)(W,JSON.stringify(null==i?void 0:i.error)),"error");case 11:J(!0),e.next=16;break;case 14:N.data.usage_analytics_enabled=t,Re(t);case 16:e.next=24;break;case 18:return e.prev=18,e.t0=e.catch(0),e.next=23,(0,k.Z)((0,S.gB)(W,JSON.stringify(e.t0)),"error");case 23:J(!0);case 24:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}(),Ie={initialChecked:de,externalChecked:Ne,externalControl:!0,labelAttributes:{label:ce},helpTextAttributes:{content:l.React.createElement(d.ji,{closingSymbol:"}}",openingSymbol:"{{",text:oe,tokens:[{component:Z.Z,key:"learn_link",props:{href:pe,size:"text-xs",target:"_blank"}}]}),spacing:[4,0,0,0]},helpTextWidth:"full",labelPosition:"left",id:"usage_analytics_wizard",name:le.usage_analytics,onChange:Je,size:"size-m",width:"full"},Me=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={action:Ae,security:Ce,license_key:Se.trim()},e.next=4,(0,k.Z)((0,S.gB)(T,JSON.stringify((0,x.Z)(["security","license_key"],n))),"info");case 4:return e.next=6,(0,p.v_)({endpoint:s(),body:n});case 6:if(r=e.sent,ye(!1),null!=r&&null!==(t=r.data)&&void 0!==t&&t.success){e.next=16;break}return i=(0,S.sO)(r.error.detail.data)?JSON.parse(r.error.detail.data):"",e.next=12,(0,k.Z)((0,S.gB)(G,JSON.stringify(null==r?void 0:r.error)),"error");case 12:J(!0),fe(i.data,"error"),e.next=20;break;case 16:ze(!0),Le().then((function(){je()})),j(!1),setTimeout((function(){F(2),L(),setTimeout((function(){ze(!1)}),300)}),1e3);case 20:e.next=28;break;case 22:return e.prev=22,e.t0=e.catch(0),e.next=27,(0,k.Z)((0,S.gB)(G,JSON.stringify(e.t0)),"error");case 27:J(!0);case 28:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}();return l.React.createElement("div",Fe,l.React.createElement("div",{className:"gravitysmtp-setup-wizard__screen-inner"},l.React.createElement(l.SimpleBar,{scrollableNodeProps:{ref:De}},l.React.createElement("div",{className:"gravitysmtp-setup-wizard__content"},l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__inner-content"],x:368},l.React.createElement(d.Uo,{delay:200,transitionDuration:800},l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__logo-container"],spacing:12},l.React.createElement(b.GravitySMTPFullLogo,null)),l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__heading-container"]},l.React.createElement(v.Z,{content:X,size:"display-lg",spacing:6,tagName:"h2",weight:"semibold"})),l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__body-container"]},l.React.createElement(m.Z,{content:Y,spacing:8})),l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__footer-container"],spacing:8},ie?l.React.createElement(g.Z,{customClasses:["gravitysmtp-setup-wizard__get-started-button"],size:"size-height-xl",icon:"check-circle",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",label:$,type:"primary-new",width:"full",onClick:function(){ae&&Le().then((function(){je()})),j(!1),F(2),L()}}):l.React.createElement(l.React.Fragment,null,l.React.createElement(_.Z,{customAttributes:{disabled:me},customClasses:["gravitysmtp-setup-wizard__license-input"],id:"gravitysmtp-setup-wizard__license-input",labelAttributes:{label:ne},onChange:Ze,placeholder:re,size:"size-xl",spacing:5,textSecurity:"disc",value:Se}),l.React.createElement(g.Z,{customClasses:["gravitysmtp-setup-wizard__get-started-button"],size:"size-height-xl",icon:"check-circle",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",label:ee,active:me,activeType:"loader",disabled:me||xe,activeText:te,type:xe?"apple-green":"primary-new",width:"full",onClick:(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye(!0),e.next=3,Me();case 3:case"end":return e.stop()}}),e)})))}))),l.React.createElement(f.Z,null,l.React.createElement(w.Z,Ie))))))))}},5212:function(e,t,n){n.r(t),n.d(t,{BrevoFullLogo:function(){return r.Z},CustomSMTPFullLogo:function(){return i.Z},GoogleAltLogo:function(){return a.Z},GoogleFullLogo:function(){return u.Z},GravityFormsStackedLogo:function(){return c.Z},GravitySMTPFullLogo:function(){return o.Z},MailFailedBg:function(){return s.Z},MailSuccessBg:function(){return d.Z},MailgunFullLogo:function(){return l.Z},MicrosoftAltLogo:function(){return p.Z},MicrosoftFullLogo:function(){return f.Z},PHPFullLogo:function(){return g.Z},PostmarkFullLogo:function(){return v.Z},SendGridFullLogo:function(){return _.Z},WPMailSMTPFullLogo:function(){return m.Z}});var r=n(1345),i=n(1219),a=n(4270),u=n(4077),c=n(3811),o=n(2635),s=n(9228),l=n(1285),d=n(1917),p=n(962),f=n(7571),g=n(6516),v=n(3989),_=n(1215),m=n(7478)},1047:function(e,t,n){n.r(t);var r,i,a,u,c,o=n(5720),s=n(7784),l=n(760),d=n(375),p=n(3267),f=n.n(p);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _,m,y=(null===(r=(0,d.iE)(f(),"gravitysmtp_admin_config"))||void 0===r||null===(r=r.components)||void 0===r?void 0:r.setup_wizard)||{},b=(null===(a=((null==y||null===(i=y.data)||void 0===i?void 0:i.import_data)||[]).filter((function(e){return e.activated&&e.initialChecked}))[0])||void 0===a?void 0:a.id)||"",h="",S=v(v({hasDebugError:!1,isAnimatedIn:!1,integrationSetupAction:"skip",setupStatus:"skipped",settingsUpdated:!1,shouldRedirect:(null==y||null===(u=y.data)||void 0===u?void 0:u.should_display)||!1,integrationSettingsFormData:(m={},null==y||null===(_=y.data)||void 0===_||null===(_=_.integrations)||void 0===_||_.forEach((function(e){var t;m[e.id]=(null==e?void 0:e.data)||{},null!==(t=m[e.id])&&void 0!==t&&t.enabled&&(h=e.id)})),m)},(null===(c=(0,d.iE)(f(),"gravitysmtp_admin_config"))||void 0===c||null===(c=c.components)||void 0===c||null===(c=c.setup_wizard)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.defaults)||{}),{},{integration:h,importPlugin:b}),Z=(0,l.Ue)(S,(function(e){return{closeDialog:function(){return e((function(){return{isOpen:!1}}))},openDialog:function(){return e((function(){return{isOpen:!0}}))},setActiveStepNext:function(){return e((function(e){return{activeStep:e.activeStep+1}}))},setActiveStepPrevious:function(){return e((function(e){return{activeStep:e.activeStep-1}}))},setActiveStep:function(t){return e((function(){return{activeStep:t}}))},setActiveNavBarStepNext:function(){return e((function(e){return{activeNavBarStep:e.activeNavBarStep+1}}))},setActiveNavBarStepPrevious:function(){return e((function(e){return{activeNavBarStep:e.activeNavBarStep-1}}))},setActiveNavBarStep:function(t){return e((function(){return{activeNavBarStep:t}}))},setHasDebugError:function(t){return e((function(){return{hasDebugError:t}}))},setImportPlugin:function(t){return e((function(){return{importPlugin:t}}))},setIntegration:function(t){return e((function(){return{integration:t}}))},setIsAnimatedIn:function(t){return e((function(){return{isAnimatedIn:t}}))},setIntegrationSetupAction:function(t){return e((function(){return{integrationSetupAction:t}}))},setSetupStatus:function(t){return e((function(){return{setupStatus:t}}))},setSettingsUpdated:function(){return e((function(){return{settingsUpdated:!0}}))},setShouldRedirect:function(t){return e((function(){return{shouldRedirect:t}}))},setInnerDialogOpen:function(t){return e((function(){return{innerDialogOpen:t}}))},setIntegrationSettingsFormData:function(t,n,r){return e((0,s.immer)((function(e){e.integrationSettingsFormData[t]||(e.integrationSettingsFormData[t]={}),e.integrationSettingsFormData[t][n]=r})))}}}));t.default=Z},2077:function(e,t,n){n.d(t,{Z:function(){return f}});var r,i=n(9801),a=n(9509),u=n.n(a),c=n(9608),o=n.n(c),s=n(3267),l=n.n(s),d=n(4070),p=(null===(r=(0,n(375).iE)(l(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{};function f(){return g.apply(this,arguments)}function g(){return g=(0,i.Z)(u().mark((function e(){var t,n,r,i,a,c,s,l,f,g,v=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=v.length>0&&void 0!==v[0]?v[0]:"",i=v.length>1&&void 0!==v[1]?v[1]:"debug",a=p.data,c=void 0===a?{}:a,s=p.endpoints,f=(null==(l=void 0===s?{}:s)||null===(t=l.log_debug_item)||void 0===t?void 0:t.action)||"",g=(null==l||null===(n=l.log_debug_item)||void 0===n?void 0:n.nonce)||"",null!=c&&c.debug_log_enabled&&f&&g&&r){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,(0,d.v_)({endpoint:o(),body:{action:f,security:g,message:r,priority:i}}).catch((function(e){}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}},9208:function(e,t,n){var r=n(6588),i=n(5210);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return function n(a){return Object.entries(a).reduce((function(a,u){var c=(0,i.Z)(u,2),o=c[0],s=c[1];return"object"===(0,r.Z)(s)&&null!==s?a[o]=n(s):e.includes(o)?a[o]=null===s?null:t.repeat(s.length):a[o]=s,a}),Array.isArray(a)?[]:{})}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}}]);