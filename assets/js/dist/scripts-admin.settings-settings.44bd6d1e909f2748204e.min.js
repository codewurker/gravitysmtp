"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[4678,2940,642],{44085:function(e,t,n){n.r(t);var r=n(86796),a=n(15720),i=n(27784),o=n(48288),s=n(39805),c=n(38631),l=n(97866);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p=(0,i.React.forwardRef)((function(e,t){var n=e.customAttributes,p=void 0===n?{}:n,m=e.customClasses,g=void 0===m?[]:m,d=e.common,f=void 0===d?{}:d,v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,i.classnames)({"gravitysmtp-settings-app__header":!0},g)},p),y=f.i18n,_=void 0===y?{}:y,b=_.debug_log_enabled,h=void 0===b?"":b,O=_.test_mode_enabled,P=void 0===O?"":O,w=(0,l.default)((function(e){return e.debugLogEnabled})),E=(0,l.default)((function(e){return e.testModeEnabled}));return i.React.createElement("div",(0,r.Z)({},v,{ref:t}),i.React.createElement("div",{className:"gravitysmtp-settings-app__header-logo"},i.React.createElement(o.GravitySMTPLogo,null)),i.React.createElement("div",{className:"gravitysmtp-settings-app__header-main"},i.React.createElement(o.GravitySMTPTextLogo,null),i.React.createElement(s.Z,{customClasses:["gravitysmtp-header__status"],setDisplay:!1},w&&i.React.createElement(c.Z,{status:"warning",size:"sm",spacing:[0,E?4:0,0,0],label:h,isStatic:!0}),E&&i.React.createElement(c.Z,{status:"blue",size:"sm",label:P,isStatic:!0}))))}));p.propTypes={customAttributes:i.PropTypes.object,customClasses:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.array,i.PropTypes.object])},p.displayName="SettingsHeader",t.default=p},93643:function(e,t,n){n.r(t);var r=n(86796),a=n(79801),i=n(15210),o=n(15720),s=n(89509),c=n.n(s),l=n(49608),u=n.n(l),p=n(27784),m=n(84070),g=n(375),d=n(98777),f=n(39805),v=n(7343),y=n(11480),_=n(74237),b=n(28957),h=n(27003),O=n(62077),P=n(9208),w=n(74582),E=n(97866);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var S=p.React.forwardRef,Z=p.React.useState,x=p.React.useRef,j=S((function(e,t){var n,s,l,S,j,k,T=e.customAttributes,C=void 0===T?{}:T,A=e.customClasses,D=void 0===A?[]:A,I=e.common,N=void 0===I?{}:I,z=e.data,B=void 0===z?{}:z,L=e.i18n,M=void 0===L?{}:L,G=(null==M?void 0:M.integrations)||{},J=G.integration_settings_apply,W=G.integration_settings_cancel,H=G.integration_settings_error,F=(null==N?void 0:N.i18n)||{},U=F.debug_messages,V=void 0===U?{}:U,Y=V.saving_integration_settings,$=void 0===Y?"":Y,K=V.saving_integration_settings_error,X=void 0===K?"":K,q=F.snackbar_api_save_success,Q=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,p.classnames)({"gravitysmtp-integration-settings":!0},D)},C),ee=(0,E.default)((function(e){return e.activeIntegrationSettings})),te=(0,E.default)((function(e){return e.integrationSettingsFormData})),ne=(0,E.default)((function(e){return e.integrationSettingsDialogOpen})),re=Z(!1),ae=(0,i.Z)(re,2),ie=ae[0],oe=ae[1],se=x(null),ce=(0,E.default)((function(e){return e.setIntegrationSettingsDialogOpen})),le=(0,E.default)((function(e){return e.updateIntegrationStatus})),ue=(0,E.default)((function(e){return e.setIntegrationSettingsFormData})),pe=(0,g.Bl)(B,"id",ee),me=(null==pe||null===(n=pe.settings)||void 0===n?void 0:n.fields)||[],ge=(null==N||null===(s=N.endpoints)||void 0===s||null===(s=s.save_connector_settings)||void 0===s?void 0:s.action)||"",de=(null==N||null===(l=N.endpoints)||void 0===l||null===(l=l.save_connector_settings)||void 0===l?void 0:l.nonce)||"",fe=(0,_.Ds)(),ve=(null==pe||null===(S=pe.settings)||void 0===S?void 0:S.hide_save)||!1,ye=function(){var e=(0,a.Z)(c().mark((function e(){var t,n,r,a,i,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=se&&se.current&&(t=se.current.offsetWidth,se.current.style.width="".concat(t,"px")),oe(!0),n={action:ge,security:de,settings:te[ee],connector_type:ee},e.next=5,(0,O.Z)((0,g.gB)($,ee,JSON.stringify((0,P.Z)(["api_key","server_api_token","password","security"],n))),"info");case 5:return e.prev=5,e.next=8,(0,m.v_)({endpoint:u(),body:n});case 8:null!=(a=e.sent)&&null!==(r=a.data)&&void 0!==r&&r.success?(fe(q),le(ee,{configured:!0}),(0,d.saveActivationState)(ee,ge,de,{configured:!0}),setTimeout((function(){ce(!1)}),1e3)):(s=(0,g.sO)(null==a||null===(i=a.error)||void 0===i||null===(i=i.detail)||void 0===i?void 0:i.data)?JSON.parse(null==a||null===(o=a.error)||void 0===o||null===(o=o.detail)||void 0===o?void 0:o.data):"",fe((null==s?void 0:s.data)||H,"error")),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,(0,O.Z)((0,g.gB)(X,ee,JSON.stringify(e.t0)),"error");case 16:case 17:oe(!1),null!=se&&se.current&&(se.current.style.width="");case 19:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),_e={closeButtonType:"simplified",customCloseButtonLabelAttributes:{className:(0,p.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},customMaskClasses:["gravitysmtp-integration-settings__mask"],description:null==pe||null===(j=pe.settings)||void 0===j?void 0:j.description,isOpen:ne,maskTheme:"light",maxHeight:"calc(90vh - 80px)",mode:"modal",onClose:function(){if(new URLSearchParams(window.location.search).has("integration")){var e=new URL(window.location.href),t=new URLSearchParams(e.search);t.delete("integration"),e.search=t.toString(),window.history.pushState({path:e.toString()},"",e.toString())}ce(!1)},padContent:!1,position:"absolute",simplebar:!0,theme:"cosmos",title:null==pe||null===(k=pe.settings)||void 0===k?void 0:k.title,titleSize:"md",titleTagName:"h3",version:2},be=(0,p.classnames)({"gravitysmtp-integration-settings__save":!0,"gravitysmtp-integration-settings__save--saving":ie}),he=(0,h.Z)(me,{activeIntegrationSettings:ee,integrationSettingsFormData:te,saveConnectorSettings:ye,savingSettings:ie,Svgs:w,i18n:null==N?void 0:N.i18n,addSnackBarMessage:fe});return p.React.createElement("div",(0,r.Z)({},Q,{ref:t}),p.React.createElement(y.Z,_e,p.React.createElement("form",{id:ee},p.React.createElement(b.Z,{id:ee,fields:he,setFieldData:function(e,t){return ue(ee,e,t)}})),p.React.createElement(f.Z,{customClasses:["gravitysmtp-integration-settings__actions"],display:"flex",spacing:[8,0,0,0]},p.React.createElement(v.Z,{label:W,onClick:function(){return ce(!1)},size:"size-height-m",type:"white"}),!ve&&p.React.createElement(v.Z,{active:ie,activeType:"loader",customClasses:be,icon:"save-disk",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:J,onClick:ye,ref:se,spacing:[0,0,0,3],size:"size-height-m"}))))}));j.propTypes={customAttributes:p.PropTypes.object,customClasses:p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.array,p.PropTypes.object]),common:p.PropTypes.object,data:p.PropTypes.object,i18n:p.PropTypes.object},j.displayName="IntegrationSettings",t.default=j},99694:function(e,t,n){n.r(t);var r=n(86796),a=n(15720),i=n(27784),o=n(60223);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=i.React.forwardRef,u=i.ReactRouter.useLocation,p=l((function(e,t){var n=e.customAttributes,a=void 0===n?{}:n,s=e.customClasses,l=void 0===s?[]:s,p=e.data,m=void 0===p?{}:p,g=e.disabledNavItems,d=void 0===g?[]:g,f=m.nav_items,v=void 0===f?[]:f,y=u(),_=v.filter((function(e){return!d.includes(e.param)})).map((function(e,t){var n=e.param,r=e.label,a=e.icon,i={item:{customClasses:["gravitysmtp-settings-app__nav-bar-item","gravitysmtp-settings-app__nav-bar-item--".concat(n)],key:"".concat(n,"-").concat(t)},icon:{customClasses:["gravitysmtp-settings-app__nav-bar-item-icon"],icon:a,iconPrefix:"gravitysmtp-admin-icon"},text:{content:r,customClasses:["gravitysmtp-settings-app__nav-bar-item-text"]}};if(d.includes(n))return c(c({},i),{},{item:c(c({},i.item),{},{active:!1,disabled:!0}),button:{customClasses:["gravitysmtp-settings-app__nav-bar-item-button","gravitysmtp-settings-app__nav-bar-item-button--".concat(n)],size:"size-height-m",type:"icon-white",disabled:!0}});var o=new URLSearchParams(y.search),s=m.nav_item_param_key||"tab",l=o.get(s);o.set(s,n);var u=c(c({},y),{},{search:"?".concat(o.toString())});return c(c({},i),{},{item:c(c({},i.item),{},{active:l===n}),link:{customClasses:["gravitysmtp-settings-app__nav-bar-item-link","gravitysmtp-settings-app__nav-bar-item-link--".concat(n)],to:u}})})),b=c({customClasses:(0,i.classnames)(["gravitysmtp-settings-app__nav-bar"],l),items:_,type:"icon-button"},a);return i.React.createElement(o.Z,(0,r.Z)({},b,{ref:t}))}));p.propTypes={children:i.PropTypes.oneOfType([i.PropTypes.arrayOf(i.PropTypes.node),i.PropTypes.node]),customAttributes:i.PropTypes.object,customClasses:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.array,i.PropTypes.object])},p.displayName="NavBar",t.default=p},90142:function(e,t,n){n.r(t);var r=n(86796),a=n(15720),i=n(27784),o=n(375),s=n(39805),c=n(76192),l=n(47024),u=n(67066),p=n(32030),m=n(74237),g=n(662),d=n(50036),f=n(3342);function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=(0,i.React.forwardRef)((function(e,t){var n=e.customAttributes,a=void 0===n?{}:n,y=e.customClasses,_=void 0===y?[]:y,h=e.data,O=void 0===h?{}:h,P=e.i18n,w=void 0===P?{}:P,E=b({className:(0,i.classnames)({"gravitysmtp-settings-app__emails":!0},_)},a),R=O.managed_email_types,S=void 0===R?[]:R,Z=(null==w?void 0:w.emails)||{},x=Z.top_heading,j=Z.top_content,k=Z.email_notifications_box_heading,T=(0,m.Ds)();return i.React.createElement("div",(0,r.Z)({},E,{ref:t}),i.React.createElement(c.Z,{size:"display-sm",weight:"semibold",spacing:1,content:x}),i.React.createElement(l.Z,{size:"text-sm",spacing:6,color:"comet",content:j}),i.React.createElement(p.Z,{HeaderContent:function(e){return i.React.createElement(c.Z,(0,r.Z)({content:k,size:"text-lg",weight:"medium"},e))}},S.map((function(e,t){return i.React.createElement(s.Z,{key:"".concat((0,o.lV)(e.category),"-").concat(t),x:630},i.React.createElement(c.Z,{size:"text-sm",weight:"medium",type:"boxed",spacing:4,content:e.category}),e.items.map((function(n,r){var a=4;return r===e.items.length-1&&(a=t===S.length-1?1:6),i.React.createElement(u.Z,{key:"".concat(n.key,"-").concat(r),id:"toggle-".concat(n.key),customAttributes:{"data-test-id":n.key},disabled:!(0,g.Z)("CAPS_EDIT_EMAIL_MANAGEMENT_SETTINGS"),initialChecked:n.value,labelAttributes:b({label:n.label},(0,d.Z)(n.key)),helpTextAttributes:{content:n.description,spacing:[3,0,0,0]},helpTextWidth:"full",labelPosition:"left",name:n.key,onChange:function(e){(0,f.Z)({addSnackbarMessage:T,key:n.key,successCallback:function(){!function(e,t,n){var r,a=v(n);try{for(a.s();!(r=a.n()).done;){var i,o=v(r.value.items);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s.key===e)return s.value=t,n}}catch(e){o.e(e)}finally{o.f()}}}catch(e){a.e(e)}finally{a.f()}}(n.key,e,S)},value:e})},spacing:a,size:"size-m",width:"full"})})))}))))}));h.propTypes={customAttributes:i.PropTypes.object,customClasses:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.array,i.PropTypes.object]),data:i.PropTypes.object,i18n:i.PropTypes.object},h.displayName="EmailsScreen",t.default=h},42641:function(e,t,n){n.r(t);var r=n(79801),a=n(86796),i=n(15210),o=n(15720),s=n(89509),c=n.n(s),l=n(49608),u=n.n(l),p=n(27784),m=n(77424),g=n(84070),d=n(375),f=n(39805),v=n(7343),y=n(76192),_=n(6493),b=n(36901),h=n(47024),O=n(67066),P=n(88887),w=n(32030),E=n(74237),R=n(50036),S=n(62077),Z=n(9208),x=n(97866);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=p.React.forwardRef,C=p.React.useRef,A=p.React.useState,D=p.ReactRouter.useLocation,I=p.ReactRouter.Link,N=T((function(e,t){var n,o,s,l,j=e.customAttributes,T=void 0===j?{}:j,N=e.customClasses,z=void 0===N?[]:N,B=e.common,L=void 0===B?{}:B,M=e.data,G=void 0===M?{}:M,J=e.i18n,W=void 0===J?{}:J,H=k({className:(0,p.classnames)({"gravitysmtp-general-settings":!0},z)},T),F=W||{},U=F.debug_messages,V=void 0===U?{}:U,Y=V.uninstalling_plugin,$=V.uninstalling_plugin_error,K=F.settings,X=void 0===K?{}:K,q=X.top_heading,Q=X.license_box_heading,ee=X.license_box_content,te=X.license_box_input_label,ne=X.license_box_input_help_text,re=X.license_box_button_text,ae=X.license_valid,ie=X.license_invalid,oe=X.test_mode_box_content_1,se=X.test_mode_box_toggle_label,ce=X.general_settings_box_heading,le=X.uninstall_box_heading,ue=X.uninstall_box_content,pe=X.uninstall_box_button_label,me=X.uninstall_dialog_confirm_change_heading,ge=X.uninstall_dialog_confirm_change_content,de=X.uninstall_dialog_confirm_change_confirm,fe=X.error_uninstalling_message,ve=G.license_key,ye=G.license_key_is_valid,_e=G.plugins_url,be=(null==L?void 0:L.i18n)||{},he=be.debug_messages,Oe=void 0===he?{}:he,Pe=Oe.saving_plugin_settings,we=void 0===Pe?"":Pe,Ee=Oe.saving_plugin_settings_error,Re=void 0===Ee?"":Ee,Se=be.general_settings_usage_analytics_label,Ze=void 0===Se?"":Se,xe=be.general_settings_usage_analytics_help_text,je=void 0===xe?"":xe,ke=(null==L?void 0:L.data)||{},Te=ke.usage_analytics_enabled,Ce=ke.usage_analytics_link,Ae=ke.param_keys,De=(null==G?void 0:G.caps)||{},Ie=A("boolean"==typeof ye&&!ye),Ne=(0,i.Z)(Ie,2),ze=Ne[0],Be=Ne[1],Le=A(ve),Me=(0,i.Z)(Le,2),Ge=Me[0],Je=Me[1],We=A(ye),He=(0,i.Z)(We,2),Fe=He[0],Ue=He[1],Ve=A(""),Ye=(0,i.Z)(Ve,2),$e=Ye[0],Ke=Ye[1],Xe=A(!1),qe=(0,i.Z)(Xe,2),Qe=qe[0],et=qe[1],tt=(0,x.default)((function(e){return e.setConfirmDialogOpen})),nt=(0,x.default)((function(e){return e.setConfirmDialogSettings})),rt=(0,x.default)((function(e){return e.setPageLoaderActive})),at=(0,x.default)((function(e){return e.testModeEnabled})),it=(0,x.default)((function(e){return e.setTestModeEnabled})),ot=C(null),st=(null==L||null===(n=L.endpoints)||void 0===n||null===(n=n.save_plugin_settings)||void 0===n?void 0:n.action)||"",ct=(null==L||null===(o=L.endpoints)||void 0===o||null===(o=o.save_plugin_settings)||void 0===o?void 0:o.nonce)||"",lt=(null==L||null===(s=L.endpoints)||void 0===s||null===(s=s.gravitysmtp_uninstall_plugin)||void 0===s?void 0:s.action)||"",ut=(null==L||null===(l=L.endpoints)||void 0===l||null===(l=l.gravitysmtp_uninstall_plugin)||void 0===l?void 0:l.nonce)||"",pt=(0,p.classnames)({"gravitysmtp-general-settings__license-save":!0,"gravitysmtp-general-settings__license-save--saving":Qe}),mt=(0,E.Ds)(),gt=D(),dt=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r,a,i,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ot.current.offsetWidth,n=Ge.trim(),Be(!1),Ke(t),et(!0),Je(n),r={action:st,security:ct,key:Ae.license_key,value:n},e.next=9,(0,S.Z)((0,d.gB)(we,JSON.stringify((0,Z.Z)(["security","value"],r))),"info");case 9:return e.prev=9,e.next=12,(0,g.v_)({endpoint:u(),body:r});case 12:i=e.sent,et(!1),Ke(""),null!=i&&null!==(a=i.data)&&void 0!==a&&a.success?(s=(null==i||null===(o=i.data)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.license_is_valid)||!1,Ue(s),!0===s?mt(ae):!1===s&&mt(ie,"error")):(Ue(!1),mt(ie,"error")),e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(9),e.next=23,(0,S.Z)((0,d.gB)(Re,JSON.stringify(e.t0)),"error");case 23:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(){return e.apply(this,arguments)}}(),ft={customClasses:["gravitysmtp-general-settings__license-input"],controlled:!0,labelAttributes:k({label:te},(0,R.Z)(Ae.license_key)),helpTextAttributes:Fe?{}:{content:ne,size:"text-xs",weight:"regular"},id:"gravitysmtp-general-settings__license-input",name:Ae.license_key,onChange:Je,textSecurity:"disc",value:Ge,customAttributes:{readOnly:!De.gravitysmtp_edit_license_key,"data-test-id":"settings-license-input"}};!0===Fe?(ft.borderStyle="correct",ft.iconAttributes={iconPrefix:"gravitysmtp-admin-icon",preset:"status-correct"}):!1===Fe&&(ft.borderStyle="error",ft.iconAttributes={iconPrefix:"gravitysmtp-admin-icon",preset:"status-incorrect"});var vt=function(){var e=new URLSearchParams(gt.search),t=G.nav_item_param_key||"tab";e.set(t,"logging");var n=k(k({},gt),{},{search:"?".concat(e.toString())}),r=oe.split("%s");return p.React.createElement(p.React.Fragment,null,r[0],p.React.createElement(I,{className:"gform-link gform-typography--size-text-sm",to:n},r[1]),r[2])},yt=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return it(t),n={action:st,security:ct,key:Ae.test_mode,value:t?"true":"false"},e.next=4,(0,S.Z)((0,d.gB)(we,JSON.stringify((0,Z.Z)(["security"],n))),"info");case 4:return e.prev=4,e.next=7,(0,g.v_)({endpoint:u(),body:n});case 7:null!=(a=e.sent)&&null!==(r=a.data)&&void 0!==r&&r.success,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(4),e.next=16,(0,S.Z)((0,d.gB)(Re,JSON.stringify(e.t0)),"error");case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),_t=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={action:st,security:ct,key:Ae.usage_analytics,value:t?"true":"false"},e.next=3,(0,S.Z)((0,d.gB)(we,JSON.stringify((0,Z.Z)(["security"],n))),"info");case 3:return e.prev=3,e.next=6,(0,g.v_)({endpoint:u(),body:n});case 6:null!=(a=e.sent)&&null!==(r=a.data)&&void 0!==r&&r.success&&(L.data.usage_analytics_enabled=t,(0,d.X$)({event:"gravitysmtp/setting-updated",native:!1,data:{key:Ae.usage_analytics,value:t}})),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),e.next=15,(0,S.Z)((0,d.gB)(Re,JSON.stringify(e.t0)),"error");case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rt(!0),t={action:lt,security:ut},e.next=4,(0,S.Z)((0,d.gB)(Y,JSON.stringify((0,Z.Z)(["security"],t))),"info");case 4:return e.prev=4,e.next=7,(0,g.v_)({endpoint:u(),body:t});case 7:null!=(r=e.sent)&&null!==(n=r.data)&&void 0!==n&&n.success?window.location.href=_e:(rt(!1),mt(fe,"error")),e.next=18;break;case 11:return e.prev=11,e.t0=e.catch(4),rt(!1),mt(fe,"error"),e.next=18,(0,S.Z)((0,d.gB)($,JSON.stringify(e.t0)),"error");case 18:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),ht={customAttributes:{"data-test-id":"settings-test-mode-toggle"},initialChecked:at,labelAttributes:k({label:se},(0,R.Z)(Ae.test_mode)),helpTextAttributes:{content:p.React.createElement(vt,null),size:"text-sm"},helpTextWidth:"full",labelPosition:"left",id:"test_mode",name:Ae.test_mode,onChange:yt,size:"size-m",spacing:6,width:"full",disabled:!De.gravitysmtp_edit_test_mode},Ot={initialChecked:Te,labelAttributes:k({label:Ze},(0,R.Z)(Ae.usage_analytics)),helpTextAttributes:{content:p.React.createElement(m.ji,{openingSymbol:"{{",closingSymbol:"}}",text:je,tokens:[{component:b.Z,key:"learn_link",props:{href:Ce,size:"text-sm",target:"_blank"}}]}),size:"text-sm"},helpTextWidth:"full",labelPosition:"left",id:"usage_analytics",name:Ae.usage_analytics,onChange:_t,size:"size-m",width:"full",disabled:!De.gravitysmtp_edit_usage_analytics};return p.React.createElement("div",(0,a.Z)({},H,{ref:t}),p.React.createElement(y.Z,{size:"display-sm",weight:"semibold",spacing:6,content:q}),De.gravitysmtp_view_license_key&&p.React.createElement(w.Z,{HeaderContent:function(e){return p.React.createElement(f.Z,{x:630},p.React.createElement(y.Z,(0,a.Z)({content:Q,tagName:"h2",size:"text-lg",weight:"medium",spacing:2},e)),p.React.createElement(h.Z,(0,a.Z)({content:ee,size:"text-sm",color:"comet"},e)))},FooterContent:function(e){var t={"data-test-id":"settings-license-info-save"};return $e&&(t.style={width:"".concat($e,"px")}),t.disabled=!De.gravitysmtp_edit_license_key,p.React.createElement(v.Z,(0,a.Z)({active:Qe,activeType:"loader",customAttributes:t,customClasses:pt,icon:"save-disk",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:re,onClick:dt,size:"size-height-m",ref:ot},e))},spacing:6},p.React.createElement(f.Z,{customClasses:["gravitysmtp-general-settings__license-input-container"],x:630},p.React.createElement(_.Z,ft),ze&&p.React.createElement(P.Z,{customIconPrefix:"gravitysmtp-admin-icon",spacing:[3,0,0,0],type:"error"},ie))),(De.gravitysmtp_view_test_mode||De.gravitysmtp_view_usage_analytics)&&p.React.createElement(w.Z,{HeaderContent:function(e){return p.React.createElement(f.Z,{x:630},p.React.createElement(y.Z,(0,a.Z)({content:ce,tagName:"h2",size:"text-lg",weight:"medium"},e)))},spacing:6},p.React.createElement(f.Z,{customClasses:["gravitysmtp-general-settings__license-input-container"],x:630},De.gravitysmtp_view_test_mode&&p.React.createElement(O.Z,ht),De.gravitysmtp_view_usage_analytics&&p.React.createElement(O.Z,Ot))),De.gravitysmtp_view_uninstall&&p.React.createElement(w.Z,{HeaderContent:function(e){return p.React.createElement(f.Z,{x:630},p.React.createElement(y.Z,(0,a.Z)({content:le,tagName:"h2",size:"text-lg",weight:"medium"},e)))}},p.React.createElement(f.Z,{customClasses:["gravitysmtp-general-settings__license-input-container"],x:630},p.React.createElement(h.Z,{content:ue,size:"text-sm",color:"comet",spacing:6}),p.React.createElement(v.Z,{disabled:!De.gravitysmtp_edit_uninstall,icon:"trash",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:pe,onClick:(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nt({confirmDialogConfirmButtonType:"amaranth-red",confirmDialogI18n:{confirm_change_confirm:de,confirm_change_content:ge,confirm_change_heading:me},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return tt(!1)},confirmDialogOnClose:function(){return tt(!1)},confirmDialogOnConfirm:function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tt(!1),e.next=3,bt();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),size:"size-height-m",type:"amaranth-red"}))))}));N.propTypes={customAttributes:p.PropTypes.object,customClasses:p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.array,p.PropTypes.object]),data:p.PropTypes.object,i18n:p.PropTypes.object},N.displayName="SettingsScreen",t.default=N},33428:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var r,a,i=n(15720),o=n(15210),s=n(27784),c=n(89118),l=n(74237),u=n(44085),p=n(99694),m=n(90142),g=n(42641),d=n(98777),f=n(45574),v=n(93643),y=n(47767),_=n(98448),b=n(67131),h=n(63267),O=n.n(h),P=(null===(r=(0,n(375).iE)(O(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{},w=(null==P||null===(a=P.feature_flags)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.statuses)||{};var E=n(97866);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=s.React.useEffect,x=s.ReactRouter.BrowserRouter,j=s.ReactRouter.Routes,k=s.ReactRouter.Route,T=s.ReactRouter.useSearchParams,C=["alerts","routing"],A={settings:[(0,b.Z)("CAPS_VIEW_LICENSE_KEY"),(0,b.Z)("CAPS_VIEW_TEST_MODE"),(0,b.Z)("CAPS_VIEW_USAGE_ANALYTICS")],integrations:[(0,b.Z)("CAPS_VIEW_INTEGRATIONS")],logging:[(0,b.Z)("CAPS_VIEW_EMAIL_LOG_SETTINGS")],emails:[(0,b.Z)("CAPS_VIEW_EMAIL_MANAGEMENT_SETTINGS")]},D=function(e){return s.React.createElement(u.default,e)},I=function(e){return s.React.createElement(p.default,e)},N=function(e){var t=T(),n=(0,o.Z)(t,2),r=n[0],a=(n[1],e.data.nav_items),i=(void 0===a?[]:a).filter((function(e){return!C.includes(e.param)}))[0]||"",c=r.get(e.data.nav_item_param_key||"tab")||i.param,l=r.get("integration"),u=(0,E.default)((function(e){return e.setActiveIntegrationSettings})),p=(0,E.default)((function(e){return e.setIntegrationSettingsDialogOpen}));switch("integrations"===c&&l&&(u(l),p(!0)),c){case"settings":return s.React.createElement(g.default,e);case"integrations":return s.React.createElement(d.default,e);case"emails":return s.React.createElement(m.default,e);case"logging":return s.React.createElement(f.default,e);default:return null}},z=function(e){var t=e.data,n=e.i18n,r=e.common,a=t.route_path.replace(window.location.origin,""),i=(null==t?void 0:t.caps)||{};Object.entries(A).forEach((function(e){var t=(0,o.Z)(e,2),n=t[0];t[1].some((function(e){return i[e]}))||C.push(n)})),function(){return w[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]||!1}("wp_email_management")||C.includes("emails")||C.push("emails");var u=(0,E.default)((function(e){return e.pageLoaderActive})),p=(0,E.default)((function(e){return e.setPageLoaderActive})),m={confirmButtonType:(0,E.default)((function(e){return e.confirmDialogConfirmButtonType})),customAttributes:(0,E.default)((function(e){return e.confirmDialogCustomAttributes})),i18n:S(S({},(null==r?void 0:r.i18n)||{}),(0,E.default)((function(e){return e.confirmDialogI18n}))),isOpen:(0,E.default)((function(e){return e.confirmDialogOpen})),onCancel:(0,E.default)((function(e){return e.confirmDialogOnCancel})),onClose:(0,E.default)((function(e){return e.confirmDialogOnClose})),onConfirm:(0,E.default)((function(e){return e.confirmDialogOnConfirm}))},g=function(e){p(e.detail)};return Z((function(){return document.addEventListener("gravitysmtp/page_loader/active",g),function(){return document.removeEventListener("gravitysmtp/page_loader/active",g)}}),[]),s.React.createElement(x,null,s.React.createElement(l.wT,{defaultSettings:{errorIconAttributes:{icon:"exclamation-simple",iconPrefix:"gravitysmtp-admin-icon"},successIconAttributes:{icon:"correct",iconPrefix:"gravitysmtp-admin-icon"}}},s.React.createElement("div",{className:"gravitysmtp-app__wrapper"},s.React.createElement(c.Z,{customClasses:["gravitysmtp-settings-app"],Header:D,PrimarySideBarChildren:I,common:r,data:t,i18n:n,disabledNavItems:C},s.React.createElement("div",{className:"gravitysmtp-settings-app__content"},s.React.createElement(j,null,s.React.createElement(k,{path:a,element:s.React.createElement(N,{common:r,data:t,i18n:n,disabledNavItems:C})})))),s.React.createElement(v.default,{data:t,common:r,i18n:n}),s.React.createElement(y.Z,m),s.React.createElement(_.Z,{loading:u}))))}},48288:function(e,t,n){n.r(t),n.d(t,{GravitySMTPLogo:function(){return r.Z},GravitySMTPTextLogo:function(){return a.Z}});var r=n(60324),a=n(30515)},27003:function(e,t,n){var r=n(79801),a=n(15720),i=n(89509),o=n.n(i),s=n(27784),c=n(65489),l=n(98731),u=n(36901),p=n(6493),m=n(375),g=n(77424),d=n(50036);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e,t){return e.map((function(e){var n,r;if(null==e||null===(n=e.props)||void 0===n||!n.name)return e;var a="".concat(t,"_").concat(e.props.name),i=(null==e||null===(r=e.props)||void 0===r?void 0:r.labelAttributes)||{};return v(v({},e),{},{props:v(v({},e.props),{},{labelAttributes:v(v({},i),(0,d.Z)(a))})})}))};t.Z=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=y(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e.activeIntegrationSettings);if(!["microsoft","google","generic","amazon"].includes(e.activeIntegrationSettings))return t;var n=e.integrationSettingsFormData[e.activeIntegrationSettings],a=t;return["microsoft","google","amazon"].includes(e.activeIntegrationSettings)?a=t.map((function(t){if(!["BrandedButton","BrandedLink","CopyInput","LinkedHelpTextInput"].includes(t.component)||!t.external)return t;var a,i=e.i18n.snackbar_url_copied,d=void 0===i?"":i,f=e.Svgs[t.props.Svg],y=null,_={};switch(t.component){case"BrandedButton":y=c.Z,_=v(v({},t.props),{},{disabled:!(null!=n&&n.client_id&&null!=n&&n.client_secret)||e.savingSettings,onClick:(a=(0,r.Z)(o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,e.saveConnectorSettings();case 3:window.location.href="".concat(n.oauth_url,"?client_id=").concat(n.client_id).concat(n.oauth_params);case 4:case"end":return t.stop()}}),t)}))),function(e){return a.apply(this,arguments)}),Svg:s.React.createElement(f,null)});break;case"BrandedLink":y=l.Z,_=v(v({},t.props),{},{href:"wizard"===e.context?t.wizardHref:t.props.href,Svg:s.React.createElement(f,null)});break;case"CopyInput":y=p.Z,_=v(v({},t.props),{},{actionButtonAttributes:v(v({},t.props.actionButtonAttributes),{},{onClick:function(t,n){e.addSnackBarMessage(d),(0,m.BR)(n)}})});break;case"LinkedHelpTextInput":y=p.Z,_=v(v({},t.props),{},{helpTextAttributes:v(v({},t.props.helpTextAttributes),{},{content:s.React.createElement(g.ji,{openingSymbol:"{{",closingSymbol:"}}",text:t.props.helpTextAttributes.content,tokens:t.links.map((function(e){return{component:u.Z,key:e.key,props:e.props}}))})})})}return v(v({},t),{},{component:y,props:_})})):"generic"===e.activeIntegrationSettings&&(a=t.map((function(e){var t;if("Input"!==e.component||!["username","password"].includes(null==e||null===(t=e.props)||void 0===t?void 0:t.name))return e;var r=v(v({},e.props),{},{disabled:!n.auth});return v(v({},e),{},{props:r})}))),a}}}]);