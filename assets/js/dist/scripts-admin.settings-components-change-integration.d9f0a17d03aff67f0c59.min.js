"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[351],{5691:function(t,e,n){n.r(e);var o=n(6796),r=n(5720),i=n(7784),a=n(7767),c=n(7866),u=n(8777);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d=i.React.forwardRef,p=d((function(t,e){var n,r,s=t.customAttributes,d=void 0===s?{}:s,p=t.customClasses,f=void 0===p?[]:p,v=t.common,g=void 0===v?{}:v,b=t.i18n,y=void 0===b?{}:b,m=(0,c.default)((function(t){return t.integrations})),O=(0,c.default)((function(t){return t.activeIntegration})),j=(0,c.default)((function(t){return t.activatingIntegration})),P=(0,c.default)((function(t){return t.setActivatingIntegration})),h=(0,c.default)((function(t){return t.changeIntegrationDialogOpen})),T=(0,c.default)((function(t){return t.setChangeIntegrationDialogOpen})),w=(0,c.default)((function(t){return t.setIntegrationSettingsFormData})),I=(0,c.default)((function(t){return t.setActiveIntegration})),C=(0,c.default)((function(t){return t.updateIntegrationStatus})),A=(null==g||null===(n=g.endpoints)||void 0===n||null===(n=n.save_connector_settings)||void 0===n?void 0:n.action)||"",D=(null==g||null===(r=g.endpoints)||void 0===r||null===(r=r.save_connector_settings)||void 0===r?void 0:r.nonce)||"",S=l({className:(0,i.classnames)({"gravitysmtp-change-integration":!0},f)},d),k={i18n:l(l({},(null==g?void 0:g.i18n)||{}),(null==y?void 0:y.integrations)||{}),isOpen:h,onCancel:function(){T(!1),C(j,{enabled:!1}),(0,u.saveActivationState)(j,A,D,{enabled:!1}),P("")},onConfirm:function(){T(!1),(0,u.saveActivationState)(j,A,D,{enabled:!0}).then((function(){I(j),function(t,e,n,o,r){t.forEach((function(t){var i,a;t.id!==n&&!0!==(null==t||null===(i=t.data)||void 0===i?void 0:i.disabled)&&!1!==(null==t||null===(a=t.data)||void 0===a?void 0:a.enabled)&&((0,u.saveActivationState)(t.id,o,r,{enabled:!1}),e(t.id,{enabled:!1}))}))}(m,C,j,A,D),P("")})),C(j,{enabled:!0}),w(O,"enabled",!1),w(j,"enabled",!0)}};return i.React.createElement("div",(0,o.Z)({},S,{ref:e}),i.React.createElement(a.Z,k))}));p.propTypes={customAttributes:i.PropTypes.object,customClasses:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.array,i.PropTypes.object]),common:i.PropTypes.object,data:i.PropTypes.object,i18n:i.PropTypes.object},p.displayName="ChangeIntegration",e.default=p}}]);