"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[6963],{2142:function(t,e,n){n.r(e);var r=n(5720),a=n(9801),i=n(6588),s=n(5210),c=n(9509),o=n.n(c),u=n(9608),l=n.n(u),d=n(7784),p=n(760),f=n(4070),m=n(583),v=n(9805),g=n(6192),_=n(7024),y=n(5271),w=n(5806),b=n(5212),h=n(2077),z=n(9208),x=n(1047),k=d.React.useEffect,R=d.React.useRef,Z=d.React.useState;e.default=function(t){var e,n,c=t.data,u=t.endpoints,E=t.i18n,S=E.debug_messages,C=void 0===S?{}:S,N=C.migrating_data,A=C.migrating_data_error,B=E.setup_wizard_next_button,O=E.setup_wizard_import_data_title,P=E.setup_wizard_import_data_copy,D=c.connectors_to_migrate,j=c.import_data,I=c.integrations,J=(0,x.default)((function(t){return t.activeStep})),T=(0,x.default)((function(t){return t.isAnimatedIn})),L=(0,x.default)((function(t){return t.importPlugin})),F=(0,x.default)((function(t){return t.setActiveStepNext})),U=(0,x.default)((function(t){return t.setHasDebugError})),M=(0,x.default)((function(t){return t.setImportPlugin})),W=(0,x.default)((function(t){return t.setIntegrationSettingsFormData})),H=(0,x.default)((function(t){return t.setSettingsUpdated})),K=(null==u||null===(e=u.migrate_settings)||void 0===e?void 0:e.action)||"",V=(null==u||null===(n=u.migrate_settings)||void 0===n?void 0:n.nonce)||"",X=Z(!1),$=(0,s.Z)(X,2),q=$[0],G=$[1],Q=function t(e,n,r){e.forEach((function(e){var a;(null===(a=e.props)||void 0===a?void 0:a.name)===n&&(e.props.value=r),e.fields&&t(e.fields,n,r)}))},Y=function(t,e){t.forEach((function(t){var n=e[t.id];"object"!==(0,i.Z)(n)||null===n||Array.isArray(n)||Object.entries(n).forEach((function(e){var n=(0,s.Z)(e,2),r=n[0],a=n[1];t.settings&&Array.isArray(t.settings.fields)&&Q(t.settings.fields,r,a)}))}))},tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(t).forEach((function(t){var e=(0,s.Z)(t,2),n=e[0],r=e[1];"object"===(0,i.Z)(r)&&null!==r&&!Array.isArray(r)&&Object.keys(r).length>0&&Object.entries(r).forEach((function(t){var e=(0,s.Z)(t,2),r=e[0],a=e[1];W(n,r,a)}))}))},et=function(){var t=(0,a.Z)(o().mark((function t(){var e,n,r,a,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={action:K,security:V,connectors:D},t.next=4,(0,h.Z)((0,m.gB)(N,JSON.stringify((0,z.Z)(["security"],n))),"info");case 4:return t.next=6,(0,f.v_)({endpoint:l(),body:n});case 6:if(r=t.sent,G(!1),null!=r&&null!==(e=r.data)&&void 0!==e&&e.success){t.next=15;break}return t.next=12,(0,h.Z)((0,m.gB)(A,JSON.stringify(null==r?void 0:r.error)),"error");case 12:U(!0),t.next=18;break;case 15:tt(null==r||null===(a=r.data)||void 0===a?void 0:a.data),Y(I,null==r||null===(i=r.data)||void 0===i?void 0:i.data),H();case 18:t.next=26;break;case 20:return t.prev=20,t.t0=t.catch(0),t.next=25,(0,h.Z)((0,m.gB)(A,JSON.stringify(t.t0)),"error");case 25:U(!0);case 26:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(){return t.apply(this,arguments)}}(),nt=j.filter((function(t){return t.activated})).map((function(t){var e="import_data_".concat(t.id),n=b["".concat(t.logo,"Logo")];return{id:e,labelAttributes:{label:t.title},name:"import_data",type:"image",value:t.id,children:d.React.createElement(n,null)}})),rt=R();k((function(){2===J&&rt.current&&rt.current.focus()}),[J]);var at,it={ref:(0,p.P5)(2===J&&T),className:(0,d.classnames)((0,r.Z)({"gravitysmtp-setup-wizard__screen":!0},"gravitysmtp-setup-wizard__screen--step-".concat(2),!0)),"aria-hidden":2!==J};return d.React.createElement("div",it,d.React.createElement("div",{className:"gravitysmtp-setup-wizard__screen-inner"},d.React.createElement(d.SimpleBar,{scrollableNodeProps:{ref:rt}},d.React.createElement("div",{className:"gravitysmtp-setup-wizard__content"},d.React.createElement(v.Z,{customClasses:["gravitysmtp-setup-wizard__content-header"],spacing:6},d.React.createElement(g.Z,{content:O,spacing:4,size:"display-sm",tagName:"h2",weight:"medium"}),d.React.createElement(_.Z,{content:P,spacing:8})),d.React.createElement(y.Z,{customClasses:["gravitysmtp-setup-wizard__content-cards","gform-grid--container","gform-grid--wrap","gform-grid--row-spacing-6","gform-grid--col-spacing-6"],data:nt,id:"import_data",inputType:"radio",onChange:function(t,e){return M(e.target.value)},useWrapper:!0,wrapperAttributes:{customClasses:["gravitysmtp-setup-wizard__content-card","gform-grid--item"]}}),d.React.createElement(w.default,{i18n:E,nextButtonCustomAttributes:{disabled:!L||q,onClick:(at=(0,a.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return G(!0),t.next=3,et();case 3:F();case 4:case"end":return t.stop()}}),t)}))),function(){return at.apply(this,arguments)}),active:q,activeType:"loader",activeText:B,icon:q?"":"arrow-narrow-right",lockSize:!0}})))))}},2867:function(t,e,n){n.r(e);var r=n(5720),a=n(5210),i=n(7784),s=n(760),c=n(9805),o=n(6192),u=n(7024),l=n(5271),d=n(5806),p=n(5212),f=n(1047),m=i.React.useEffect,v=i.React.useRef;e.default=function(t){var e=t.data,n=t.i18n,g=n.setup_wizard_integration_title,_=n.setup_wizard_integration_copy_1,y=(n.setup_wizard_integration_copy_2,e.import_data_possible),w=e.integrations,b=(0,f.default)((function(t){return t.activeStep})),h=(0,f.default)((function(t){return t.isAnimatedIn})),z=(0,f.default)((function(t){return t.integration})),x=(0,f.default)((function(t){return t.integrationSettingsFormData})),k=(0,f.default)((function(t){return t.setIntegration})),R=(0,f.default)((function(t){return t.setActiveStep})),Z=(0,f.default)((function(t){return t.setActiveNavBarStep})),E=(0,f.default)((function(t){return t.setActiveNavBarStepNext})),S=(0,f.default)((function(t){return t.setActiveNavBarStepPrevious})),C=(0,f.default)((function(t){return t.setIntegrationSetupAction})),N=(0,f.default)((function(t){return t.setSetupStatus})),A=w.filter((function(t){var e;return!(null!=t&&null!==(e=t.data)&&void 0!==e&&e.disabled)})).map((function(t){var e="integration_".concat(t.id),n=null!=t&&t.full_logo?p["".concat(t.full_logo,"Logo")]:null;return{id:e,labelAttributes:{label:t.title},name:"integration",type:"image",value:t.id,children:n?i.React.createElement(n,null):null}})),B=v();m((function(){3===b&&B.current&&B.current.focus()}),[b]);var O={ref:(0,s.P5)(3===b&&h),className:(0,i.classnames)((0,r.Z)({"gravitysmtp-setup-wizard__screen":!0},"gravitysmtp-setup-wizard__screen--step-".concat(3),!0)),"aria-hidden":3!==b};return i.React.createElement("div",O,i.React.createElement("div",{className:"gravitysmtp-setup-wizard__screen-inner"},i.React.createElement(i.SimpleBar,{scrollableNodeProps:{ref:B}},i.React.createElement("div",{className:"gravitysmtp-setup-wizard__content"},i.React.createElement(c.Z,{customClasses:["gravitysmtp-setup-wizard__content-header"],spacing:6},i.React.createElement(o.Z,{content:g,spacing:4,size:"display-sm",tagName:"h2",weight:"medium"}),i.React.createElement(u.Z,{content:_,spacing:8})),i.React.createElement(l.Z,{customClasses:["gravitysmtp-setup-wizard__content-cards","gform-grid--container","gform-grid--wrap","gform-grid--row-spacing-6","gform-grid--col-spacing-6"],data:A,id:"integrations",inputType:"radio",initialValue:function(){for(var t=0,e=Object.entries(x);t<e.length;t++){var n=(0,a.Z)(e[t],2),r=n[0];if(n[1].enabled)return r}return""}(),onChange:function(t,e){return k(e.target.value)},useWrapper:!0,wrapperAttributes:{customClasses:["gravitysmtp-setup-wizard__content-card","gform-grid--item"]}}),i.React.createElement(d.default,{i18n:n,backButtonCustomAttributes:{onClick:function(){R(y?2:1),S()}},skipButtonCustomAttributes:{onClick:function(){var t=y?5:4;N("skipped"),C("skip"),R(5),Z(t)}},nextButtonCustomAttributes:{disabled:!z,onClick:function(){C("next"),R(4),E()}}})))))}},8114:function(t,e,n){n.r(e);var r=n(5720),a=n(9801),i=n(5210),s=n(9509),c=n.n(s),o=n(9608),u=n.n(o),l=n(7784),d=n(760),p=n(583),f=n(4070),m=n(9805),v=n(6192),g=n(7024),_=n(8957),y=n(4237),w=n(2077),b=n(9208),h=n(5806),z=n(1047),x=l.React.useEffect,k=l.React.useRef,R=l.React.useState;e.default=function(t){var e,n,s,o=t.common,Z=t.data,E=t.endpoints,S=t.i18n,C=o.i18n,N=(void 0===C?{}:C).debug_messages,A=void 0===N?{}:N,B=A.saving_integration_settings,O=void 0===B?"":B,P=A.saving_integration_settings_error,D=void 0===P?"":P,j=S.setup_wizard_next_button,I=void 0===j?"":j,J=S.setup_wizard_mail_settings_title,T=void 0===J?"":J,L=S.setup_wizard_mail_settings_copy,F=void 0===L?"":L,U=S.setup_wizard_integration_settings_error,M=void 0===U?"":U,W=Z.integrations,H=(0,z.default)((function(t){return t.activeStep})),K=(0,z.default)((function(t){return t.isAnimatedIn})),V=(0,z.default)((function(t){return t.integration})),X=(0,z.default)((function(t){return t.integrationSettingsFormData})),$=(0,z.default)((function(t){return t.setActiveStepNext})),q=(0,z.default)((function(t){return t.setActiveNavBarStepNext})),G=(0,z.default)((function(t){return t.setSetupStatus})),Q=(0,z.default)((function(t){return t.setIntegrationSettingsFormData})),Y=(0,z.default)((function(t){return t.setSettingsUpdated})),tt=(0,z.default)((function(t){return t.setHasDebugError})),et=k(null),nt=R(!1),rt=(0,i.Z)(nt,2),at=rt[0],it=rt[1],st=(0,p.Bl)(W,"id",V),ct=(null==st||null===(e=st.settings)||void 0===e?void 0:e.fields)||[],ot=(null==E||null===(n=E.save_connector_settings)||void 0===n?void 0:n.action)||"",ut=(null==E||null===(s=E.save_connector_settings)||void 0===s?void 0:s.nonce)||"",lt=(0,y.Ds)(),dt=function(){var t=(0,a.Z)(c().mark((function t(){var e,n,r,a,i,s,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=et.current.offsetWidth,et.current.style.width="".concat(e,"px"),n={action:ot,security:ut,connector_type:V,settings:X[V]},t.next=5,(0,w.Z)((0,p.gB)(O,V,JSON.stringify((0,b.Z)(["api_key","server_api_token","password","security"],n))),"info");case 5:return t.prev=5,t.next=8,(0,f.v_)({endpoint:u(),body:n});case 8:if(a=t.sent,it(!1),null!=a&&null!==(r=a.data)&&void 0!==r&&r.success){t.next=18;break}return o=(0,p.sO)(null==a||null===(i=a.error)||void 0===i||null===(i=i.detail)||void 0===i?void 0:i.data)?JSON.parse(null==a||null===(s=a.error)||void 0===s||null===(s=s.detail)||void 0===s?void 0:s.data):"",t.next=14,(0,w.Z)((0,p.gB)(D,V,JSON.stringify(o)),"error");case 14:tt(!0),lt((null==o?void 0:o.data)||M,"error"),t.next=22;break;case 18:G("success"),$(),q(),Y();case 22:t.next=30;break;case 24:return t.prev=24,t.t0=t.catch(5),t.next=29,(0,w.Z)((0,p.gB)(D,V,JSON.stringify(t.t0)),"error");case 29:tt(!0);case 30:et.current&&(et.current.style.width="");case 31:case"end":return t.stop()}}),t,null,[[5,24]])})));return function(){return t.apply(this,arguments)}}(),pt=k();x((function(){4===H&&pt.current&&pt.current.focus()}),[H]);var ft,mt={ref:(0,d.P5)(4===H&&K),className:(0,l.classnames)((0,r.Z)({"gravitysmtp-setup-wizard__screen":!0},"gravitysmtp-setup-wizard__screen--step-".concat(4),!0)),"aria-hidden":4!==H};return l.React.createElement("div",mt,l.React.createElement("div",{className:"gravitysmtp-setup-wizard__screen-inner"},l.React.createElement(l.SimpleBar,{scrollableNodeProps:{ref:pt}},l.React.createElement("div",{className:"gravitysmtp-setup-wizard__content"},l.React.createElement(m.Z,{customClasses:["gravitysmtp-setup-wizard__content-header"],spacing:6},l.React.createElement(v.Z,{content:T,spacing:8,size:"display-sm",tagName:"h2",weight:"medium"}),l.React.createElement(g.Z,{content:(0,p.gB)(F,null==st?void 0:st.title),spacing:6,size:"text-lg",weight:"medium"}),l.React.createElement("form",{id:V},l.React.createElement(_.Z,{id:V,fields:ct,setFieldData:function(t,e){return Q(V,t,e)}}))),l.React.createElement(h.default,{i18n:S,skipButtonCustomAttributes:{onClick:function(){G("skipped"),$(),q()}},nextButtonCustomAttributes:{onClick:(ft=(0,a.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return it(!0),t.next=3,dt();case 3:case"end":return t.stop()}}),t)}))),function(){return ft.apply(this,arguments)}),active:at,activeType:"loader",activeText:I,disabled:at,icon:at?"":"arrow-narrow-right",lockSize:!0,ref:et}})))))}},5155:function(t,e,n){n.r(e);var r=n(9801),a=n(5720),i=n(5210),s=n(9509),c=n.n(s),o=n(9608),u=n.n(o),l=n(7784),d=n(760),p=n(4070),f=n(583),m=n(9805),v=n(7343),g=n(6192),_=n(7024),y=n(2077),w=n(9208),b=n(5212),h=n(1047),z=l.React.useEffect,x=l.React.useRef,k=l.React.useState;e.default=function(t){var e=t.common,n=t.data,s=t.i18n,o=s.setup_wizard_back_button,R=s.setup_wizard_dashboard_button,Z=s.setup_wizard_setup_skipped_title,E=s.setup_wizard_setup_skipped_copy,S=s.setup_wizard_setup_success_title,C=s.setup_wizard_setup_success_copy,N=s.setup_wizard_setup_failed_title,A=s.setup_wizard_setup_failed_copy,B=s.setup_wizard_activate_integration_button,O=n.import_data_possible,P=n.integrations,D=e.endpoints,j=(void 0===D?{}:D).save_connector_settings,I=void 0===j?{}:j,J=I.action,T=void 0===J?"":J,L=I.nonce,F=void 0===L?"":L,U=e.i18n,M=(void 0===U?{}:U).debug_messages,W=void 0===M?{}:M,H=W.saving_integration_settings,K=void 0===H?"":H,V=W.saving_integration_settings_error,X=void 0===V?"":V,$=(0,h.default)((function(t){return t.activeStep})),q=(0,h.default)((function(t){return t.isAnimatedIn})),G=(0,h.default)((function(t){return t.integrationSetupAction})),Q=(0,h.default)((function(t){return t.setupStatus})),Y=(0,h.default)((function(t){return t.integration})),tt=(0,h.default)((function(t){return t.closeDialog})),et=(0,h.default)((function(t){return t.setActiveStep})),nt=(0,h.default)((function(t){return t.setActiveNavBarStep})),rt=(0,h.default)((function(t){return t.setSettingsUpdated})),at=(0,h.default)((function(t){return t.setHasDebugError})),it=k(!1),st=(0,i.Z)(it,2),ct=st[0],ot=st[1],ut="failed"===Q?b.MailFailedBg:b.MailSuccessBg,lt="",dt="",pt="primary-new";switch(Q){case"skipped":lt=Z,dt=E;break;case"success":lt=S,dt=C,pt="white";break;case"failed":lt=N,dt=A}var ft=x();z((function(){5===$&&ft.current&&ft.current.focus()}),[$]);var mt={ref:(0,d.P5)(5===$&&q),className:(0,l.classnames)((0,a.Z)({"gravitysmtp-setup-wizard__screen":!0},"gravitysmtp-setup-wizard__screen--step-".concat(5),!0)),"aria-hidden":5!==$},vt=P.reduce((function(t,e){return t||e.id!==Y?t:e.title}),""),gt=(0,f.gB)(B,vt),_t=P.filter((function(t){return!(t.data&&t.data.disabled)})).map((function(t){return t.id})),yt=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={action:T,security:F,connector_type:e,no_validate:!0,settings:{enabled:!1}},t.next=3,(0,y.Z)((0,f.gB)(K,e,JSON.stringify((0,w.Z)(["security"],n))),"info");case 3:t.prev=3,(0,p.v_)({endpoint:u(),body:n}),t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(3),t.next=12,(0,y.Z)((0,f.gB)(X,e,JSON.stringify(t.t0)),"error");case 12:case"end":return t.stop()}}),t,null,[[3,7]])})));return function(e){return t.apply(this,arguments)}}(),wt=function(){var t=(0,r.Z)(c().mark((function t(){var e,n,r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=_t.filter((function(t){return t!==Y})).map(yt),t.next=3,Promise.all(e);case 3:return n={action:T,security:F,connector_type:Y,settings:{enabled:!0}},t.next=6,(0,y.Z)((0,f.gB)(K,Y,JSON.stringify((0,w.Z)(["security"],n))),"info");case 6:return t.prev=6,t.next=9,(0,p.v_)({endpoint:u(),body:n});case 9:if(null!=(a=t.sent)&&null!==(r=a.data)&&void 0!==r&&r.success){t.next=17;break}return t.next=14,(0,y.Z)((0,f.gB)(X,Y,JSON.stringify(null==a?void 0:a.error)),"error");case 14:at(!0),t.next=18;break;case 17:rt();case 18:t.next=26;break;case 20:return t.prev=20,t.t0=t.catch(6),t.next=25,(0,y.Z)((0,f.gB)(X,Y,JSON.stringify(t.t0)),"error");case 25:at(!0);case 26:case"end":return t.stop()}}),t,null,[[6,20]])})));return function(){return t.apply(this,arguments)}}();return l.React.createElement("div",mt,l.React.createElement("div",{className:"gravitysmtp-setup-wizard__screen-inner"},l.React.createElement(l.SimpleBar,{scrollableNodeProps:{ref:ft}},l.React.createElement("div",{className:"gravitysmtp-setup-wizard__content"},l.React.createElement(m.Z,{customClasses:["gravitysmtp-setup-wizard__screen-nav-buttons"],display:"flex",spacing:10},l.React.createElement(v.Z,{customClasses:["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--back"],icon:"arrow-narrow-left",iconPrefix:"gravitysmtp-admin-icon",label:o,size:"size-height-xl",type:"icon-white",onClick:function(){var t=3-("skip"===G?1:0)+(O?1:0);et("skip"===G?3:4),nt(t)}}),l.React.createElement(v.Z,{customClasses:["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--skip"],icon:"arrow-narrow-right",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"trailing",label:R,size:"size-height-xl",type:pt,onClick:function(){return tt()}}),"success"===Q&&l.React.createElement(v.Z,{active:ct,activeType:"loader",customClasses:["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--next"],label:gt,lockSize:!0,size:"size-height-xl",type:"primary-new",onClick:(0,r.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ot(!0),t.next=3,wt();case 3:(0,f.X$)({event:"gravitysmtp/page_loader/active",native:!1,data:!0}),tt();case 5:case"end":return t.stop()}}),t)})))})),l.React.createElement(m.Z,{customClasses:["gravitysmtp-setup-wizard__content-header"],spacing:4},l.React.createElement(g.Z,{content:lt,spacing:4,size:"display-sm",tagName:"h2",weight:"medium"}),l.React.createElement(_.Z,{content:dt})),l.React.createElement(m.Z,{customClasses:["gravitysmtp-setup-wizard__content-body"]},l.React.createElement(ut,null))))))}},5806:function(t,e,n){n.r(e);var r=n(107),a=n(5720),i=n(5689),s=n(7784),c=n(9805),o=n(7343),u=n(1047),l=["customClasses"],d=["customClasses"],p=["customClasses"],f=["customClasses"];function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){(0,a.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=(0,s.React.forwardRef)((function(t,e){var n=t.backButtonCustomAttributes,a=void 0===n?{}:n,m=t.nextButtonCustomAttributes,g=void 0===m?{}:m,_=t.i18n,y=t.showBackButton,w=void 0===y||y,b=t.showSkipButton,h=void 0===b||b,z=t.showNextButton,x=void 0===z||z,k=t.skipButtonCustomAttributes,R=void 0===k?{}:k,Z=t.wrapperCustomAttributes,E=void 0===Z?{}:Z,S=_.setup_wizard_back_button,C=_.setup_wizard_skip_button,N=_.setup_wizard_next_button,A=(0,u.default)((function(t){return t.setActiveStepNext})),B=(0,u.default)((function(t){return t.setActiveStepPrevious})),O=(0,u.default)((function(t){return t.setActiveNavBarStepNext})),P=(0,u.default)((function(t){return t.setActiveNavBarStepPrevious})),D=E.customClasses,j=(0,i.Z)(E,l),I=v({customClasses:s.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-buttons"]].concat((0,r.Z)(D||[]))),display:"flex",spacing:[6,0,0],ref:e},j),J=a.customClasses,T=(0,i.Z)(a,d),L=v({customClasses:s.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--back"]].concat((0,r.Z)(J||[]))),icon:"arrow-narrow-left",iconPrefix:"gravitysmtp-admin-icon",label:S,size:"size-height-xl",type:"icon-white",onClick:function(){B(),P()}},T),F=R.customClasses,U=(0,i.Z)(R,p),M=v({customClasses:s.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--skip"]].concat((0,r.Z)(F||[]))),icon:"arrow-narrow-right",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"trailing",label:C,size:"size-height-xl",type:"white",onClick:function(){A(),O()}},U),W=g.customClasses,H=(0,i.Z)(g,f),K=v({customClasses:s.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--next"]].concat((0,r.Z)(W||[]))),icon:"arrow-narrow-right",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"trailing",label:N,size:"size-height-xl",onClick:function(){A(),O()}},H);return s.React.createElement(c.Z,I,w&&s.React.createElement(o.Z,L),h&&s.React.createElement(o.Z,M),x&&s.React.createElement(o.Z,K))}));e.default=g},1868:function(t,e,n){n.r(e);var r=n(9801),a=n(5210),i=n(9509),s=n.n(i),c=n(9608),o=n.n(c),u=n(7784),l=n(4070),d=n(583),p=n(4237),f=n(7343),m=n(1480),v=n(7980),g=n(9805),_=n(4427),y=n(1057),w=n(2142),b=n(2867),h=n(8114),z=n(5155),x=n(1047),k=n(2077),R=u.React.useState,Z=u.React.useEffect,E=u.React.useRef;e.default=function(t){var e,n,i,c,S=R(!0),C=(0,a.Z)(S,2),N=C[0],A=C[1],B=(0,x.default)((function(t){return t.innerDialogOpen})),O=(0,x.default)((function(t){return t.activeStep})),P=(0,x.default)((function(t){return t.activeNavBarStep})),D=(0,x.default)((function(t){return t.isOpen})),j=(0,x.default)((function(t){return t.settingsUpdated})),I=(0,x.default)((function(t){return t.shouldRedirect})),J=(0,x.default)((function(t){return t.hasDebugError})),T=(0,x.default)((function(t){return t.closeDialog})),L=(0,x.default)((function(t){return t.openDialog})),F=(0,x.default)((function(t){return t.setIsAnimatedIn})),U=(0,d.xK)(),M="gravitysmtp-settings"===(null==U?void 0:U.page)&&"integrations"===(null==U?void 0:U.tab),W=E(),H=t.data,K=H.admin_url,V=H.import_data_possible,X=H.integrations_url,$=H.license_key_is_valid,q=H.should_display,G=t.i18n.debug_messages,Q=(void 0===G?{}:G).starting_first_run,Y=t.common,tt=Y.data,et=void 0===tt?{}:tt,nt=Y.endpoints,rt=void 0===nt?{}:nt,at=(null==rt||null===(e=rt.save_plugin_settings)||void 0===e?void 0:e.action)||"",it=(null==rt||null===(n=rt.save_plugin_settings)||void 0===n?void 0:n.nonce)||"",st=(null==rt||null===(i=rt.delete_debug_logs)||void 0===i?void 0:i.action)||"",ct=(null==rt||null===(c=rt.delete_debug_logs)||void 0===c?void 0:c.nonce)||"",ot=O;U["setup-wizard-page"]&&!V&&ot>=2&&(ot=O+1);var ut,lt,dt={closeOnMaskClick:!1,closeButtonTitle:t.i18n.setup_wizard_close_button,customCloseButtonClasses:["gravitysmtp-setup-wizard--exit-button"],customCloseButtonLabelAttributes:{className:(0,u.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},customWrapperClasses:["gravitysmtp-setup-wizard","gravitysmtp-setup-wizard--step-".concat(ot),"gravitysmtp-setup-wizard--inner-dialog-".concat(B)],customMaskClasses:[!N&&"gravitysmtp-setup-wizard--not-fullscreen"],id:"gravitysmtp-setup-wizard",isOpen:D,lockBody:!0,onOpen:(lt=(0,r.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(q){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,et.debug_log_enabled=!0,t.next=6,(0,l.v_)({endpoint:o(),body:{action:at,security:it,key:"debug_log_enabled",value:!0}});case 6:(0,k.Z)((0,d.gB)(Q,JSON.stringify({activeStep:O,importDataPossible:V,licenseKeyIsValid:$})),"info"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2);case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),function(){return lt.apply(this,arguments)}),onOpenAfterAnimation:function(){F(!0)},onClose:(ut=(0,r.Z)(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=new URL(window.location.href)).searchParams.delete("setup-wizard-page"),history.pushState({},"",e.toString()),J||!q){t.next=16;break}return t.prev=5,et.debug_log_enabled=!1,t.next=9,(0,l.v_)({endpoint:o(),body:{action:at,security:it,key:"debug_log_enabled",value:!1}});case 9:return t.next=11,(0,l.v_)({endpoint:o(),body:{action:st,security:ct,all_logs:"1"}});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5);case 16:if(!(W.current&&M&&j)){t.next=19;break}return window.location.reload(),t.abrupt("return");case 19:I||(document.body.classList.remove("gravitysmtp-apps--hidden"),!M&&W.current&&(window.location.href=X));case 20:case"end":return t.stop()}}),t,null,[[5,13]])}))),function(){return ut.apply(this,arguments)}),onCloseAfterAnimation:function(){W.current&&M&&j||(I||M)&&(T(),F(!1),I&&(window.location.href=K))},padContent:!1,position:N?"fixed":"absolute",mode:"container",zIndex:100001};Z((function(){var t=function(){L()};return document.addEventListener("gravitysmtp/setup_wizard/open",t),function(){document.removeEventListener("gravitysmtp/setup_wizard/open",t)}}),[]),Z((function(){D&&document.body.classList.add("gravitysmtp-setup-wizard--open")}),[D]),Z((function(){W.current||(W.current=!0)}),[]);var pt=V?5:4;return u.React.createElement(p.wT,{defaultSettings:{errorIconAttributes:{icon:"exclamation-simple",iconPrefix:"gravitysmtp-admin-icon"},successIconAttributes:{icon:"correct",iconPrefix:"gravitysmtp-admin-icon"}}},u.React.createElement(m.Z,dt,u.React.createElement(v.Z,{customClasses:["gravitysmtp-setup-wizard__nav-bar"]},u.React.createElement(_.Z,{activeStep:P,customClasses:["gravitysmtp-setup-wizard__steps"],icon:"check",iconPrefix:"gravitysmtp-admin-icon",numSteps:pt,spacing:[8,0,0]})),u.React.createElement(g.Z,{x:1030,customClasses:["gravitysmtp-setup-wizard__content-mask"],setDisplay:!1}),!B&&u.React.createElement(f.Z,{ariaLabel:"Toggle Fullscreen",circular:!0,customClasses:["gravitysmtp-setup-wizard__fullscreen-toggle"],icon:N?"contract":"expand",iconPrefix:"gravitysmtp-admin-icon",onClick:function(){A(!N)},type:"white"}),u.React.createElement(y.default,t),u.React.createElement(w.default,t),u.React.createElement(b.default,t),u.React.createElement(h.default,t),u.React.createElement(z.default,t)))}}}]);