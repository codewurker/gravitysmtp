"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[9456],{9456:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var a,i,o,r=n(90455),s=n(71860),l=n(8140),c=n(88856),d=n(78564),g=n.n(d),u=n(97867),_=n(30242),b=n(80509),m=n(5529),v=n(87029),p=n(53377),f=n(66598),h=n(16265),A=n(13379),k=n(84860),y=n(68381),S=n(27122),E=n.n(S),x=n(40450),C=n.n(x),w=n(60177),D=n(71376),O=n(83707),T=n(93313),M=(null===(a=(0,D.zj)(C(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.common)||{},P=function(e){(0,e.addSnackbarMessage)(e.saveSuccessSnackBarMessage,"success")},z=function(e){var t=e.addSnackbarMessage;e.error;t(e.saveErrorSnackBarMessage,"error")},I=function(){var e=(0,r.A)(g().mark((function e(t){var n,a,i,o,r,s,l,c,d,u,_,b,m,v,p,f,h,A,k,y,S,x,C,I,L,B,G,R,j,N,V,U,W,J,H,q,F,K,Q,X,Y,Z,$,ee,te,ne,ae,ie,oe,re,se,le,ce;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.addSnackbarMessage,a=void 0===n?function(){}:n,i=t.errorCallback,o=void 0===i?null:i,r=t.snackBarErrorMessage,s=void 0===r?"":r,l=t.snackBarSuccessMessage,c=void 0===l?"":l,d=t.successCallback,u=void 0===d?null:d,_=t.type,b=void 0===_?"debug":_,m=t.useDebugLogger,v=void 0===m||m,p=M.i18n,h=(f=void 0===p?{}:p).debug_messages,k=(A=void 0===h?{}:h).deleting_activity_log_rows,y=void 0===k?"":k,S=A.deleting_activity_log_rows_error,x=void 0===S?"":S,C=A.deleting_all_debug_logs,I=void 0===C?"":C,L=A.deleting_all_debug_logs_error,B=void 0===L?"":L,G=f.snackbar_activity_log_delete_error,R=void 0===G?"":G,j=f.snackbar_activity_log_delete_success,N=void 0===j?"":j,V=f.snackbar_debug_log_delete_error,U=void 0===V?"":V,W=f.snackbar_debug_log_delete_success,J=void 0===W?"":W,H=M.endpoints,F=(q=void 0===H?{}:H).delete_events,Q=(K=void 0===F?{}:F).action,X=void 0===Q?"":Q,Y=K.nonce,Z=void 0===Y?"":Y,$=q.delete_debug_logs,te=(ee=void 0===$?{}:$).action,ne=void 0===te?"":te,ae=ee.nonce,ie=void 0===ae?"":ae,oe=c||"debug"===b?J:N,re=s||"debug"===b?U:R,se={action:"debug"===b?ne:X,security:"debug"===b?ie:Z},"debug"===b?se.all_logs="1":(se.all_events="1",se.event_ids=[1]),!v){e.next=9;break}return e.next=9,(0,O.A)((0,D.nv)("debug"===b?I:y,JSON.stringify((0,T.A)(["security"],se))),"info");case 9:return e.prev=9,e.next=12,(0,w.bE)({endpoint:E(),body:se});case 12:null!=(ce=e.sent)&&null!==(le=ce.data)&&void 0!==le&&le.success?(u||P)({addSnackbarMessage:a,data:null==ce?void 0:ce.data,saveSuccessSnackBarMessage:oe}):(o||z)({addSnackbarMessage:a,error:null==ce?void 0:ce.error,saveErrorSnackBarMessage:re}),e.next=23;break;case 16:if(e.prev=16,e.t0=e.catch(9),a(re,"error"),!v){e.next=23;break}return e.next=23,(0,O.A)((0,D.nv)("debug"===b?B:x,JSON.stringify(e.t0)),"error");case 23:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}(),L=I,B=(null===(i=(0,D.zj)(C(),"gravitysmtp_admin_config"))||void 0===i?void 0:i.common)||{},G=(null==B||null===(o=B.data)||void 0===o?void 0:o.param_keys)||{};function R(){return G[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]||""}var j=n(49572),N=n(27764),V=n(36770),U=n(59092);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,c.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=u.React.forwardRef,q=u.React.useState,F=H((function(e,t){var n=e.customAttributes,a=void 0===n?{}:n,i=e.customClasses,o=void 0===i?[]:i,c=e.common,d=void 0===c?{}:c,S=e.data,E=void 0===S?{}:S,x=e.i18n,C=void 0===x?{}:x,w=J({className:(0,u.classnames)({"gravitysmtp-settings-app__logging":!0},o)},a),D=(null==C?void 0:C.logging)||{},O=D.debug_log_retention_helper_text,T=D.debug_log_retention_label,M=D.debug_logging_box_heading,P=D.delete_activity_log_button_text,z=D.delete_debug_log_button_text,I=D.delete_debug_log_dialog_confirm_change_confirm,B=D.delete_debug_log_dialog_confirm_change_content,G=D.delete_debug_log_dialog_confirm_change_heading,W=D.delete_email_log_dialog_confirm_change_content,H=D.email_log_max_records_helper_text,F=D.email_log_retention_helper_text,K=D.email_log_retention_label,Q=D.enable_debug_log_helper_text,X=D.enable_debug_log_label,Y=D.enable_log_helper_text,Z=D.enable_log_label,$=D.logging_box_heading,ee=D.save_attachments_helper_text,te=D.save_attachments_label,ne=D.save_email_body_helper_text,ae=D.save_email_body_label,ie=D.top_content,oe=D.top_heading,re=D.track_open_label,se=D.track_open_helper_text,le=D.view_activity_log_button_text,ce=D.view_debug_log_button_text,de=(null==E?void 0:E.email_log_settings)||{},ge=de.email_log_enabled,ue=de.email_log_retention,_e=de.email_log_url,be=de.open_tracking_enabled,me=de.retention_options,ve=de.save_attachments_enabled,pe=de.save_email_body_enabled,fe=(null==E?void 0:E.debug_log_settings)||{},he=fe.debug_log_retention,Ae=fe.debug_log_url,ke=fe.retention_options,ye=(0,U.default)((function(e){return e.debugLogEnabled})),Se=(0,U.default)((function(e){return e.setDebugLogEnabled})),Ee=(0,U.default)((function(e){return e.setConfirmDialogSettings})),xe=(0,U.default)((function(e){return e.setConfirmDialogOpen})),Ce=(0,k.dh)(),we=q(ge),De=(0,l.A)(we,2),Oe=De[0],Te=De[1];return u.React.createElement("div",(0,s.A)({},w,{ref:t}),u.React.createElement(m.A,{size:"display-sm",weight:"semibold",spacing:1,content:oe}),u.React.createElement(f.A,{size:"text-sm",spacing:6,color:"comet",content:ie}),(0,j.A)("CAPS_VIEW_EMAIL_LOG_SETTINGS")&&u.React.createElement(A.A,{HeaderContent:function(e){return u.React.createElement(m.A,(0,s.A)({content:$,tagName:"h2",size:"text-lg",weight:"medium"},e))},spacing:6},u.React.createElement(_.A,{customClasses:["gravitysmtp-logging-settings__box-container"],x:630},u.React.createElement(h.A,{customAttributes:{"data-test-id":"settings-activity-log-enable"},helpTextAttributes:{content:Y,size:"text-sm"},initialChecked:ge,labelAttributes:J({label:Z},(0,N.A)(R("event_log_enabled"))),onChange:function(e){Te(e),(0,y.A)({addSnackbarMessage:Ce,key:R("event_log_enabled"),updateData:E.email_log_settings,value:e})},labelPosition:"left",name:R("event_log_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,j.A)("CAPS_EDIT_EMAIL_LOG_SETTINGS")}),Oe&&u.React.createElement(h.A,{customAttributes:{"data-test-id":"settings-save-email-body-enable"},helpTextAttributes:{content:ne,size:"text-sm"},initialChecked:pe,labelAttributes:J({label:ae},(0,N.A)(R("save_email_body_enabled"))),onChange:function(e){(0,y.A)({addSnackbarMessage:Ce,key:R("save_email_body_enabled"),updateData:E.email_log_settings,value:e})},labelPosition:"left",name:R("save_email_body_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,j.A)("CAPS_EDIT_EMAIL_LOG_SETTINGS")}),Oe&&u.React.createElement(h.A,{customAttributes:{"data-test-id":"settings-save-attachments-enable"},helpTextAttributes:{content:ee,size:"text-sm"},initialChecked:ve,labelAttributes:J({label:te},(0,N.A)(R("save_attachments_enabled"))),onChange:function(e){(0,y.A)({addSnackbarMessage:Ce,key:R("save_attachments_enabled"),updateData:E.email_log_settings,value:e})},labelPosition:"left",name:R("save_attachments_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,j.A)("CAPS_EDIT_EMAIL_LOG_SETTINGS")}),Oe&&(0,V.A)("email_open_tracking")&&u.React.createElement(h.A,{customAttributes:{"data-test-id":"settings-track-open-enable"},helpTextAttributes:{content:se,size:"text-sm"},initialChecked:be,labelAttributes:J({label:re},(0,N.A)(R("open_tracking"))),onChange:function(e){(0,y.A)({addSnackbarMessage:Ce,key:R("open_tracking"),updateData:E.email_log_settings,value:e})},labelPosition:"left",name:R("open_tracking"),spacing:6,size:"size-m",width:"full",disabled:!(0,j.A)("CAPS_EDIT_EMAIL_LOG_SETTINGS")}),u.React.createElement(p.A,{customAttributes:{"data-test-id":"settings-email-log-retention"},wrapperClasses:[!E.email_log_settings.log_retention_period_enabled&&"gravitysmtp-logging-settings__log-retention--locked"],initialValue:ue,labelAttributes:J({label:K},(0,N.A)(R("event_log_retention"),!E.email_log_settings.log_retention_period_enabled)),helpTextAttributes:{content:E.email_log_settings.log_retention_period_enabled?F:H,size:E.email_log_settings.log_retention_period_enabled?"text-xs":"text-sm"},name:R("event_log_retention"),onChange:function(e){(0,y.A)({addSnackbarMessage:Ce,showSnackBarSuccess:!0,key:R("event_log_retention"),updateData:E.email_log_settings,value:e})},options:me,disabled:!(0,j.A)("CAPS_EDIT_EMAIL_LOG_SETTINGS"),spacing:6}),u.React.createElement(_.A,{display:"flex",customClasses:["gravitysmtp-logging-settings__debug-log-buttons"]},(0,j.A)("CAPS_VIEW_EMAIL_LOG")&&u.React.createElement(v.A,{content:le,customAttributes:{"data-test-id":"settings-activity-log-link"},customClasses:["gform-button","gform-button--size-height-m","gform-button--white","gform-button--width-auto","gform-button--icon-leading","gform-typography--size-text-sm","gform-typography--weight-medium"],href:_e}),(0,j.A)("CAPS_DELETE_EMAIL_LOG")&&u.React.createElement(b.A,{customAttributes:{"data-test-id":"settings-activity-log-delete"},label:P,onClick:(0,r.A)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ee({confirmDialogConfirmButtonType:"amaranth-red",confirmDialogI18n:{confirm_change_confirm:I,confirm_change_content:W,confirm_change_heading:G},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return xe(!1)},confirmDialogOnClose:function(){return xe(!1)},confirmDialogOnConfirm:function(){var e=(0,r.A)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(!1),e.next=3,L({addSnackbarMessage:Ce,type:"email"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),icon:"trash",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",size:"size-height-m",type:"amaranth-red"})))),(0,j.A)("CAPS_VIEW_DEBUG_LOG_SETTINGS")&&u.React.createElement(A.A,{HeaderContent:function(e){return u.React.createElement(m.A,(0,s.A)({content:M,tagName:"h2",size:"text-lg",weight:"medium"},e))}},u.React.createElement(_.A,{customClasses:["gravitysmtp-logging-settings__box-container"],x:630},u.React.createElement(h.A,{customAttributes:{"data-test-id":"settings-debug-log-enable"},initialChecked:ye,labelAttributes:J({label:X},(0,N.A)(R("debug_log_enabled"))),helpTextAttributes:{content:Q,size:"text-sm"},onChange:function(e){Se(e),(0,y.A)({addSnackbarMessage:Ce,key:R("debug_log_enabled"),successCallback:function(){E.debug_log_settings.debug_log_enabled=e,d.data.debug_log_enabled=e},value:e})},helpTextWidth:"full",labelPosition:"left",name:R("debug_log_enabled"),spacing:6,size:"size-m",width:"full",disabled:!(0,j.A)("CAPS_EDIT_DEBUG_LOG_SETTINGS")}),u.React.createElement(p.A,{initialValue:he,labelAttributes:J({label:T},(0,N.A)(R("debug_log_retention"))),helpTextAttributes:{content:O},name:R("debug_log_retention"),onChange:function(e){(0,y.A)({addSnackbarMessage:Ce,showSnackBarSuccess:!0,key:R("debug_log_retention"),updateData:E.debug_log_settings,value:e})},options:ke,disabled:!(0,j.A)("CAPS_EDIT_DEBUG_LOG_SETTINGS"),spacing:6}),u.React.createElement(_.A,{display:"flex",customClasses:["gravitysmtp-logging-settings__debug-log-buttons"]},(0,j.A)("CAPS_VIEW_DEBUG_LOG")&&u.React.createElement(v.A,{content:ce,customAttributes:{"data-test-id":"settings-debug-log-link"},customClasses:["gform-button","gform-button--size-height-m","gform-button--white","gform-button--width-auto","gform-button--icon-leading","gform-typography--size-text-sm","gform-typography--weight-medium"],href:Ae}),(0,j.A)("CAPS_DELETE_DEBUG_LOG")&&u.React.createElement(b.A,{customAttributes:{"data-test-id":"settings-debug-log-delete"},label:z,onClick:(0,r.A)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ee({confirmDialogConfirmButtonType:"amaranth-red",confirmDialogI18n:{confirm_change_confirm:I,confirm_change_content:B,confirm_change_heading:G},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return xe(!1)},confirmDialogOnClose:function(){return xe(!1)},confirmDialogOnConfirm:function(){var e=(0,r.A)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(!1),e.next=3,L({addSnackbarMessage:Ce});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),icon:"trash",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",size:"size-height-m",type:"amaranth-red"})))))}));F.propTypes={customAttributes:u.PropTypes.object,customClasses:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.array,u.PropTypes.object])},F.displayName="LoggingScreen";var K=F},68381:function(e,t,n){var a,i=n(90455),o=n(78564),r=n.n(o),s=n(27122),l=n.n(s),c=n(40450),d=n.n(c),g=n(60177),u=n(71376),_=n(83707),b=n(93313),m=(null===(a=(0,u.zj)(d(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.common)||{},v=function(e){var t=e.addSnackbarMessage,n=e.key,a=e.saveSuccessSnackBarMessage,i=e.showSnackBarSuccess,o=e.updateData,r=e.value;o[n]&&(o[n]=r),i&&t(a,"success")},p=function(e){var t=e.addSnackbarMessage,n=(e.error,e.saveErrorSnackBarMessage);e.showSnackBarError&&t(n,"error")},f=function(){var e=(0,i.A)(r().mark((function e(t){var n,a,i,o,s,c,d,f,h,A,k,y,S,E,x,C,w,D,O,T,M,P,z,I,L,B,G,R,j,N,V,U,W,J,H,q,F,K,Q,X,Y,Z,$,ee,te;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.addSnackbarMessage,a=void 0===n?function(){}:n,i=t.errorCallback,o=void 0===i?null:i,s=t.key,c=void 0===s?"":s,d=t.showSnackBarError,f=void 0===d||d,h=t.showSnackBarSuccess,A=void 0!==h&&h,k=t.snackBarErrorMessage,y=void 0===k?"":k,S=t.snackBarSuccessMessage,E=void 0===S?"":S,x=t.successCallback,C=void 0===x?null:x,w=t.updateData,D=void 0===w?{}:w,O=t.useDebugLogger,T=void 0===O||O,M=t.value,P=void 0===M?"":M,z=m.i18n,L=(I=void 0===z?{}:z).snackbar_generic_update_error,B=void 0===L?"":L,G=I.snackbar_generic_update_success,R=void 0===G?"":G,j=I.debug_messages,V=(N=void 0===j?{}:j).saving_plugin_settings,U=void 0===V?"":V,W=N.saving_plugin_settings_error,J=void 0===W?"":W,H=m.endpoints,q=(void 0===H?{}:H).save_plugin_settings,K=(F=void 0===q?{}:q).action,Q=void 0===K?"":K,X=F.nonce,Y=E||R,Z=y||B,$={action:Q,security:void 0===X?"":X,key:c,value:P},!T){e.next=8;break}return e.next=8,(0,_.A)((0,u.nv)(U,JSON.stringify((0,b.A)(["security"],$))),"info");case 8:return e.prev=8,e.next=11,(0,g.bE)({endpoint:l(),body:$});case 11:null!=(te=e.sent)&&null!==(ee=te.data)&&void 0!==ee&&ee.success?(C||v)({addSnackbarMessage:a,data:null==te?void 0:te.data,key:c,saveSuccessSnackBarMessage:Y,showSnackBarSuccess:A,updateData:D,value:P}):(o||p)({addSnackbarMessage:a,error:null==te?void 0:te.error,saveErrorSnackBarMessage:Z,showSnackBarError:f}),e.next=21;break;case 15:if(e.prev=15,e.t0=e.catch(8),!T){e.next=21;break}return e.next=21,(0,_.A)((0,u.nv)(J,JSON.stringify(e.t0)),"error");case 21:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}();t.A=f},36770:function(e,t,n){n.d(t,{A:function(){return c}});var a,i,o=n(40450),r=n.n(o),s=(null===(a=(0,n(71376).zj)(r(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.common)||{},l=(null==s||null===(i=s.feature_flags)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.statuses)||{};function c(){return l[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]||!1}},90266:function(e,t,n){n.d(t,{A:function(){return c}});var a,i,o=n(40450),r=n.n(o),s=(null===(a=(0,n(71376).zj)(r(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.common)||{},l=(null==s||null===(i=s.data)||void 0===i?void 0:i.constants)||{};function c(){return l[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]||""}},49572:function(e,t,n){n.d(t,{A:function(){return m}});var a,i,o,r,s=n(40450),l=n.n(s),c=n(71376),d=n(90266),g=(null===(a=(0,c.zj)(l(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.components)||{},u=(null==g||null===(i=g.activity_log)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.caps)||{},_=(null==g||null===(o=g.settings)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.caps)||{},b=(null==g||null===(r=g.tools)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.caps)||{};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,d.A)(e);return u[t]||_[t]||b[t]||!1}},27764:function(e,t,n){var a,i=n(40450),o=n.n(i),r=(null===(a=(0,n(71376).zj)(o(),"gravitysmtp_admin_config"))||void 0===a?void 0:a.common)||{};t.A=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{iconPrefix:"gravitysmtp-admin-icon",locked:(null==r||null===(e=r.data)||void 0===e||null===(e=e.locked_settings)||void 0===e?void 0:e.includes(n))||a,lockedMessage:i||(null==r||null===(t=r.i18n)||void 0===t?void 0:t.setting_locked)||""}}}}]);