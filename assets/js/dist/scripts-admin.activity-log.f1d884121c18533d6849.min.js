"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[7577,6648,9975],{7301:function(e,t,a){a.r(t);var i=a(5720),r=a(5210),n=a(7784),o=a(9118),c=a(4237),s=a(7767),l=a(6091),m=a(5239),d=a(8066),p=a(907),u=a(4665),v=a(141);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,i.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y=n.React.useRef,_=n.ReactRouter.BrowserRouter,w=n.ReactRouter.Routes,b=n.ReactRouter.Route,h=n.ReactRouter.useSearchParams,E=(n.ReactRouter.useLocation,function(e){return n.React.createElement(d.default,e)});t.default=function(e){var t=e.data,a=e.i18n,i=e.common,d=t.route_path.replace(window.location.origin,""),f=y(),R=function(e){var t=h(),a=(0,r.Z)(t,2),i=a[0],o=(a[1],i.get(e.data.nav_item_param_key||"tab")||"activity-log");switch(f.current&&(f.current.scrollTop=0),o){case"activity-log":return n.React.createElement(p.default,e);case"log-details":return n.React.createElement(u.default,e);default:return null}},O={confirmButtonType:(0,v.default)((function(e){return e.confirmDialogConfirmButtonType})),i18n:g(g({},(null==i?void 0:i.i18n)||{}),(0,v.default)((function(e){return e.confirmDialogI18n}))),isOpen:(0,v.default)((function(e){return e.confirmDialogOpen})),onCancel:(0,v.default)((function(e){return e.confirmDialogOnCancel})),onConfirm:(0,v.default)((function(e){return e.confirmDialogOnConfirm}))};return n.React.createElement(_,null,n.React.createElement(c.wT,{defaultSettings:{errorIconAttributes:{icon:"exclamation-simple",iconPrefix:"gravitysmtp-admin-icon"},successIconAttributes:{icon:"correct",iconPrefix:"gravitysmtp-admin-icon"}}},n.React.createElement("div",{className:"gravitysmtp-app__wrapper"},n.React.createElement(o.Z,{customClasses:["gravitysmtp-activity-log-app"],Header:E,simpleBarRef:f,data:t,i18n:a},n.React.createElement("div",{className:"gravitysmtp-activity-log-app__content"},n.React.createElement(w,null,n.React.createElement(b,{path:d,element:n.React.createElement(R,{data:t,i18n:a,common:i})})))),n.React.createElement(l.default,{data:t,common:i,i18n:a}),n.React.createElement(m.default,{data:t,common:i,i18n:a}),n.React.createElement(s.Z,O))))}},6091:function(e,t,a){a.r(t);var i=a(6796),r=a(9801),n=a(5720),o=a(5210),c=a(9509),s=a.n(c),l=a(9608),m=a.n(l),d=a(7784),p=a(4070),u=a(583),v=a(7343),f=a(5051),g=a(1480),y=a(4237),_=a(2077),w=a(9208),b=a(141);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var R=d.React.forwardRef,O=d.React.useState,P=d.ReactRouter.useLocation,j=d.ReactRouter.useNavigate,C=R((function(e,t){var a,n,c=e.customAttributes,l=void 0===c?{}:c,h=e.customClasses,R=void 0===h?[]:h,C=e.common,Z=void 0===C?{}:C,N=e.data,T=void 0===N?{}:N,k=e.i18n,x=void 0===k?{}:k,D=j(),S=P(),A=(0,b.default)((function(e){return e.deleteEventDialogOpen})),z=(0,b.default)((function(e){return e.setDeleteEventDialogOpen})),B=(0,b.default)((function(e){return e.deletingEventId})),H=(0,b.default)((function(e){return e.setDeletingEventId})),I=(0,b.default)((function(e){return e.deleteEventLog})),L=O(!1),V=(0,o.Z)(L,2),M=V[0],F=V[1],J=(0,y.Ds)(),W=(null==Z||null===(a=Z.endpoints)||void 0===a||null===(a=a.delete_email)||void 0===a?void 0:a.action)||"",U=(null==Z||null===(n=Z.endpoints)||void 0===n||null===(n=n.delete_email)||void 0===n?void 0:n.nonce)||"",q=((null==Z?void 0:Z.i18n)||{}).snackbar_email_log_delete_error,G=void 0===q?"":q,K=x.confirm_delete_email_heading,Q=void 0===K?"":K,X=x.confirm_delete_email_content,Y=void 0===X?"":X,$=x.confirm_delete_email_delete,ee=void 0===$?"":$,te=x.confirm_delete_email_cancel,ae=void 0===te?"":te,ie=x.debug_messages,re=void 0===ie?{}:ie,ne=re.deleting_single_activity_log,oe=void 0===ne?"":ne,ce=re.deleting_single_activity_log_error,se=void 0===ce?"":ce,le=E({className:(0,d.classnames)({"gravitysmtp-delete-email":!0},R)},l),me=function(){var e,t=new URLSearchParams(S.search),a=T.nav_item_param_key||"tab";if("activity-log"!==t.get(a))if("activity-log"===(null==S||null===(e=S.state)||void 0===e?void 0:e.previous))D(-1);else{t.delete("event_id"),t.set(a,"activity-log");var i=E(E({},S),{},{search:"?".concat(t.toString())});D(i,{state:{previous:"log-details"}})}},de={onCloseAfterAnimation:function(){H(0),F(!1)},closeOnMaskClick:!1,customWrapperClasses:["gravitysmtp-delete-activity__dialog"],customCloseButtonLabelAttributes:{className:(0,d.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:Y,isOpen:A,maskTheme:"light",maxHeight:"90vh",mode:"modal",padContent:!1,position:"absolute",showCloseButton:!1,theme:"cosmos",title:Q},pe=function(){var e=(0,r.Z)(s().mark((function e(){var t,a,i,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),t={action:W,security:U,event_id:B},e.next=4,(0,_.Z)((0,u.gB)(oe,JSON.stringify((0,w.Z)(["security"],t))),"info");case 4:return e.prev=4,e.next=7,(0,p.v_)({endpoint:m(),body:t});case 7:null!=(i=e.sent)&&null!==(a=i.data)&&void 0!==a&&a.success?(I(B),J(null==i||null===(r=i.data)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message)):J(G,"error"),z(!1),me(),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(4),J(e.t0,"error"),e.next=18,(0,_.Z)((0,u.gB)(se,JSON.stringify(e.t0)),"error");case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();return d.React.createElement("div",(0,i.Z)({},le,{ref:t}),d.React.createElement(g.Z,de,d.React.createElement(f.Z,{container:!0,customClasses:["gravitysmtp-delete-activity__dialog-actions"],justifyContent:"flex-start",columnSpacing:3,spacing:[8,0,0,0],type:"fluid"},d.React.createElement(f.Z,{item:!0,width:6},d.React.createElement(v.Z,{label:ae,onClick:function(){return z(!1)},type:"white",width:"full"})),d.React.createElement(f.Z,{item:!0,width:6},d.React.createElement(v.Z,{active:M,activeType:"loader",label:ee,onClick:pe,width:"full"})))))}));C.propTypes={customAttributes:d.PropTypes.object,customClasses:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.array,d.PropTypes.object]),common:d.PropTypes.object,data:d.PropTypes.object,i18n:d.PropTypes.object},t.default=C},8066:function(e,t,a){a.r(t);var i=a(6796),r=a(5720),n=a(7784),o=a(2635),c=a(1053);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var l=(0,n.React.forwardRef)((function(e,t){var a=e.customAttributes,l=void 0===a?{}:a,m=e.customClasses,d=void 0===m?[]:m,p=e.data,u=void 0===p?{}:p,v=e.showVersion,f=void 0===v||v,g=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({className:(0,n.classnames)({"gravitysmtp-activity-log-app__header":!0},d)},l),y=u.version;return n.React.createElement("div",(0,i.Z)({},g,{ref:t}),n.React.createElement("div",{className:"gravitysmtp-activity-log-app__header-main"},n.React.createElement("div",{className:"gravitysmtp-activity-log-app__header-logo"},n.React.createElement(o.Z,{height:22,width:220})),f&&n.React.createElement(c.Z,{type:"amethyst-smoke",size:"text-xxs",content:y})))}));l.propTypes={customAttributes:n.PropTypes.object,customClasses:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.array,n.PropTypes.object])},l.displayName="ActivityLogHeader",t.default=l},5239:function(e,t,a){a.r(t);var i=a(6796),r=a(5720),n=a(5210),o=a(7784),c=a(9118),s=a(8066),l=a(1480),m=a(6936),d=a(1256),p=a(7343),u=a(6192),v=a(1523),f=a(7024),g=a(141);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var _=o.React.forwardRef,w=o.React.useEffect,b=o.React.useState,h=function(e){var t=e.wrapperClasses,a=void 0===t?[]:t,i=e.dot,r=void 0===i||i,n=e.width,c=void 0===n?"62px":n,s={className:(0,o.classnames)(["gravitysmtp-view-email__placeholder-stripe"],a)};return o.React.createElement("div",s,r&&o.React.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-dot"}),o.React.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-line",style:{width:c}}))},E=_((function(e,t){var a,_,E=e.customAttributes,R=void 0===E?{}:E,O=e.customClasses,P=void 0===O?[]:O,j=e.common,C=void 0===j?{}:j,Z=e.data,N=void 0===Z?{}:Z,T=e.i18n,k=void 0===T?{}:T,x=(0,g.default)((function(e){return e.viewEmailDialogOpen})),D=(0,g.default)((function(e){return e.setViewEmailDialogOpen})),S=(0,g.default)((function(e){return e.viewEmailEventId})),A=(0,g.default)((function(e){return e.viewEmailEventIsHtml})),z=(0,g.default)((function(e){return e.viewEmailEventDate})),B=(0,g.default)((function(e){return e.viewEmailEventFromHash})),H=(0,g.default)((function(e){return e.viewEmailEventFrom})),I=(0,g.default)((function(e){return e.viewEmailEventTo})),L=(0,g.default)((function(e){return e.viewEmailEventTitle})),V=(0,g.default)((function(e){return e.setViewEmailEventProperties})),M=b(!1),F=(0,n.Z)(M,2),J=F[0],W=F[1],U=b("desktop"),q=(0,n.Z)(U,2),G=q[0],K=q[1],Q=(null==C||null===(a=C.endpoints)||void 0===a||null===(a=a.get_email_message)||void 0===a?void 0:a.action)||"",X=(null==C||null===(_=C.endpoints)||void 0===_||null===(_=_.get_email_message)||void 0===_?void 0:_.nonce)||"",Y="".concat(null==N?void 0:N.ajax_url,"?action=").concat(Q,"&security=").concat(X,"&event_id=").concat(S),$=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({className:(0,o.classnames)({"gravitysmtp-view-email":!0},P)},R),ee={className:(0,o.classnames)({"gravitysmtp-view-email__sidebar-container":!0,"gravitysmtp-view-email__sidebar-container--loading":J})},te={className:(0,o.classnames)((0,r.Z)({"gravitysmtp-view-email__container":!0,"gravitysmtp-view-email__container--html-mode":A},"gravitysmtp-view-email__container--".concat(G,"-mode"),!0))},ae=(null==k?void 0:k.log_detail)||{},ie=ae.main_box_from_label,re=ae.main_box_to_label,ne=ae.view_email_desktop_mode,oe=ae.view_email_mobile_mode;w((function(){x&&W(!0),K("desktop")}),[x]);var ce={closeButtonType:"simplified",onCloseAfterAnimation:function(){V({date:"",isHtml:!1,id:0,fromHash:"",from:"",to:"",title:""}),D(!1)},customWrapperClasses:["gravitysmtp-view-email__dialog"],customMaskClasses:["gravitysmtp-view-email__mask"],customCloseButtonLabelAttributes:{className:(0,o.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:"",isOpen:x,maskTheme:"light",mode:"modal",padContent:!1,position:"absolute",theme:"cosmos",version:2,zIndex:100001},se=[62,62,55,81,81,55],le={className:(0,o.classnames)({"gravitysmtp-view-email__header-details-meta":!0,"gravitysmtp-view-email__header-details-meta--loading":J})};return o.React.createElement("div",(0,i.Z)({},$,{ref:t}),o.React.createElement(l.Z,ce,o.React.createElement(c.Z,{customClasses:["gravitysmtp-view-email-layout"],Header:function(e){return o.React.createElement(s.default,(0,i.Z)({},e,{showVersion:!1}))},PrimarySideBarChildren:function(){return o.React.createElement("div",ee,se.map((function(e,t){return o.React.createElement(h,{key:"stripe-".concat(t,"-").concat(e),width:"".concat(e,"px")})})))},data:N,simplebarContent:!1},o.React.createElement("div",te,o.React.createElement("div",{className:"gravitysmtp-view-email__header"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-title-wrapper"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-title"},""!==L&&!J&&o.React.createElement(u.Z,{customClasses:["gravitysmtp-view-email__header-title-subject"],tagName:"h2",size:"text-xl",weight:"medium",content:L}),J&&o.React.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"35%"})),!J&&o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-actions"},o.React.createElement(p.Z,{icon:"desktop",iconPrefix:"gravitysmtp-admin-icon",label:ne,onClick:function(){return K("desktop")},size:"size-height-s",spacing:[0,3,0,0],type:"icon-white"}),o.React.createElement(p.Z,{icon:"mobile",iconPrefix:"gravitysmtp-admin-icon",label:oe,onClick:function(){return K("mobile")},size:"size-height-s",type:"icon-white"}))),o.React.createElement("div",{className:"gravitysmtp-view-email__header-details"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-left"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-image"},o.React.createElement(v.Z,{customClasses:["gravitysmtp-view-email__header-details-default"],icon:"account",iconPrefix:"gravitysmtp-admin-icon"}),""!==B&&o.React.createElement(m.Z,{customClasses:["gravitysmtp-view-email__header-details-gravatar"],emailHash:B,height:40,width:40,defaultImage:"blank"})),o.React.createElement("div",le,J&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-from gravitysmtp-view-email__header-details-from--has-loader"},o.React.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"75%"})),J&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},o.React.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"45%"})),!J&&""!==H&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-from"},o.React.createElement(f.Z,{tagName:"span",size:"text-sm",weight:"semibold",content:ie})," ",o.React.createElement(f.Z,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:H})),!J&&""!==I&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},o.React.createElement(f.Z,{weight:"semibold",tagName:"span",size:"text-sm",content:re})," ",o.React.createElement(f.Z,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:I})))),o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-right"},!J&&""!==z&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-date"},o.React.createElement(f.Z,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-xs",content:z}))))),o.React.createElement("div",{className:"gravitysmtp-view-email__wrapper"},J&&o.React.createElement(d.Z,{loaderCustomAttributes:{mask:!0,maskCustomClasses:["gravitysmtp-view-email__iframe-loader-mask"]}}),0!==S&&o.React.createElement("iframe",{className:"gravitysmtp-view-email__iframe",onLoad:function(){W(!1)},title:L,src:Y}))))))}));E.propTypes={customAttributes:o.PropTypes.object,customClasses:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.array,o.PropTypes.object]),common:o.PropTypes.object,data:o.PropTypes.object,i18n:o.PropTypes.object},t.default=E},1328:function(e,t,a){a.r(t);var i,r,n=a(6796),o=a(7784),c=a(3267),s=a.n(c),l=a(7301),m=o.ReactDOM.createRoot,d=(null===s()||void 0===s()?void 0:s().common)||{},p=(null===s()||void 0===s()||null===(i=s().components)||void 0===i?void 0:i.activity_log)||{},u=(null===s()||void 0===s()||null===(r=s().components)||void 0===r?void 0:r.setup_wizard)||{};t.default=function(e){var t;null!=u&&null!==(t=u.data)&&void 0!==t&&t.should_display&&document.body.classList.add("gravitysmtp-apps--hidden"),window.scrollTo(0,0),m(e).render(o.React.createElement(l.default,(0,n.Z)({},p,{common:d})))}}}]);