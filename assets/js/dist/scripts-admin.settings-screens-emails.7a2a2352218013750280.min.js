"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[7955],{3598:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var r,a,o,i,c=n(6796),s=n(5720),u=n(7784),l=n(375),d=n(9805),v=n(6192),p=n(7024),f=n(7066),g=n(2030),y=n(4237),m=n(3267),b=n.n(m),h=n(7131),k=(null===(r=(0,l.iE)(b(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.components)||{},_=(null==k||null===(a=k.activity_log)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.caps)||{},S=(null==k||null===(o=k.settings)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.caps)||{},w=(null==k||null===(i=k.tools)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.caps)||{};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,h.Z)(e);return _[t]||S[t]||w[t]||!1}var O,Z=n(9801),j=n(9509),x=n.n(j),A=n(9608),P=n.n(A),M=n(4070),T=n(2077),B=n(9208),C=(null===(O=(0,l.iE)(b(),"gravitysmtp_admin_config"))||void 0===O?void 0:O.common)||{},D=function(e){var t=e.addSnackbarMessage,n=e.key,r=e.saveSuccessSnackBarMessage,a=e.showSnackBarSuccess,o=e.updateData,i=e.value;o[n]&&(o[n]=i),a&&t(r,"success")},R=function(e){var t=e.addSnackbarMessage,n=(e.error,e.saveErrorSnackBarMessage);e.showSnackBarError&&t(n,"error")},N=function(){var e=(0,Z.Z)(x().mark((function e(t){var n,r,a,o,i,c,s,u,d,v,p,f,g,y,m,b,h,k,_,S,w,E,O,Z,j,A,N,z,I,G,J,L,H,U,V,W,$,q,F,K,Q,X,Y,ee,te;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.addSnackbarMessage,r=void 0===n?function(){}:n,a=t.errorCallback,o=void 0===a?null:a,i=t.key,c=void 0===i?"":i,s=t.showSnackBarError,u=void 0===s||s,d=t.showSnackBarSuccess,v=void 0!==d&&d,p=t.snackBarErrorMessage,f=void 0===p?"":p,g=t.snackBarSuccessMessage,y=void 0===g?"":g,m=t.successCallback,b=void 0===m?null:m,h=t.updateData,k=void 0===h?{}:h,_=t.useDebugLogger,S=void 0===_||_,w=t.value,E=void 0===w?"":w,O=C.i18n,j=(Z=void 0===O?{}:O).snackbar_generic_update_error,A=void 0===j?"":j,N=Z.snackbar_generic_update_success,z=void 0===N?"":N,I=Z.debug_messages,J=(G=void 0===I?{}:I).saving_plugin_settings,L=void 0===J?"":J,H=G.saving_plugin_settings_error,U=void 0===H?"":H,V=C.endpoints,W=(void 0===V?{}:V).save_plugin_settings,q=($=void 0===W?{}:W).action,F=void 0===q?"":q,K=$.nonce,Q=y||z,X=f||A,Y={action:F,security:void 0===K?"":K,key:c,value:E},!S){e.next=8;break}return e.next=8,(0,T.Z)((0,l.gB)(L,JSON.stringify((0,B.Z)(["security"],Y))),"info");case 8:return e.prev=8,e.next=11,(0,M.v_)({endpoint:P(),body:Y});case 11:null!=(te=e.sent)&&null!==(ee=te.data)&&void 0!==ee&&ee.success?(b||D)({addSnackbarMessage:r,data:null==te?void 0:te.data,key:c,saveSuccessSnackBarMessage:Q,showSnackBarSuccess:v,updateData:k,value:E}):(o||R)({addSnackbarMessage:r,error:null==te?void 0:te.error,saveErrorSnackBarMessage:X,showSnackBarError:u}),e.next=21;break;case 15:if(e.prev=15,e.t0=e.catch(8),!S){e.next=21;break}return e.next=21,(0,T.Z)((0,l.gB)(U,JSON.stringify(e.t0)),"error");case 21:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),z=N;function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return G(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var L=(0,u.React.forwardRef)((function(e,t){var n=e.customAttributes,r=void 0===n?{}:n,a=e.customClasses,o=void 0===a?[]:a,i=e.data,m=void 0===i?{}:i,b=e.i18n,h=void 0===b?{}:b,k=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,u.classnames)({"gravitysmtp-settings-app__emails":!0},o)},r),_=m.managed_email_types,S=void 0===_?[]:_,w=(null==h?void 0:h.emails)||{},O=w.top_heading,Z=w.top_content,j=w.email_notifications_box_heading,x=(0,y.Ds)();return u.React.createElement("div",(0,c.Z)({},k,{ref:t}),u.React.createElement(v.Z,{size:"display-sm",weight:"semibold",spacing:1,content:O}),u.React.createElement(p.Z,{size:"text-sm",spacing:6,color:"comet",content:Z}),u.React.createElement(g.Z,{HeaderContent:function(e){return u.React.createElement(v.Z,(0,c.Z)({content:j,size:"text-lg",weight:"medium"},e))}},S.map((function(e,t){return u.React.createElement(d.Z,{key:"".concat((0,l.lV)(e.category),"-").concat(t),x:630},u.React.createElement(v.Z,{size:"text-sm",weight:"medium",type:"boxed",spacing:4,content:e.category}),e.items.map((function(n,r){var a=4;return r===e.items.length-1&&(a=t===S.length-1?1:6),u.React.createElement(f.Z,{key:"".concat(n.key,"-").concat(r),id:"toggle-".concat(n.key),customAttributes:{"data-test-id":n.key},disabled:!E("CAPS_EDIT_EMAIL_MANAGEMENT_SETTINGS"),initialChecked:n.value,labelAttributes:{label:n.label},helpTextAttributes:{content:n.description,spacing:[3,0,0,0]},helpTextWidth:"full",labelPosition:"left",name:n.key,onChange:function(e){z({addSnackbarMessage:x,key:n.key,successCallback:function(){!function(e,t,n){var r,a=I(n);try{for(a.s();!(r=a.n()).done;){var o,i=I(r.value.items);try{for(i.s();!(o=i.n()).done;){var c=o.value;if(c.key===e)return c.value=t,n}}catch(e){i.e(e)}finally{i.f()}}}catch(e){a.e(e)}finally{a.f()}}(n.key,e,S)},value:e})},spacing:a,size:"size-m",width:"full"})})))}))))}));L.propTypes={customAttributes:u.PropTypes.object,customClasses:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.array,u.PropTypes.object]),data:u.PropTypes.object,i18n:u.PropTypes.object},L.displayName="EmailsScreen";var H=L},2077:function(e,t,n){n.d(t,{Z:function(){return p}});var r,a=n(9801),o=n(9509),i=n.n(o),c=n(9608),s=n.n(c),u=n(3267),l=n.n(u),d=n(4070),v=(null===(r=(0,n(375).iE)(l(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{};function p(){return f.apply(this,arguments)}function f(){return f=(0,a.Z)(i().mark((function e(){var t,n,r,a,o,c,u,l,p,f,g=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g.length>0&&void 0!==g[0]?g[0]:"",a=g.length>1&&void 0!==g[1]?g[1]:"debug",o=v.data,c=void 0===o?{}:o,u=v.endpoints,p=(null==(l=void 0===u?{}:u)||null===(t=l.log_debug_item)||void 0===t?void 0:t.action)||"",f=(null==l||null===(n=l.log_debug_item)||void 0===n?void 0:n.nonce)||"",null!=c&&c.debug_log_enabled&&p&&f&&r){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,(0,d.v_)({endpoint:s(),body:{action:p,security:f,message:r,priority:a}}).catch((function(e){}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}},7131:function(e,t,n){n.d(t,{Z:function(){return u}});var r,a,o=n(3267),i=n.n(o),c=(null===(r=(0,n(375).iE)(i(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{},s=(null==c||null===(a=c.data)||void 0===a?void 0:a.constants)||{};function u(){return s[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]||""}},9208:function(e,t,n){var r=n(6588),a=n(5210);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return function n(o){return Object.entries(o).reduce((function(o,i){var c=(0,a.Z)(i,2),s=c[0],u=c[1];return"object"===(0,r.Z)(u)&&null!==u?o[s]=n(u):e.includes(s)?o[s]=null===u?null:t.repeat(u.length):o[s]=u,o}),Array.isArray(o)?[]:{})}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}}]);