"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[2802,4587],{9997:function(e,t,n){n.r(t);var i=n(6796),o=n(9801),r=n(5720),a=n(9509),l=n.n(a),c=n(9608),g=n.n(c),s=n(7784),u=n(4070),d=n(583),_=n(9805),m=n(7343),f=n(6192),p=n(6901),v=n(7511),b=n(7024),h=n(7066),y=n(8887),O=n(2030),D=n(4237),x=n(2077),Z=n(9208),w=n(7866);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var E=(0,s.React.forwardRef)((function(e,t){var n,a,c=e.customAttributes,E=void 0===c?{}:c,S=e.customClasses,I=void 0===S?[]:S,R=e.common,k=void 0===R?{}:R,P=e.data,A=void 0===P?{}:P,T=e.i18n,j=void 0===T?{}:T,z=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,s.classnames)({"gravitysmtp-settings-app__logging":!0},I)},E),N=(null==j?void 0:j.logging)||{},B=N.top_heading,F=N.top_content,J=N.logging_box_heading,L=N.enable_log_heading,M=N.enable_log_label,H=N.email_log_retention_label,V=N.email_log_retention_helper_text,U=N.error_saving_snackbar_message,W=N.debug_logging_box_heading,q=N.enable_debug_log_label,G=N.enable_debug_log_helper_text,K=N.debug_log_retention_label,Q=N.debug_log_retention_helper_text,X=N.view_debug_log_button_text,Y=N.delete_debug_log_button_text,$=N.delete_debug_log_dialog_confirm_change_heading,ee=N.delete_debug_log_dialog_confirm_change_content,te=N.delete_debug_log_dialog_confirm_change_confirm,ne=N.snackbar_debug_log_delete_error,ie=N.snackbar_debug_log_delete_success,oe=(null==A?void 0:A.email_log_settings)||{},re=oe.email_log_enabled,ae=oe.email_log_retention,le=oe.retention_options,ce=(null==A?void 0:A.debug_log_settings)||{},ge=ce.debug_log_enabled,se=ce.debug_log_retention,ue=ce.debug_log_url,de=ce.retention_options,_e=k||{},me=_e.i18n,fe=void 0===me?{}:me,pe=fe.debug_messages,ve=void 0===pe?{}:pe,be=ve.deleting_all_debug_logs,he=void 0===be?"":be,ye=ve.deleting_all_debug_logs_error,Oe=void 0===ye?"":ye,De=ve.saving_plugin_settings,xe=void 0===De?"":De,Ze=ve.saving_plugin_settings_error,we=void 0===Ze?"":Ze,Ce=fe.snackbar_generic_update_success,Ee=void 0===Ce?"":Ce,Se=_e.endpoints,Ie=(void 0===Se?{}:Se).delete_debug_logs,Re=void 0===Ie?{}:Ie,ke=Re.action,Pe=void 0===ke?"":ke,Ae=Re.nonce,Te=void 0===Ae?"":Ae,je=(null==A?void 0:A.caps)||{},ze=(null==k||null===(n=k.endpoints)||void 0===n||null===(n=n.save_plugin_settings)||void 0===n?void 0:n.action)||"",Ne=(null==k||null===(a=k.endpoints)||void 0===a||null===(a=a.save_plugin_settings)||void 0===a?void 0:a.nonce)||"",Be=((null==k?void 0:k.i18n)||{}).test_mode_warning_notice,Fe=(0,w.default)((function(e){return e.testMode})),Je=(0,w.default)((function(e){return e.setConfirmDialogSettings})),Le=(0,w.default)((function(e){return e.setConfirmDialogOpen})),Me=(0,D.Ds)(),He=function(){var e=(0,o.Z)(l().mark((function e(){var t,n,i,o,r,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={action:ze,security:Ne,key:t=a.length>0&&void 0!==a[0]?a[0]:"",value:n=a.length>1&&void 0!==a[1]?a[1]:""},e.next=5,(0,x.Z)((0,d.gB)(xe,JSON.stringify((0,Z.Z)(["security"],i))),"info");case 5:return e.prev=5,e.next=8,(0,u.v_)({endpoint:g(),body:i});case 8:null!=(r=e.sent)&&null!==(o=r.data)&&void 0!==o&&o.success?(A.email_log_settings[t]=n,["event_log_retention","debug_log_retention"].includes(t)&&Me(Ee,"success")):Me(U,"error"),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=17,(0,x.Z)((0,d.gB)(we,JSON.stringify(e.t0)),"error");case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=(0,o.Z)(l().mark((function e(){var t,n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={action:Pe,security:Te,all_logs:"1"},e.next=3,(0,x.Z)((0,d.gB)(he,JSON.stringify((0,Z.Z)(["security"],t))),"info");case 3:return e.prev=3,e.next=6,(0,u.v_)({endpoint:g(),body:t});case 6:null!=(i=e.sent)&&null!==(n=i.data)&&void 0!==n&&n.success?Me(ie,"success"):Me(ne,"error"),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),Me(ne,"error"),e.next=15,(0,x.Z)((0,d.gB)(Oe,JSON.stringify(e.t0)),"error");case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return s.React.createElement("div",(0,i.Z)({},z,{ref:t}),s.React.createElement(f.Z,{size:"display-sm",weight:"semibold",spacing:1,content:B}),s.React.createElement(b.Z,{size:"text-sm",spacing:6,color:"comet",content:F}),Fe&&s.React.createElement(y.Z,{customIconPrefix:"gravitysmtp-admin-icon",spacing:[6,0,6,0],type:"notice"},Be),je.gravitysmtp_view_email_log_settings&&s.React.createElement(s.React.Fragment,null,s.React.createElement(O.Z,{HeaderContent:function(e){return s.React.createElement(f.Z,(0,i.Z)({content:J,tagName:"h2",size:"text-lg",weight:"medium"},e))},spacing:6},s.React.createElement(_.Z,{customClasses:["gravitysmtp-logging-settings__box-container"],x:630},s.React.createElement(f.Z,{size:"text-sm",weight:"semibold",spacing:4,tagName:"h4",content:L}),s.React.createElement(h.Z,{initialChecked:re,labelAttributes:{label:M,weight:"regular"},onChange:function(e){He("event_log_enabled",e)},labelPosition:"left",name:"event_log_enabled",spacing:6,size:"size-m",width:"full",disabled:!je.gravitysmtp_edit_email_log_settings}),s.React.createElement(v.Z,{initialValue:ae,labelAttributes:{label:H},helpTextAttributes:{content:V},name:"event_log_retention",onChange:function(e){He("event_log_retention",e)},options:le,disabled:!je.gravitysmtp_edit_email_log_settings}))),s.React.createElement(O.Z,{HeaderContent:function(e){return s.React.createElement(f.Z,(0,i.Z)({content:W,tagName:"h2",size:"text-lg",weight:"medium"},e))}},s.React.createElement(_.Z,{customClasses:["gravitysmtp-logging-settings__box-container"],x:630},s.React.createElement(h.Z,{initialChecked:ge,labelAttributes:{label:q},helpTextAttributes:{content:G,size:"text-sm",spacing:[4,0,0]},onChange:function(e){He("debug_log_enabled",e),A.debug_log_settings.debug_log_enabled=e,k.data.debug_log_enabled=e},helpTextWidth:"full",labelPosition:"left",name:"debug_log_enabled",spacing:6,size:"size-m",width:"full",disabled:!je.gravitysmtp_edit_email_log_settings}),s.React.createElement(v.Z,{initialValue:se,labelAttributes:{label:K},helpTextAttributes:{content:Q},name:"debug_log_retention",onChange:function(e){He("debug_log_retention",e)},options:de,disabled:!je.gravitysmtp_edit_email_log_settings,spacing:6}),s.React.createElement(_.Z,{display:"flex",customClasses:["gravitysmtp-logging-settings__debug-log-buttons"]},s.React.createElement(p.Z,{content:X,customClasses:["gform-button","gform-button--size-height-m","gform-button--white","gform-button--width-auto","gform-button--icon-leading","gform-typography--size-text-sm","gform-typography--weight-medium"],href:ue}),s.React.createElement(m.Z,{label:Y,onClick:(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Je({confirmDialogConfirmButtonType:"amaranth-red",confirmDialogI18n:{confirm_change_confirm:te,confirm_change_content:ee,confirm_change_heading:$},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return Le(!1)},confirmDialogOnConfirm:function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Le(!1),e.next=3,Ve();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),icon:"trash",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",size:"size-height-m",type:"amaranth-red"}))))))}));E.propTypes={customAttributes:s.PropTypes.object,customClasses:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.array,s.PropTypes.object])},E.displayName="LoggingScreen",t.default=E},7866:function(e,t,n){n.r(t);var i,o,r,a,l,c,g,s=n(3267),u=n.n(s),d=n(7784),_=n(760),m=n(583),f=(null===(i=(0,m.iE)(u(),"gravitysmtp_admin_config"))||void 0===i||null===(i=i.components)||void 0===i?void 0:i.settings)||{},p={activeIntegration:(g=null==f||null===(c=f.data)||void 0===c||null===(c=c.integrations)||void 0===c?void 0:c.find((function(e){var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.enabled})),(null==g?void 0:g.id)||""),activeIntegrationSettings:"",activatingIntegration:"",changeIntegrationDialogOpen:!1,confirmDialogI18n:{},confirmDialogOnCancel:function(){},confirmDialogOnConfirm:function(){},confirmDialogOpen:!1,confirmDialogConfirmButtonType:"primary-new",integrations:(null==f||null===(o=f.data)||void 0===o?void 0:o.integrations)||[],integrationSettingsDialogOpen:!1,integrationSettingsFormData:(l={},null==f||null===(a=f.data)||void 0===a||null===(a=a.integrations)||void 0===a||a.forEach((function(e){l[e.id]=(null==e?void 0:e.data)||{}})),l),pageLoaderActive:!1,testMode:(null===(r=(0,m.iE)(u(),"gravitysmtp_admin_config"))||void 0===r||null===(r=r.common)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.test_mode)||!1},v=(0,_.Ue)(p,(function(e){return{setActiveIntegration:function(t){return e((function(){return{activeIntegration:t}}))},setActiveIntegrationSettings:function(t){return e((function(){return{activeIntegrationSettings:t}}))},setActivatingIntegration:function(t){return e((function(){return{activatingIntegration:t}}))},setChangeIntegrationDialogOpen:function(t){return e((function(){return{changeIntegrationDialogOpen:t}}))},setConfirmDialogOpen:function(t){return e((function(){return{confirmDialogOpen:t}}))},setConfirmDialogSettings:function(t){var n=t.confirmDialogI18n,i=void 0===n?{}:n,o=t.confirmDialogOpen,r=void 0!==o&&o,a=t.confirmDialogOnCancel,l=void 0===a?function(){}:a,c=t.confirmDialogOnConfirm,g=void 0===c?function(){}:c,s=t.confirmDialogConfirmButtonType,u=void 0===s?"primary-new":s;e((function(){return{confirmDialogConfirmButtonType:u,confirmDialogI18n:i,confirmDialogOpen:r,confirmDialogOnCancel:l,confirmDialogOnConfirm:g}}))},setIntegrationSettingsDialogOpen:function(t){return e((function(){return{integrationSettingsDialogOpen:t}}))},setPageLoaderActive:function(t){return e((function(){return{pageLoaderActive:t}}))},setIntegrationSettingsFormData:function(t,n,i){return e((0,d.immer)((function(e){e.integrationSettingsFormData[t]||(e.integrationSettingsFormData[t]={}),e.integrationSettingsFormData[t][n]=i})))},setTestMode:function(t){return e((function(){return{testMode:t}}))},updateIntegrationSettings:function(t,n){return e((function(){return{activeIntegrationSettings:t,integrationSettingsDialogOpen:n}}))},updateIntegrationStatus:function(t,n){var i=n.activated,o=n.configured,r=n.enabled;return e((0,d.immer)((function(e){var n=e.integrations.find((function(e){return e.id===t}));n&&(n.data||(n.data={}),void 0!==i&&(n.data.activated=i),void 0!==o&&(n.data.configured=o),void 0!==r&&(n.data.enabled=r))})))}}}));t.default=v},2077:function(e,t,n){n.d(t,{Z:function(){return _}});var i,o=n(9801),r=n(9509),a=n.n(r),l=n(9608),c=n.n(l),g=n(3267),s=n.n(g),u=n(4070),d=(null===(i=(0,n(583).iE)(s(),"gravitysmtp_admin_config"))||void 0===i?void 0:i.common)||{};function _(){return m.apply(this,arguments)}function m(){return m=(0,o.Z)(a().mark((function e(){var t,n,i,o,r,l,g,s,_,m,f=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=f.length>0&&void 0!==f[0]?f[0]:"",o=f.length>1&&void 0!==f[1]?f[1]:"debug",r=d.data,l=void 0===r?{}:r,g=d.endpoints,_=(null==(s=void 0===g?{}:g)||null===(t=s.log_debug_item)||void 0===t?void 0:t.action)||"",m=(null==s||null===(n=s.log_debug_item)||void 0===n?void 0:n.nonce)||"",null!=l&&l.debug_log_enabled&&_&&m&&i){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,(0,u.v_)({endpoint:c(),body:{action:_,security:m,message:i,priority:o}}).catch((function(e){}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}},9208:function(e,t,n){var i=n(6588),o=n(5210);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return function n(r){return Object.entries(r).reduce((function(r,a){var l=(0,o.Z)(a,2),c=l[0],g=l[1];return"object"===(0,i.Z)(g)&&null!==g?r[c]=n(g):e.includes(c)?r[c]=null===g?null:t.repeat(g.length):r[c]=g,r}),Array.isArray(r)?[]:{})}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}}]);