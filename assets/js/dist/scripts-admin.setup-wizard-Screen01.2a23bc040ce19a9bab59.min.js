"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[6921,6018,9529],{51057:function(e,t,n){n.r(t);var r=n(79801),i=n(15720),a=n(15210),u=n(89509),c=n.n(u),o=n(49608),s=n.n(o),l=n(27784),d=n(77424),p=n(84070),f=n(39805),v=n(7343),g=n(76192),_=n(6493),m=n(47024),y=n(74237),b=n(65212),h=n(91047),w=n(375),S=n(36901),Z=n(67066),k=n(62077),x=n(9208),O=n(50036);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=l.React.useEffect,N=l.React.useRef,R=l.React.useState;t.default=function(e){var t,n,u,o,z=e.common,A=e.data,B=e.endpoints,j=e.i18n,D=(0,h.default)((function(e){return e.activeStep})),F=(0,h.default)((function(e){return e.isAnimatedIn})),C=(0,h.default)((function(e){return e.isOpen})),L=(0,h.default)((function(e){return e.setActiveStep})),J=(0,h.default)((function(e){return e.setActiveNavBarStepNext})),M=(0,h.default)((function(e){return e.setShouldRedirect})),I=(0,h.default)((function(e){return e.setHasDebugError})),T=j.debug_messages,G=void 0===T?{}:T,U=G.checking_license_key,H=G.checking_license_key_error,W=G.saving_should_display_error,q=G.saving_license_key_error,K=G.updating_usage_analytics_error,V=G.saving_license_key,Q=G.setting_should_display_false,X=G.starting_subsequent_run,Y=G.updating_usage_analytics,$=j.setup_wizard_welcome_title,ee=j.setup_wizard_welcome_copy,te=(j.setup_wizard_welcome_list_01,j.setup_wizard_welcome_list_02,j.setup_wizard_welcome_list_03,j.setup_wizard_welcome_list_04,j.setup_wizard_get_started),ne=j.setup_wizard_verify_license,re=j.setup_wizard_checking_license,ie=j.setup_wizard_license_input_label,ae=j.setup_wizard_license_input_placeholder,ue=A.license_key_is_valid,ce=A.should_display,oe=(null==z?void 0:z.i18n)||{},se=oe.general_settings_usage_analytics_label,le=oe.general_settings_usage_analytics_help_text,de=(null==z?void 0:z.data)||{},pe=de.param_keys,fe=de.usage_analytics_enabled,ve=de.usage_analytics_link,ge=(0,y.Ds)(),_e=ce&&ue&&(null==A?void 0:A.license_key)||"",me=R(!1),ye=(0,a.Z)(me,2),be=ye[0],he=ye[1],we=R(_e),Se=(0,a.Z)(we,2),Ze=Se[0],ke=Se[1],xe=R(!1),Oe=(0,a.Z)(xe,2),ze=Oe[0],Pe=Oe[1],Ee=(0,d.aM)(fe),Ne=(0,a.Z)(Ee,2),Re=Ne[0],Ae=Ne[1],Be=(null==B||null===(t=B.save_plugin_settings)||void 0===t?void 0:t.action)||"",je=(null==B||null===(n=B.save_plugin_settings)||void 0===n?void 0:n.nonce)||"",De=(null==B||null===(u=B.check_license)||void 0===u?void 0:u.action)||"",Fe=(null==B||null===(o=B.check_license)||void 0===o?void 0:o.nonce)||"",Ce=N();E((function(){1===D&&Ce.current&&Ce.current.focus()}),[D]),E((function(){var e=function(e){var t;(null===(t=e.detail)||void 0===t?void 0:t.key)===pe.usage_analytics&&Ae(e.detail.value)};return document.addEventListener("gravitysmtp/setting-updated",e),function(){document.removeEventListener("gravitysmtp/setting-updated",e)}})),E((function(){C&&1===D&&!ce&&(0,k.Z)((0,w.gB)(X,JSON.stringify({licenseKeyIsValid:ue,nextStep:2,activeStep:D,currentStep:1})),"info")}),[C]);var Le={ref:(0,d.P5)(1===D&&F),className:(0,l.classnames)((0,i.Z)({"gravitysmtp-setup-wizard__screen":!0},"gravitysmtp-setup-wizard__screen--step-".concat(1),!0)),"aria-hidden":1!==D,"data-test-id":"setup-wizard-screen-01"},Je=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n={action:Be,security:je,key:"setup_wizard_should_display",value:!1},e.next=6,(0,k.Z)((0,w.gB)(Q,JSON.stringify((0,x.Z)(["security"],n))),"info");case 6:return e.next=8,(0,p.v_)({endpoint:s(),body:n});case 8:if(null!=(r=e.sent)&&null!==(t=r.data)&&void 0!==t&&t.success){e.next=14;break}return e.next=13,(0,k.Z)((0,w.gB)(W,JSON.stringify(null==r?void 0:r.error)),"error");case 13:I(!0);case 14:e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(2),e.next=21,(0,k.Z)((0,w.gB)(W,JSON.stringify(e.t0)),"error");case 21:I(!0);case 22:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={action:Be,security:je,key:"license_key",value:Ze.trim()},e.next=4,(0,k.Z)((0,w.gB)(V,JSON.stringify((0,x.Z)(["security","license_key"],n))),"info");case 4:return e.next=6,(0,p.v_)({endpoint:s(),body:n});case 6:if(null!=(r=e.sent)&&null!==(t=r.data)&&void 0!==t&&t.success){e.next=12;break}return e.next=11,(0,k.Z)((0,w.gB)(q,JSON.stringify(null==r?void 0:r.error)),"error");case 11:I(!0);case 12:e.next=20;break;case 14:return e.prev=14,e.t0=e.catch(0),e.next=19,(0,k.Z)((0,w.gB)(q,JSON.stringify(e.t0)),"error");case 19:I(!0);case 20:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={action:Be,security:je,key:pe.usage_analytics,value:t?"true":"false"},e.next=4,(0,k.Z)((0,w.gB)(Y,JSON.stringify((0,x.Z)(["security"],r))),"info");case 4:return e.next=6,(0,p.v_)({endpoint:s(),body:r});case 6:if(null!=(i=e.sent)&&null!==(n=i.data)&&void 0!==n&&n.success){e.next=14;break}return e.next=11,(0,k.Z)((0,w.gB)(K,JSON.stringify(null==i?void 0:i.error)),"error");case 11:I(!0),e.next=16;break;case 14:z.data.usage_analytics_enabled=t,Ae(t);case 16:e.next=24;break;case 18:return e.prev=18,e.t0=e.catch(0),e.next=23,(0,k.Z)((0,w.gB)(K,JSON.stringify(e.t0)),"error");case 23:I(!0);case 24:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}(),Te={initialChecked:fe,externalChecked:Re,externalControl:!0,labelAttributes:P({label:se},(0,O.Z)(pe.usage_analytics)),helpTextAttributes:{content:l.React.createElement(d.ji,{closingSymbol:"}}",openingSymbol:"{{",text:le,tokens:[{component:S.Z,key:"learn_link",props:{href:ve,size:"text-xs",target:"_blank"}}]})},helpTextWidth:"full",labelPosition:"left",id:"usage_analytics_wizard",name:pe.usage_analytics,onChange:Ie,size:"size-m",width:"full"},Ge=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={action:De,security:Fe,license_key:Ze.trim()},e.next=4,(0,k.Z)((0,w.gB)(U,JSON.stringify((0,x.Z)(["security","license_key"],n))),"info");case 4:return e.next=6,(0,p.v_)({endpoint:s(),body:n});case 6:if(r=e.sent,he(!1),null!=r&&null!==(t=r.data)&&void 0!==t&&t.success){e.next=16;break}return i=(0,w.sO)(r.error.detail.data)?JSON.parse(r.error.detail.data):"",e.next=12,(0,k.Z)((0,w.gB)(H,JSON.stringify(null==r?void 0:r.error)),"error");case 12:I(!0),ge(i.data,"error"),e.next=20;break;case 16:Pe(!0),Je().then((function(){Me()})),M(!1),setTimeout((function(){L(2),J(),setTimeout((function(){Pe(!1)}),300)}),1e3);case 20:e.next=28;break;case 22:return e.prev=22,e.t0=e.catch(0),e.next=27,(0,k.Z)((0,w.gB)(H,JSON.stringify(e.t0)),"error");case 27:I(!0);case 28:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}();return l.React.createElement("div",Le,l.React.createElement("div",{className:"gravitysmtp-setup-wizard__screen-inner"},l.React.createElement(l.SimpleBar,{scrollableNodeProps:{ref:Ce}},l.React.createElement("div",{className:"gravitysmtp-setup-wizard__content"},l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__inner-content"],x:368},l.React.createElement(d.Uo,{delay:200,transitionDuration:800},l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__logo-container"],spacing:12},l.React.createElement(b.GravitySMTPFullLogo,null)),l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__heading-container"]},l.React.createElement(g.Z,{content:$,size:"display-lg",spacing:6,tagName:"h2",weight:"semibold"})),l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__body-container"]},l.React.createElement(m.Z,{content:ee,spacing:8})),l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__footer-container"],spacing:8},ue?l.React.createElement(v.Z,{customClasses:["gravitysmtp-setup-wizard__get-started-button"],customAttributes:{"data-test-id":"setup-wizard-screen-01-license-verified-button"},size:"size-height-xl",icon:"check-circle",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",label:te,type:"primary-new",width:"full",onClick:function(){ce&&Je().then((function(){Me()})),M(!1),L(2),J()}}):l.React.createElement(l.React.Fragment,null,l.React.createElement(_.Z,{customAttributes:{disabled:be,"data-test-id":"setup-wizard-screen-01-license-input"},customClasses:["gravitysmtp-setup-wizard__license-input"],id:"gravitysmtp-setup-wizard__license-input",labelAttributes:{label:ie},onChange:ke,placeholder:ae,size:"size-xl",spacing:5,textSecurity:"disc",value:Ze}),l.React.createElement(v.Z,{customClasses:["gravitysmtp-setup-wizard__get-started-button"],customAttributes:{"data-test-id":"setup-wizard-screen-01-verify-license-button"},size:"size-height-xl",icon:"check-circle",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",label:ne,active:be,activeType:"loader",disabled:be||ze,activeText:re,type:ze?"apple-green":"primary-new",width:"full",onClick:(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return he(!0),e.next=3,Ge();case 3:case"end":return e.stop()}}),e)})))}))),l.React.createElement(f.Z,null,l.React.createElement(Z.Z,Te))))))))}},65212:function(e,t,n){n.r(t),n.d(t,{AmazonAWSFullLogo:function(){return r.Z},BrevoFullLogo:function(){return i.Z},CustomSMTPFullLogo:function(){return a.Z},GoogleAltLogo:function(){return u.Z},GoogleFullLogo:function(){return c.Z},GravityFormsStackedLogo:function(){return o.Z},GravitySMTPFullLogo:function(){return s.Z},MailFailedBg:function(){return l.Z},MailSuccessBg:function(){return p.Z},MailgunFullLogo:function(){return d.Z},MicrosoftAltLogo:function(){return f.Z},MicrosoftFullLogo:function(){return v.Z},PHPFullLogo:function(){return g.Z},PostmarkFullLogo:function(){return _.Z},SendGridFullLogo:function(){return m.Z},WPMailSMTPFullLogo:function(){return y.Z}});var r=n(53986),i=n(41345),a=n(61219),u=n(94270),c=n(14077),o=n(33811),s=n(52635),l=n(99228),d=n(41285),p=n(71917),f=n(70962),v=n(47571),g=n(36516),_=n(73989),m=n(11215),y=n(17478)},91047:function(e,t,n){n.r(t);var r,i,a,u,c,o=n(15720),s=n(27784),l=n(77424),d=n(375),p=n(63267),f=n.n(p);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _,m,y=(null===(r=(0,d.iE)(f(),"gravitysmtp_admin_config"))||void 0===r||null===(r=r.components)||void 0===r?void 0:r.setup_wizard)||{},b=(null===(a=((null==y||null===(i=y.data)||void 0===i?void 0:i.import_data)||[]).filter((function(e){return e.activated&&e.initialChecked}))[0])||void 0===a?void 0:a.id)||"",h="",w=g(g({hasDebugError:!1,isAnimatedIn:!1,integrationSetupAction:"skip",setupStatus:"skipped",settingsUpdated:!1,shouldRedirect:(null==y||null===(u=y.data)||void 0===u?void 0:u.should_display)||!1,integrationSettingsFormData:(m={},null==y||null===(_=y.data)||void 0===_||null===(_=_.integrations)||void 0===_||_.forEach((function(e){var t;m[e.id]=(null==e?void 0:e.data)||{},null!==(t=m[e.id])&&void 0!==t&&t.enabled&&(h=e.id)})),m)},(null===(c=(0,d.iE)(f(),"gravitysmtp_admin_config"))||void 0===c||null===(c=c.components)||void 0===c||null===(c=c.setup_wizard)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.defaults)||{}),{},{integration:h,importPlugin:b}),S=(0,l.Ue)(w,(function(e){return{closeDialog:function(){return e((function(){return{isOpen:!1}}))},openDialog:function(){return e((function(){return{isOpen:!0}}))},setActiveStepNext:function(){return e((function(e){return{activeStep:e.activeStep+1}}))},setActiveStepPrevious:function(){return e((function(e){return{activeStep:e.activeStep-1}}))},setActiveStep:function(t){return e((function(){return{activeStep:t}}))},setActiveNavBarStepNext:function(){return e((function(e){return{activeNavBarStep:e.activeNavBarStep+1}}))},setActiveNavBarStepPrevious:function(){return e((function(e){return{activeNavBarStep:e.activeNavBarStep-1}}))},setActiveNavBarStep:function(t){return e((function(){return{activeNavBarStep:t}}))},setHasDebugError:function(t){return e((function(){return{hasDebugError:t}}))},setImportPlugin:function(t){return e((function(){return{importPlugin:t}}))},setIntegration:function(t){return e((function(){return{integration:t}}))},setIsAnimatedIn:function(t){return e((function(){return{isAnimatedIn:t}}))},setIntegrationSetupAction:function(t){return e((function(){return{integrationSetupAction:t}}))},setSetupStatus:function(t){return e((function(){return{setupStatus:t}}))},setSettingsUpdated:function(){return e((function(){return{settingsUpdated:!0}}))},setShouldRedirect:function(t){return e((function(){return{shouldRedirect:t}}))},setInnerDialogOpen:function(t){return e((function(){return{innerDialogOpen:t}}))},setIntegrationSettingsFormData:function(t,n,r){return e((0,s.immer)((function(e){e.integrationSettingsFormData[t]||(e.integrationSettingsFormData[t]={}),e.integrationSettingsFormData[t][n]=r})))}}}));t.default=S},62077:function(e,t,n){n.d(t,{Z:function(){return f}});var r,i=n(79801),a=n(89509),u=n.n(a),c=n(49608),o=n.n(c),s=n(63267),l=n.n(s),d=n(84070),p=(null===(r=(0,n(375).iE)(l(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{};function f(){return v.apply(this,arguments)}function v(){return v=(0,i.Z)(u().mark((function e(){var t,n,r,i,a,c,s,l,f,v,g=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g.length>0&&void 0!==g[0]?g[0]:"",i=g.length>1&&void 0!==g[1]?g[1]:"debug",a=p.data,c=void 0===a?{}:a,s=p.endpoints,f=(null==(l=void 0===s?{}:s)||null===(t=l.log_debug_item)||void 0===t?void 0:t.action)||"",v=(null==l||null===(n=l.log_debug_item)||void 0===n?void 0:n.nonce)||"",null!=c&&c.debug_log_enabled&&f&&v&&r){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,(0,d.v_)({endpoint:o(),body:{action:f,security:v,message:r,priority:i}}).catch((function(e){}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}},9208:function(e,t,n){var r=n(56588),i=n(15210);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return function n(a){return Object.entries(a).reduce((function(a,u){var c=(0,i.Z)(u,2),o=c[0],s=c[1];return"object"===(0,r.Z)(s)&&null!==s?a[o]=n(s):e.includes(o)?a[o]=null===s?null:t.repeat(s.length):a[o]=s,a}),Array.isArray(a)?[]:{})}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}},50036:function(e,t,n){var r,i=n(63267),a=n.n(i),u=(null===(r=(0,n(375).iE)(a(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{};t.Z=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{iconPrefix:"gravitysmtp-admin-icon",locked:(null==u||null===(e=u.data)||void 0===e||null===(e=e.locked_settings)||void 0===e?void 0:e.includes(n))||r,lockedMessage:i||(null==u||null===(t=u.i18n)||void 0===t?void 0:t.setting_locked)||""}}}}]);