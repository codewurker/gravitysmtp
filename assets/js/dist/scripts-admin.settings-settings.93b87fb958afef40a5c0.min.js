"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[4678,5685,2940,642],{4085:function(e,t,n){n.r(t);var r=n(6796),a=n(5720),i=n(7784),o=n(8288),s=n(9805),c=n(8631),l=n(7866);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var g=(0,i.React.forwardRef)((function(e,t){var n=e.customAttributes,g=void 0===n?{}:n,d=e.customClasses,p=void 0===d?[]:d,m=e.common,v=void 0===m?{}:m,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,i.classnames)({"gravitysmtp-settings-app__header":!0},p)},g),_=v.i18n,b=void 0===_?{}:_,y=b.debug_log_enabled,h=void 0===y?"":y,O=b.test_mode_enabled,x=void 0===O?"":O,w=(0,l.default)((function(e){return e.debugLogEnabled})),E=(0,l.default)((function(e){return e.testModeEnabled}));return i.React.createElement("div",(0,r.Z)({},f,{ref:t}),i.React.createElement("div",{className:"gravitysmtp-settings-app__header-logo"},i.React.createElement(o.GravitySMTPLogo,null)),i.React.createElement("div",{className:"gravitysmtp-settings-app__header-main"},i.React.createElement(o.GravitySMTPTextLogo,null),i.React.createElement(s.Z,{customClasses:["gravitysmtp-header__status"],setDisplay:!1},w&&i.React.createElement(c.Z,{status:"warning",size:"sm",spacing:[0,E?4:0,0,0],label:h,isStatic:!0}),E&&i.React.createElement(c.Z,{status:"blue",size:"sm",label:x,isStatic:!0}))))}));g.propTypes={customAttributes:i.PropTypes.object,customClasses:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.array,i.PropTypes.object])},g.displayName="SettingsHeader",t.default=g},3643:function(e,t,n){n.r(t);var r=n(6796),a=n(9801),i=n(5210),o=n(5720),s=n(9509),c=n.n(s),l=n(9608),u=n.n(l),g=n(7784),d=n(4070),p=n(375),m=n(8777),v=n(9805),f=n(7343),_=n(1480),b=n(4237),y=n(8957),h=n(7003),O=n(2077),x=n(9208),w=n(4582),E=n(7866);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var S=g.React.forwardRef,Z=g.React.useState,k=g.React.useRef,R=S((function(e,t){var n,s,l,S,R,j,C=e.customAttributes,T=void 0===C?{}:C,A=e.customClasses,D=void 0===A?[]:A,z=e.common,N=void 0===z?{}:z,B=e.data,I=void 0===B?{}:B,L=e.i18n,M=void 0===L?{}:L,J=(null==M?void 0:M.integrations)||{},G=J.integration_settings_apply,H=J.integration_settings_cancel,W=J.integration_settings_error,V=(null==N?void 0:N.i18n)||{},F=V.debug_messages,U=void 0===F?{}:F,Y=U.saving_integration_settings,$=void 0===Y?"":Y,K=U.saving_integration_settings_error,X=void 0===K?"":K,q=V.snackbar_api_save_success,Q=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,g.classnames)({"gravitysmtp-integration-settings":!0},D)},T),ee=(0,E.default)((function(e){return e.activeIntegrationSettings})),te=(0,E.default)((function(e){return e.integrationSettingsFormData})),ne=(0,E.default)((function(e){return e.integrationSettingsDialogOpen})),re=Z(!1),ae=(0,i.Z)(re,2),ie=ae[0],oe=ae[1],se=k(null),ce=(0,E.default)((function(e){return e.setIntegrationSettingsDialogOpen})),le=(0,E.default)((function(e){return e.updateIntegrationStatus})),ue=(0,E.default)((function(e){return e.setIntegrationSettingsFormData})),ge=(0,p.Bl)(I,"id",ee),de=(null==ge||null===(n=ge.settings)||void 0===n?void 0:n.fields)||[],pe=(null==N||null===(s=N.endpoints)||void 0===s||null===(s=s.save_connector_settings)||void 0===s?void 0:s.action)||"",me=(null==N||null===(l=N.endpoints)||void 0===l||null===(l=l.save_connector_settings)||void 0===l?void 0:l.nonce)||"",ve=(0,b.Ds)(),fe=(null==ge||null===(S=ge.settings)||void 0===S?void 0:S.hide_save)||!1,_e=function(){var e=(0,a.Z)(c().mark((function e(){var t,n,r,a,i,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=se&&se.current&&(t=se.current.offsetWidth,se.current.style.width="".concat(t,"px")),oe(!0),n={action:pe,security:me,settings:te[ee],connector_type:ee},e.next=5,(0,O.Z)((0,p.gB)($,ee,JSON.stringify((0,x.Z)(["api_key","server_api_token","password","security"],n))),"info");case 5:return e.prev=5,e.next=8,(0,d.v_)({endpoint:u(),body:n});case 8:null!=(a=e.sent)&&null!==(r=a.data)&&void 0!==r&&r.success?(ve(q),le(ee,{configured:!0}),(0,m.saveActivationState)(ee,pe,me,{configured:!0}),setTimeout((function(){ce(!1)}),1e3)):(s=(0,p.sO)(null==a||null===(i=a.error)||void 0===i||null===(i=i.detail)||void 0===i?void 0:i.data)?JSON.parse(null==a||null===(o=a.error)||void 0===o||null===(o=o.detail)||void 0===o?void 0:o.data):"",ve((null==s?void 0:s.data)||W,"error")),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,(0,O.Z)((0,p.gB)(X,ee,JSON.stringify(e.t0)),"error");case 16:case 17:oe(!1),null!=se&&se.current&&(se.current.style.width="");case 19:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),be={closeButtonType:"simplified",customCloseButtonLabelAttributes:{className:(0,g.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},customMaskClasses:["gravitysmtp-integration-settings__mask"],description:null==ge||null===(R=ge.settings)||void 0===R?void 0:R.description,isOpen:ne,maskTheme:"light",maxHeight:"calc(90vh - 80px)",mode:"modal",onClose:function(){if(new URLSearchParams(window.location.search).has("integration")){var e=new URL(window.location.href),t=new URLSearchParams(e.search);t.delete("integration"),e.search=t.toString(),window.history.pushState({path:e.toString()},"",e.toString())}ce(!1)},padContent:!1,position:"absolute",simplebar:!0,theme:"cosmos",title:null==ge||null===(j=ge.settings)||void 0===j?void 0:j.title,titleSize:"md",titleTagName:"h3",version:2},ye=(0,g.classnames)({"gravitysmtp-integration-settings__save":!0,"gravitysmtp-integration-settings__save--saving":ie}),he=(0,h.Z)(de,{activeIntegrationSettings:ee,integrationSettingsFormData:te,saveConnectorSettings:_e,savingSettings:ie,Svgs:w,i18n:null==N?void 0:N.i18n,addSnackBarMessage:ve});return g.React.createElement("div",(0,r.Z)({},Q,{ref:t}),g.React.createElement(_.Z,be,g.React.createElement("form",{id:ee},g.React.createElement(y.Z,{id:ee,fields:he,setFieldData:function(e,t){return ue(ee,e,t)}})),g.React.createElement(v.Z,{customClasses:["gravitysmtp-integration-settings__actions"],display:"flex",spacing:[8,0,0,0]},g.React.createElement(f.Z,{label:H,onClick:function(){return ce(!1)},size:"size-height-m",type:"white"}),!fe&&g.React.createElement(f.Z,{active:ie,activeType:"loader",customClasses:ye,icon:"save-disk",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:G,onClick:_e,ref:se,spacing:[0,0,0,3],size:"size-height-m"}))))}));R.propTypes={customAttributes:g.PropTypes.object,customClasses:g.PropTypes.oneOfType([g.PropTypes.string,g.PropTypes.array,g.PropTypes.object]),common:g.PropTypes.object,data:g.PropTypes.object,i18n:g.PropTypes.object},R.displayName="IntegrationSettings",t.default=R},9694:function(e,t,n){n.r(t);var r=n(6796),a=n(5720),i=n(7784),o=n(223);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=i.React.forwardRef,u=i.ReactRouter.useLocation,g=l((function(e,t){var n=e.customAttributes,a=void 0===n?{}:n,s=e.customClasses,l=void 0===s?[]:s,g=e.data,d=void 0===g?{}:g,p=e.disabledNavItems,m=void 0===p?[]:p,v=d.nav_items,f=void 0===v?[]:v,_=u(),b=f.filter((function(e){return!m.includes(e.param)})).map((function(e,t){var n=e.param,r=e.label,a=e.icon,i={item:{customClasses:["gravitysmtp-settings-app__nav-bar-item","gravitysmtp-settings-app__nav-bar-item--".concat(n)],key:"".concat(n,"-").concat(t)},icon:{customClasses:["gravitysmtp-settings-app__nav-bar-item-icon"],icon:a,iconPrefix:"gravitysmtp-admin-icon"},text:{content:r,customClasses:["gravitysmtp-settings-app__nav-bar-item-text"]}};if(m.includes(n))return c(c({},i),{},{item:c(c({},i.item),{},{active:!1,disabled:!0}),button:{customClasses:["gravitysmtp-settings-app__nav-bar-item-button","gravitysmtp-settings-app__nav-bar-item-button--".concat(n)],size:"size-height-m",type:"icon-white",disabled:!0}});var o=new URLSearchParams(_.search),s=d.nav_item_param_key||"tab",l=o.get(s);o.set(s,n);var u=c(c({},_),{},{search:"?".concat(o.toString())});return c(c({},i),{},{item:c(c({},i.item),{},{active:l===n}),link:{customClasses:["gravitysmtp-settings-app__nav-bar-item-link","gravitysmtp-settings-app__nav-bar-item-link--".concat(n)],to:u}})})),y=c({customClasses:(0,i.classnames)(["gravitysmtp-settings-app__nav-bar"],l),items:b,type:"icon-button"},a);return i.React.createElement(o.Z,(0,r.Z)({},y,{ref:t}))}));g.propTypes={children:i.PropTypes.oneOfType([i.PropTypes.arrayOf(i.PropTypes.node),i.PropTypes.node]),customAttributes:i.PropTypes.object,customClasses:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.array,i.PropTypes.object])},g.displayName="NavBar",t.default=g},3598:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var r,a,i,o,s=n(6796),c=n(5720),l=n(7784),u=n(375),g=n(9805),d=n(6192),p=n(7024),m=n(7066),v=n(2030),f=n(4237),_=n(3267),b=n.n(_),y=n(7131),h=(null===(r=(0,u.iE)(b(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.components)||{},O=(null==h||null===(a=h.activity_log)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.caps)||{},x=(null==h||null===(i=h.settings)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.caps)||{},w=(null==h||null===(o=h.tools)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.caps)||{};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,y.Z)(e);return O[t]||x[t]||w[t]||!1}var P,S=n(9801),Z=n(9509),k=n.n(Z),R=n(9608),j=n.n(R),C=n(4070),T=n(2077),A=n(9208),D=(null===(P=(0,u.iE)(b(),"gravitysmtp_admin_config"))||void 0===P?void 0:P.common)||{},z=function(e){var t=e.addSnackbarMessage,n=e.key,r=e.saveSuccessSnackBarMessage,a=e.showSnackBarSuccess,i=e.updateData,o=e.value;i[n]&&(i[n]=o),a&&t(r,"success")},N=function(e){var t=e.addSnackbarMessage,n=(e.error,e.saveErrorSnackBarMessage);e.showSnackBarError&&t(n,"error")},B=function(){var e=(0,S.Z)(k().mark((function e(t){var n,r,a,i,o,s,c,l,g,d,p,m,v,f,_,b,y,h,O,x,w,E,P,S,Z,R,B,I,L,M,J,G,H,W,V,F,U,Y,$,K,X,q,Q,ee,te;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.addSnackbarMessage,r=void 0===n?function(){}:n,a=t.errorCallback,i=void 0===a?null:a,o=t.key,s=void 0===o?"":o,c=t.showSnackBarError,l=void 0===c||c,g=t.showSnackBarSuccess,d=void 0!==g&&g,p=t.snackBarErrorMessage,m=void 0===p?"":p,v=t.snackBarSuccessMessage,f=void 0===v?"":v,_=t.successCallback,b=void 0===_?null:_,y=t.updateData,h=void 0===y?{}:y,O=t.useDebugLogger,x=void 0===O||O,w=t.value,E=void 0===w?"":w,P=D.i18n,Z=(S=void 0===P?{}:P).snackbar_generic_update_error,R=void 0===Z?"":Z,B=S.snackbar_generic_update_success,I=void 0===B?"":B,L=S.debug_messages,J=(M=void 0===L?{}:L).saving_plugin_settings,G=void 0===J?"":J,H=M.saving_plugin_settings_error,W=void 0===H?"":H,V=D.endpoints,F=(void 0===V?{}:V).save_plugin_settings,Y=(U=void 0===F?{}:F).action,$=void 0===Y?"":Y,K=U.nonce,X=f||I,q=m||R,Q={action:$,security:void 0===K?"":K,key:s,value:E},!x){e.next=8;break}return e.next=8,(0,T.Z)((0,u.gB)(G,JSON.stringify((0,A.Z)(["security"],Q))),"info");case 8:return e.prev=8,e.next=11,(0,C.v_)({endpoint:j(),body:Q});case 11:null!=(te=e.sent)&&null!==(ee=te.data)&&void 0!==ee&&ee.success?(b||z)({addSnackbarMessage:r,data:null==te?void 0:te.data,key:s,saveSuccessSnackBarMessage:X,showSnackBarSuccess:d,updateData:h,value:E}):(i||N)({addSnackbarMessage:r,error:null==te?void 0:te.error,saveErrorSnackBarMessage:q,showSnackBarError:l}),e.next=21;break;case 15:if(e.prev=15,e.t0=e.catch(8),!x){e.next=21;break}return e.next=21,(0,T.Z)((0,u.gB)(W,JSON.stringify(e.t0)),"error");case 21:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),I=B;function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return M(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var G=(0,l.React.forwardRef)((function(e,t){var n=e.customAttributes,r=void 0===n?{}:n,a=e.customClasses,i=void 0===a?[]:a,o=e.data,_=void 0===o?{}:o,b=e.i18n,y=void 0===b?{}:b,h=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,l.classnames)({"gravitysmtp-settings-app__emails":!0},i)},r),O=_.managed_email_types,x=void 0===O?[]:O,w=(null==y?void 0:y.emails)||{},P=w.top_heading,S=w.top_content,Z=w.email_notifications_box_heading,k=(0,f.Ds)();return l.React.createElement("div",(0,s.Z)({},h,{ref:t}),l.React.createElement(d.Z,{size:"display-sm",weight:"semibold",spacing:1,content:P}),l.React.createElement(p.Z,{size:"text-sm",spacing:6,color:"comet",content:S}),l.React.createElement(v.Z,{HeaderContent:function(e){return l.React.createElement(d.Z,(0,s.Z)({content:Z,size:"text-lg",weight:"medium"},e))}},x.map((function(e,t){return l.React.createElement(g.Z,{key:"".concat((0,u.lV)(e.category),"-").concat(t),x:630},l.React.createElement(d.Z,{size:"text-sm",weight:"medium",type:"boxed",spacing:4,content:e.category}),e.items.map((function(n,r){var a=4;return r===e.items.length-1&&(a=t===x.length-1?1:6),l.React.createElement(m.Z,{key:"".concat(n.key,"-").concat(r),id:"toggle-".concat(n.key),customAttributes:{"data-test-id":n.key},disabled:!E("CAPS_EDIT_EMAIL_MANAGEMENT_SETTINGS"),initialChecked:n.value,labelAttributes:{label:n.label},helpTextAttributes:{content:n.description,spacing:[3,0,0,0]},helpTextWidth:"full",labelPosition:"left",name:n.key,onChange:function(e){I({addSnackbarMessage:k,key:n.key,successCallback:function(){!function(e,t,n){var r,a=L(n);try{for(a.s();!(r=a.n()).done;){var i,o=L(r.value.items);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s.key===e)return s.value=t,n}}catch(e){o.e(e)}finally{o.f()}}}catch(e){a.e(e)}finally{a.f()}}(n.key,e,x)},value:e})},spacing:a,size:"size-m",width:"full"})})))}))))}));G.propTypes={customAttributes:l.PropTypes.object,customClasses:l.PropTypes.oneOfType([l.PropTypes.string,l.PropTypes.array,l.PropTypes.object]),data:l.PropTypes.object,i18n:l.PropTypes.object},G.displayName="EmailsScreen";var H=G},9997:function(e,t,n){n.r(t);var r=n(6796),a=n(9801),i=n(5210),o=n(5720),s=n(9509),c=n.n(s),l=n(9608),u=n.n(l),g=n(7784),d=n(4070),p=n(375),m=n(9805),v=n(7343),f=n(6192),_=n(6901),b=n(7511),y=n(7024),h=n(7066),O=n(2030),x=n(4237),w=n(2077),E=n(9208),P=n(7866);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Z=g.React.forwardRef,k=g.React.useState,R=Z((function(e,t){var n,s,l=e.customAttributes,Z=void 0===l?{}:l,R=e.customClasses,j=void 0===R?[]:R,C=e.common,T=void 0===C?{}:C,A=e.data,D=void 0===A?{}:A,z=e.i18n,N=void 0===z?{}:z,B=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:(0,g.classnames)({"gravitysmtp-settings-app__logging":!0},j)},Z),I=(null==N?void 0:N.logging)||{},L=I.top_heading,M=I.top_content,J=I.logging_box_heading,G=I.enable_log_label,H=I.enable_log_helper_text,W=I.save_email_body_label,V=I.save_email_body_helper_text,F=I.save_attachments_label,U=I.save_attachments_helper_text,Y=I.email_log_retention_label,$=I.email_log_retention_helper_text,K=I.error_saving_snackbar_message,X=I.debug_logging_box_heading,q=I.enable_debug_log_label,Q=I.enable_debug_log_helper_text,ee=I.debug_log_retention_label,te=I.debug_log_retention_helper_text,ne=I.view_debug_log_button_text,re=I.delete_debug_log_button_text,ae=I.delete_debug_log_dialog_confirm_change_heading,ie=I.delete_debug_log_dialog_confirm_change_content,oe=I.delete_debug_log_dialog_confirm_change_confirm,se=I.snackbar_debug_log_delete_error,ce=I.snackbar_debug_log_delete_success,le=(null==D?void 0:D.email_log_settings)||{},ue=le.email_log_enabled,ge=le.save_email_body_enabled,de=le.save_attachments_enabled,pe=le.email_log_retention,me=le.retention_options,ve=(null==D?void 0:D.debug_log_settings)||{},fe=ve.debug_log_retention,_e=ve.debug_log_url,be=ve.retention_options,ye=T||{},he=ye.i18n,Oe=void 0===he?{}:he,xe=Oe.debug_messages,we=void 0===xe?{}:xe,Ee=we.deleting_all_debug_logs,Pe=void 0===Ee?"":Ee,Se=we.deleting_all_debug_logs_error,Ze=void 0===Se?"":Se,ke=we.saving_plugin_settings,Re=void 0===ke?"":ke,je=we.saving_plugin_settings_error,Ce=void 0===je?"":je,Te=Oe.snackbar_generic_update_success,Ae=void 0===Te?"":Te,De=ye.endpoints,ze=(void 0===De?{}:De).delete_debug_logs,Ne=void 0===ze?{}:ze,Be=Ne.action,Ie=void 0===Be?"":Be,Le=Ne.nonce,Me=void 0===Le?"":Le,Je=(null==D?void 0:D.caps)||{},Ge=(null==T||null===(n=T.endpoints)||void 0===n||null===(n=n.save_plugin_settings)||void 0===n?void 0:n.action)||"",He=(null==T||null===(s=T.endpoints)||void 0===s||null===(s=s.save_plugin_settings)||void 0===s?void 0:s.nonce)||"",We=(0,P.default)((function(e){return e.debugLogEnabled})),Ve=(0,P.default)((function(e){return e.setDebugLogEnabled})),Fe=(0,P.default)((function(e){return e.setConfirmDialogSettings})),Ue=(0,P.default)((function(e){return e.setConfirmDialogOpen})),Ye=(0,x.Ds)(),$e=k(ue),Ke=(0,i.Z)($e,2),Xe=Ke[0],qe=Ke[1],Qe=function(){var e=(0,a.Z)(c().mark((function e(){var t,n,r,a,i,o=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={action:Ge,security:He,key:t=o.length>0&&void 0!==o[0]?o[0]:"",value:n=o.length>1&&void 0!==o[1]?o[1]:""},e.next=5,(0,w.Z)((0,p.gB)(Re,JSON.stringify((0,E.Z)(["security"],r))),"info");case 5:return e.prev=5,e.next=8,(0,d.v_)({endpoint:u(),body:r});case 8:null!=(i=e.sent)&&null!==(a=i.data)&&void 0!==a&&a.success?(D.email_log_settings[t]=n,["event_log_retention","debug_log_retention"].includes(t)&&Ye(Ae,"success")):Ye(K,"error"),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=17,(0,w.Z)((0,p.gB)(Ce,JSON.stringify(e.t0)),"error");case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),et=function(){var e=(0,a.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={action:Ie,security:Me,all_logs:"1"},e.next=3,(0,w.Z)((0,p.gB)(Pe,JSON.stringify((0,E.Z)(["security"],t))),"info");case 3:return e.prev=3,e.next=6,(0,d.v_)({endpoint:u(),body:t});case 6:null!=(r=e.sent)&&null!==(n=r.data)&&void 0!==n&&n.success?Ye(ce,"success"):Ye(se,"error"),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),Ye(se,"error"),e.next=15,(0,w.Z)((0,p.gB)(Ze,JSON.stringify(e.t0)),"error");case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return g.React.createElement("div",(0,r.Z)({},B,{ref:t}),g.React.createElement(f.Z,{size:"display-sm",weight:"semibold",spacing:1,content:L}),g.React.createElement(y.Z,{size:"text-sm",spacing:6,color:"comet",content:M}),Je.gravitysmtp_view_email_log_settings&&g.React.createElement(g.React.Fragment,null,g.React.createElement(O.Z,{HeaderContent:function(e){return g.React.createElement(f.Z,(0,r.Z)({content:J,tagName:"h2",size:"text-lg",weight:"medium"},e))},spacing:6},g.React.createElement(m.Z,{customClasses:["gravitysmtp-logging-settings__box-container"],x:630},g.React.createElement(h.Z,{customAttributes:{"data-test-id":"settings-activity-log-enable"},helpTextAttributes:{content:H,size:"text-sm",spacing:[4,0,0,0]},initialChecked:ue,labelAttributes:{label:G},onChange:function(e){qe(e),Qe("event_log_enabled",e)},labelPosition:"left",name:"event_log_enabled",spacing:6,size:"size-m",width:"full",disabled:!Je.gravitysmtp_edit_email_log_settings}),Xe&&g.React.createElement(h.Z,{customAttributes:{"data-test-id":"settings-save-email-body-enable"},helpTextAttributes:{content:V,size:"text-sm",spacing:[4,0,0,0]},initialChecked:ge,labelAttributes:{label:W},onChange:function(e){Qe("save_email_body_enabled",e)},labelPosition:"left",name:"save_email_body_enabled",spacing:6,size:"size-m",width:"full",disabled:!Je.gravitysmtp_edit_email_log_settings}),Xe&&g.React.createElement(h.Z,{customAttributes:{"data-test-id":"settings-save-attachments-enable"},helpTextAttributes:{content:U,size:"text-sm",spacing:[4,0,0,0]},initialChecked:de,labelAttributes:{label:F},onChange:function(e){Qe("save_attachments_enabled",e)},labelPosition:"left",name:"save_attachments_enabled",spacing:6,size:"size-m",width:"full",disabled:!Je.gravitysmtp_edit_email_log_settings}),g.React.createElement(b.Z,{customAttributes:{"data-test-id":"settings-email-log-retention"},initialValue:pe,labelAttributes:{label:Y},helpTextAttributes:{content:$},name:"event_log_retention",onChange:function(e){Qe("event_log_retention",e)},options:me,disabled:!Je.gravitysmtp_edit_email_log_settings}))),g.React.createElement(O.Z,{HeaderContent:function(e){return g.React.createElement(f.Z,(0,r.Z)({content:X,tagName:"h2",size:"text-lg",weight:"medium"},e))}},g.React.createElement(m.Z,{customClasses:["gravitysmtp-logging-settings__box-container"],x:630},g.React.createElement(h.Z,{customAttributes:{"data-test-id":"settings-debug-log-enable"},initialChecked:We,labelAttributes:{label:q},helpTextAttributes:{content:Q,size:"text-sm",spacing:[4,0,0]},onChange:function(e){Ve(e),Qe("debug_log_enabled",e),D.debug_log_settings.debug_log_enabled=e,T.data.debug_log_enabled=e},helpTextWidth:"full",labelPosition:"left",name:"debug_log_enabled",spacing:6,size:"size-m",width:"full",disabled:!Je.gravitysmtp_edit_email_log_settings}),g.React.createElement(b.Z,{initialValue:fe,labelAttributes:{label:ee},helpTextAttributes:{content:te},name:"debug_log_retention",onChange:function(e){Qe("debug_log_retention",e)},options:be,disabled:!Je.gravitysmtp_edit_email_log_settings,spacing:6}),g.React.createElement(m.Z,{display:"flex",customClasses:["gravitysmtp-logging-settings__debug-log-buttons"]},g.React.createElement(_.Z,{content:ne,customAttributes:{"data-test-id":"settings-debug-log-link"},customClasses:["gform-button","gform-button--size-height-m","gform-button--white","gform-button--width-auto","gform-button--icon-leading","gform-typography--size-text-sm","gform-typography--weight-medium"],href:_e}),g.React.createElement(v.Z,{customAttributes:{"data-test-id":"settings-debug-log-delete"},label:re,onClick:(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fe({confirmDialogConfirmButtonType:"amaranth-red",confirmDialogI18n:{confirm_change_confirm:oe,confirm_change_content:ie,confirm_change_heading:ae},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return Ue(!1)},confirmDialogOnClose:function(){return Ue(!1)},confirmDialogOnConfirm:function(){var e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ue(!1),e.next=3,et();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),icon:"trash",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"leading",size:"size-height-m",type:"amaranth-red"}))))))}));R.propTypes={customAttributes:g.PropTypes.object,customClasses:g.PropTypes.oneOfType([g.PropTypes.string,g.PropTypes.array,g.PropTypes.object])},R.displayName="LoggingScreen",t.default=R},2641:function(e,t,n){n.r(t);var r=n(9801),a=n(6796),i=n(5210),o=n(5720),s=n(9509),c=n.n(s),l=n(9608),u=n.n(l),g=n(7784),d=n(760),p=n(4070),m=n(375),v=n(9805),f=n(7343),_=n(6192),b=n(6493),y=n(6901),h=n(7024),O=n(7066),x=n(8887),w=n(2030),E=n(4237),P=n(2077),S=n(9208),Z=n(7866);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=g.React.forwardRef,C=g.React.useRef,T=g.React.useState,A=g.ReactRouter.useLocation,D=g.ReactRouter.Link,z=j((function(e,t){var n,o,s,l,k=e.customAttributes,j=void 0===k?{}:k,z=e.customClasses,N=void 0===z?[]:z,B=e.common,I=void 0===B?{}:B,L=e.data,M=void 0===L?{}:L,J=e.i18n,G=void 0===J?{}:J,H=R({className:(0,g.classnames)({"gravitysmtp-general-settings":!0},N)},j),W=G||{},V=W.debug_messages,F=void 0===V?{}:V,U=F.uninstalling_plugin,Y=F.uninstalling_plugin_error,$=W.settings,K=void 0===$?{}:$,X=K.top_heading,q=K.license_box_heading,Q=K.license_box_content,ee=K.license_box_input_label,te=K.license_box_input_help_text,ne=K.license_box_button_text,re=K.license_valid,ae=K.license_invalid,ie=K.test_mode_box_content_1,oe=K.test_mode_box_toggle_label,se=K.general_settings_box_heading,ce=K.uninstall_box_heading,le=K.uninstall_box_content,ue=K.uninstall_box_button_label,ge=K.uninstall_dialog_confirm_change_heading,de=K.uninstall_dialog_confirm_change_content,pe=K.uninstall_dialog_confirm_change_confirm,me=K.error_uninstalling_message,ve=M.license_key,fe=M.license_key_is_valid,_e=M.plugins_url,be=(null==I?void 0:I.i18n)||{},ye=be.debug_messages,he=void 0===ye?{}:ye,Oe=he.saving_plugin_settings,xe=void 0===Oe?"":Oe,we=he.saving_plugin_settings_error,Ee=void 0===we?"":we,Pe=be.general_settings_usage_analytics_label,Se=void 0===Pe?"":Pe,Ze=be.general_settings_usage_analytics_help_text,ke=void 0===Ze?"":Ze,Re=(null==I?void 0:I.data)||{},je=Re.usage_analytics_enabled,Ce=Re.usage_analytics_link,Te=Re.param_keys,Ae=(null==M?void 0:M.caps)||{},De=T("boolean"==typeof fe&&!fe),ze=(0,i.Z)(De,2),Ne=ze[0],Be=ze[1],Ie=T(ve),Le=(0,i.Z)(Ie,2),Me=Le[0],Je=Le[1],Ge=T(fe),He=(0,i.Z)(Ge,2),We=He[0],Ve=He[1],Fe=T(""),Ue=(0,i.Z)(Fe,2),Ye=Ue[0],$e=Ue[1],Ke=T(!1),Xe=(0,i.Z)(Ke,2),qe=Xe[0],Qe=Xe[1],et=(0,Z.default)((function(e){return e.setConfirmDialogOpen})),tt=(0,Z.default)((function(e){return e.setConfirmDialogSettings})),nt=(0,Z.default)((function(e){return e.setPageLoaderActive})),rt=(0,Z.default)((function(e){return e.testModeEnabled})),at=(0,Z.default)((function(e){return e.setTestModeEnabled})),it=C(null),ot=(null==I||null===(n=I.endpoints)||void 0===n||null===(n=n.save_plugin_settings)||void 0===n?void 0:n.action)||"",st=(null==I||null===(o=I.endpoints)||void 0===o||null===(o=o.save_plugin_settings)||void 0===o?void 0:o.nonce)||"",ct=(null==I||null===(s=I.endpoints)||void 0===s||null===(s=s.gravitysmtp_uninstall_plugin)||void 0===s?void 0:s.action)||"",lt=(null==I||null===(l=I.endpoints)||void 0===l||null===(l=l.gravitysmtp_uninstall_plugin)||void 0===l?void 0:l.nonce)||"",ut=(0,g.classnames)({"gravitysmtp-general-settings__license-save":!0,"gravitysmtp-general-settings__license-save--saving":qe}),gt=(0,E.Ds)(),dt=A(),pt=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r,a,i,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=it.current.offsetWidth,n=Me.trim(),Be(!1),$e(t),Qe(!0),Je(n),r={action:ot,security:st,key:Te.license_key,value:n},e.next=9,(0,P.Z)((0,m.gB)(xe,JSON.stringify((0,S.Z)(["security","value"],r))),"info");case 9:return e.prev=9,e.next=12,(0,p.v_)({endpoint:u(),body:r});case 12:i=e.sent,Qe(!1),$e(""),null!=i&&null!==(a=i.data)&&void 0!==a&&a.success?(s=(null==i||null===(o=i.data)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.license_is_valid)||!1,Ve(s),!0===s?gt(re):!1===s&&gt(ae,"error")):(Ve(!1),gt(ae,"error")),e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(9),e.next=23,(0,P.Z)((0,m.gB)(Ee,JSON.stringify(e.t0)),"error");case 23:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(){return e.apply(this,arguments)}}(),mt={customClasses:["gravitysmtp-general-settings__license-input"],controlled:!0,labelAttributes:{label:ee},helpTextAttributes:We?{}:{content:te,size:"text-xs",weight:"regular"},id:"gravitysmtp-general-settings__license-input",name:Te.license_key,onChange:Je,textSecurity:"disc",value:Me,customAttributes:{readOnly:!Ae.gravitysmtp_edit_license_key,"data-test-id":"settings-license-input"}};!0===We?(mt.borderStyle="correct",mt.iconAttributes={iconPrefix:"gravitysmtp-admin-icon",preset:"status-correct"}):!1===We&&(mt.borderStyle="error",mt.iconAttributes={iconPrefix:"gravitysmtp-admin-icon",preset:"status-incorrect"});var vt=function(){var e=new URLSearchParams(dt.search),t=M.nav_item_param_key||"tab";e.set(t,"logging");var n=R(R({},dt),{},{search:"?".concat(e.toString())}),r=ie.split("%s");return g.React.createElement(g.React.Fragment,null,r[0],g.React.createElement(D,{className:"gform-link gform-typography--size-text-sm",to:n},r[1]),r[2])},ft=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return at(t),n={action:ot,security:st,key:Te.test_mode,value:t?"true":"false"},e.next=4,(0,P.Z)((0,m.gB)(xe,JSON.stringify((0,S.Z)(["security"],n))),"info");case 4:return e.prev=4,e.next=7,(0,p.v_)({endpoint:u(),body:n});case 7:null!=(a=e.sent)&&null!==(r=a.data)&&void 0!==r&&r.success,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(4),e.next=16,(0,P.Z)((0,m.gB)(Ee,JSON.stringify(e.t0)),"error");case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),_t=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={action:ot,security:st,key:Te.usage_analytics,value:t?"true":"false"},e.next=3,(0,P.Z)((0,m.gB)(xe,JSON.stringify((0,S.Z)(["security"],n))),"info");case 3:return e.prev=3,e.next=6,(0,p.v_)({endpoint:u(),body:n});case 6:null!=(a=e.sent)&&null!==(r=a.data)&&void 0!==r&&r.success&&(I.data.usage_analytics_enabled=t,(0,m.X$)({event:"gravitysmtp/setting-updated",native:!1,data:{key:Te.usage_analytics,value:t}})),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),e.next=15,(0,P.Z)((0,m.gB)(Ee,JSON.stringify(e.t0)),"error");case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nt(!0),t={action:ct,security:lt},e.next=4,(0,P.Z)((0,m.gB)(U,JSON.stringify((0,S.Z)(["security"],t))),"info");case 4:return e.prev=4,e.next=7,(0,p.v_)({endpoint:u(),body:t});case 7:null!=(r=e.sent)&&null!==(n=r.data)&&void 0!==n&&n.success?window.location.href=_e:(nt(!1),gt(me,"error")),e.next=18;break;case 11:return e.prev=11,e.t0=e.catch(4),nt(!1),gt(me,"error"),e.next=18,(0,P.Z)((0,m.gB)(Y,JSON.stringify(e.t0)),"error");case 18:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),yt={customAttributes:{"data-test-id":"settings-test-mode-toggle"},initialChecked:rt,labelAttributes:{label:oe},helpTextAttributes:{content:g.React.createElement(vt,null),size:"text-sm",spacing:[4,0,0,0]},helpTextWidth:"full",labelPosition:"left",id:"test_mode",name:Te.test_mode,onChange:ft,size:"size-m",spacing:6,width:"full",disabled:!Ae.gravitysmtp_edit_test_mode},ht={initialChecked:je,labelAttributes:{label:Se},helpTextAttributes:{content:g.React.createElement(d.ji,{openingSymbol:"{{",closingSymbol:"}}",text:ke,tokens:[{component:y.Z,key:"learn_link",props:{href:Ce,size:"text-sm",target:"_blank"}}]}),size:"text-sm",spacing:[4,0,0,0]},helpTextWidth:"full",labelPosition:"left",id:"usage_analytics",name:Te.usage_analytics,onChange:_t,size:"size-m",width:"full",disabled:!Ae.gravitysmtp_edit_usage_analytics};return g.React.createElement("div",(0,a.Z)({},H,{ref:t}),g.React.createElement(_.Z,{size:"display-sm",weight:"semibold",spacing:6,content:X}),Ae.gravitysmtp_view_license_key&&g.React.createElement(w.Z,{HeaderContent:function(e){return g.React.createElement(v.Z,{x:630},g.React.createElement(_.Z,(0,a.Z)({content:q,tagName:"h2",size:"text-lg",weight:"medium",spacing:2},e)),g.React.createElement(h.Z,(0,a.Z)({content:Q,size:"text-sm",color:"comet"},e)))},FooterContent:function(e){var t={"data-test-id":"settings-license-info-save"};return Ye&&(t.style={width:"".concat(Ye,"px")}),t.disabled=!Ae.gravitysmtp_edit_license_key,g.React.createElement(f.Z,(0,a.Z)({active:qe,activeType:"loader",customAttributes:t,customClasses:ut,icon:"save-disk",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:ne,onClick:pt,size:"size-height-m",ref:it},e))},spacing:6},g.React.createElement(v.Z,{customClasses:["gravitysmtp-general-settings__license-input-container"],x:630},g.React.createElement(b.Z,mt),Ne&&g.React.createElement(x.Z,{customIconPrefix:"gravitysmtp-admin-icon",spacing:[3,0,0,0],type:"error"},ae))),(Ae.gravitysmtp_view_test_mode||Ae.gravitysmtp_view_usage_analytics)&&g.React.createElement(w.Z,{HeaderContent:function(e){return g.React.createElement(v.Z,{x:630},g.React.createElement(_.Z,(0,a.Z)({content:se,tagName:"h2",size:"text-lg",weight:"medium"},e)))},spacing:6},g.React.createElement(v.Z,{customClasses:["gravitysmtp-general-settings__license-input-container"],x:630},Ae.gravitysmtp_view_test_mode&&g.React.createElement(O.Z,yt),Ae.gravitysmtp_view_usage_analytics&&g.React.createElement(O.Z,ht))),Ae.gravitysmtp_view_uninstall&&g.React.createElement(w.Z,{HeaderContent:function(e){return g.React.createElement(v.Z,{x:630},g.React.createElement(_.Z,(0,a.Z)({content:ce,tagName:"h2",size:"text-lg",weight:"medium"},e)))}},g.React.createElement(v.Z,{customClasses:["gravitysmtp-general-settings__license-input-container"],x:630},g.React.createElement(h.Z,{content:le,size:"text-sm",color:"comet",spacing:6}),g.React.createElement(f.Z,{disabled:!Ae.gravitysmtp_edit_uninstall,icon:"trash",iconPosition:"leading",iconPrefix:"gravitysmtp-admin-icon",label:ue,onClick:(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tt({confirmDialogConfirmButtonType:"amaranth-red",confirmDialogI18n:{confirm_change_confirm:pe,confirm_change_content:de,confirm_change_heading:ge},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return et(!1)},confirmDialogOnClose:function(){return et(!1)},confirmDialogOnConfirm:function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return et(!1),e.next=3,bt();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),size:"size-height-m",type:"amaranth-red"}))))}));z.propTypes={customAttributes:g.PropTypes.object,customClasses:g.PropTypes.oneOfType([g.PropTypes.string,g.PropTypes.array,g.PropTypes.object]),data:g.PropTypes.object,i18n:g.PropTypes.object},z.displayName="SettingsScreen",t.default=z},3428:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var r,a,i=n(5720),o=n(5210),s=n(7784),c=n(9118),l=n(4237),u=n(4085),g=n(9694),d=n(3598),p=n(2641),m=n(8777),v=n(9997),f=n(3643),_=n(7767),b=n(8448),y=n(7131),h=n(3267),O=n.n(h),x=(null===(r=(0,n(375).iE)(O(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{},w=(null==x||null===(a=x.feature_flags)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.statuses)||{};var E=n(7866);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=s.React.useEffect,k=s.ReactRouter.BrowserRouter,R=s.ReactRouter.Routes,j=s.ReactRouter.Route,C=s.ReactRouter.useSearchParams,T=["alerts","routing"],A={settings:[(0,y.Z)("CAPS_VIEW_LICENSE_KEY"),(0,y.Z)("CAPS_VIEW_TEST_MODE"),(0,y.Z)("CAPS_VIEW_USAGE_ANALYTICS")],integrations:[(0,y.Z)("CAPS_VIEW_INTEGRATIONS")],logging:[(0,y.Z)("CAPS_VIEW_EMAIL_LOG_SETTINGS")],emails:[(0,y.Z)("CAPS_VIEW_EMAIL_MANAGEMENT_SETTINGS")]},D=function(e){return s.React.createElement(u.default,e)},z=function(e){return s.React.createElement(g.default,e)},N=function(e){var t=C(),n=(0,o.Z)(t,2),r=n[0],a=(n[1],e.data.nav_items),i=(void 0===a?[]:a).filter((function(e){return!T.includes(e.param)}))[0]||"",c=r.get(e.data.nav_item_param_key||"tab")||i.param,l=r.get("integration"),u=(0,E.default)((function(e){return e.setActiveIntegrationSettings})),g=(0,E.default)((function(e){return e.setIntegrationSettingsDialogOpen}));switch("integrations"===c&&l&&(u(l),g(!0)),c){case"settings":return s.React.createElement(p.default,e);case"integrations":return s.React.createElement(m.default,e);case"emails":return s.React.createElement(d.default,e);case"logging":return s.React.createElement(v.default,e);default:return null}},B=function(e){var t=e.data,n=e.i18n,r=e.common,a=t.route_path.replace(window.location.origin,""),i=(null==t?void 0:t.caps)||{};Object.entries(A).forEach((function(e){var t=(0,o.Z)(e,2),n=t[0];t[1].some((function(e){return i[e]}))||T.push(n)})),function(){return w[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]||!1}("wp_email_management")||T.includes("emails")||T.push("emails");var u=(0,E.default)((function(e){return e.pageLoaderActive})),g=(0,E.default)((function(e){return e.setPageLoaderActive})),d={confirmButtonType:(0,E.default)((function(e){return e.confirmDialogConfirmButtonType})),customAttributes:(0,E.default)((function(e){return e.confirmDialogCustomAttributes})),i18n:S(S({},(null==r?void 0:r.i18n)||{}),(0,E.default)((function(e){return e.confirmDialogI18n}))),isOpen:(0,E.default)((function(e){return e.confirmDialogOpen})),onCancel:(0,E.default)((function(e){return e.confirmDialogOnCancel})),onClose:(0,E.default)((function(e){return e.confirmDialogOnClose})),onConfirm:(0,E.default)((function(e){return e.confirmDialogOnConfirm}))},p=function(e){g(e.detail)};return Z((function(){return document.addEventListener("gravitysmtp/page_loader/active",p),function(){return document.removeEventListener("gravitysmtp/page_loader/active",p)}}),[]),s.React.createElement(k,null,s.React.createElement(l.wT,{defaultSettings:{errorIconAttributes:{icon:"exclamation-simple",iconPrefix:"gravitysmtp-admin-icon"},successIconAttributes:{icon:"correct",iconPrefix:"gravitysmtp-admin-icon"}}},s.React.createElement("div",{className:"gravitysmtp-app__wrapper"},s.React.createElement(c.Z,{customClasses:["gravitysmtp-settings-app"],Header:D,PrimarySideBarChildren:z,common:r,data:t,i18n:n,disabledNavItems:T},s.React.createElement("div",{className:"gravitysmtp-settings-app__content"},s.React.createElement(R,null,s.React.createElement(j,{path:a,element:s.React.createElement(N,{common:r,data:t,i18n:n,disabledNavItems:T})})))),s.React.createElement(f.default,{data:t,common:r,i18n:n}),s.React.createElement(_.Z,d),s.React.createElement(b.Z,{loading:u}))))}},8288:function(e,t,n){n.r(t),n.d(t,{GravitySMTPLogo:function(){return r.Z},GravitySMTPTextLogo:function(){return a.Z}});var r=n(324),a=n(515)},7003:function(e,t,n){var r=n(9801),a=n(5720),i=n(9509),o=n.n(i),s=n(7784),c=n(5489),l=n(8731),u=n(6901),g=n(6493),d=n(375),p=n(760);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!["microsoft","google","generic"].includes(t.activeIntegrationSettings))return e;var n=t.integrationSettingsFormData[t.activeIntegrationSettings],a=e;return["microsoft","google"].includes(t.activeIntegrationSettings)?a=e.map((function(e){if(!["BrandedButton","BrandedLink","CopyInput","LinkedHelpTextInput"].includes(e.component)||!e.external)return e;var a,i=t.i18n.snackbar_url_copied,m=void 0===i?"":i,f=t.Svgs[e.props.Svg],_=null,b={};switch(e.component){case"BrandedButton":_=c.Z,b=v(v({},e.props),{},{disabled:!(null!=n&&n.client_id&&null!=n&&n.client_secret)||t.savingSettings,onClick:(a=(0,r.Z)(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,t.saveConnectorSettings();case 3:window.location.href="".concat(n.oauth_url,"?client_id=").concat(n.client_id).concat(n.oauth_params);case 4:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),Svg:s.React.createElement(f,null)});break;case"BrandedLink":_=l.Z,b=v(v({},e.props),{},{href:"wizard"===t.context?e.wizardHref:e.props.href,Svg:s.React.createElement(f,null)});break;case"CopyInput":_=g.Z,b=v(v({},e.props),{},{actionButtonAttributes:v(v({},e.props.actionButtonAttributes),{},{onClick:function(e,n){t.addSnackBarMessage(m),(0,d.BR)(n)}})});break;case"LinkedHelpTextInput":_=g.Z,b=v(v({},e.props),{},{helpTextAttributes:v(v({},e.props.helpTextAttributes),{},{content:s.React.createElement(p.ji,{openingSymbol:"{{",closingSymbol:"}}",text:e.props.helpTextAttributes.content,tokens:e.links.map((function(e){return{component:u.Z,key:e.key,props:e.props}}))})})})}return v(v({},e),{},{component:_,props:b})})):"generic"===t.activeIntegrationSettings&&(a=e.map((function(e){var t;if("Input"!==e.component||!["username","password"].includes(null==e||null===(t=e.props)||void 0===t?void 0:t.name))return e;var r=v(v({},e.props),{},{disabled:!n.auth});return v(v({},e),{},{props:r})}))),a}},7131:function(e,t,n){n.d(t,{Z:function(){return l}});var r,a,i=n(3267),o=n.n(i),s=(null===(r=(0,n(375).iE)(o(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{},c=(null==s||null===(a=s.data)||void 0===a?void 0:a.constants)||{};function l(){return c[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]||""}}}]);