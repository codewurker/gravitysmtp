"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[9349,4587,2882],{8777:function(t,n,e){e.r(n),e.d(n,{deactivateIntegrations:function(){return F},saveActivationState:function(){return N}});var i,o=e(6796),r=e(9801),a=e(5720),c=e(9509),u=e.n(c),s=e(9608),l=e.n(s),d=e(3267),g=e.n(d),f=e(7784),p=e(375),m=e(4070),v=e(4582),_=e(9805),b=e(7343),y=e(5051),h=e(6192),Z=e(6901),D=e(1053),O=e(7024),C=e(7066),k=e(1295),E=e(4475),S=e(4518),w=e(4237),I=e(2077),R=e(9208),L=e(7866);function P(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function x(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?P(Object(e),!0).forEach((function(n){(0,a.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):P(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var A=(null===(i=(0,p.iE)(g(),"gravitysmtp_admin_config"))||void 0===i?void 0:i.common)||{},T=f.React.forwardRef,j=f.React.memo,z=f.React.useCallback,M=f.React.useMemo,B=j((function(t){var n,e,i=t.actionItems,o=void 0===i?[]:i,r=t.common,a=void 0===r?{}:r,c=t.data,u=void 0===c?{}:c,s=t.i18n,l=void 0===s?{}:s,d=(0,L.default)((function(t){return t.integrations})),g=(0,L.default)((function(t){return t.updateIntegrationSettings})),m=(0,L.default)((function(t){return t.setIntegrationSettingsFormData})),v=(0,L.default)((function(t){return t.updateIntegrationStatus})),_=(null==a||null===(n=a.endpoints)||void 0===n||null===(n=n.save_connector_settings)||void 0===n?void 0:n.action)||"",b=(null==a||null===(e=a.endpoints)||void 0===e||null===(e=e.save_connector_settings)||void 0===e?void 0:e.nonce)||"",y=(0,w.Ds)();return f.React.createElement(k.ZP,{align:"right",closeOnClick:!0,listItems:o.map((function(t){if("button"===t.props.element&&["edit","set-as-primary","set-as-backup"].includes(t.key)){var n=function(){};switch(t.key){case"edit":n=function(){g(u.id,!0)};break;case"set-as-primary":n=function(){N(u.id,_,b,{enabled:!0,is_primary:!0,is_backup:!1}).then((function(){m(u.id,"is_primary",!0),m(u.id,"is_backup",!1),v(u.id,{enabled:!0,is_primary:!0,is_backup:!1}),y((0,p.gB)(l.integrations.set_primary_integration,u.title)),F(d,"is_primary",v,u.id,_,b)}))};break;case"set-as-backup":n=function(){N(u.id,_,b,{enabled:!0,is_primary:!1,is_backup:!0}).then((function(){m(u.id,"is_primary",!1),m(u.id,"is_backup",!0),v(u.id,{enabled:!0,is_backup:!0,is_primary:!1}),y((0,p.gB)(l.integrations.set_backup_integration,u.title)),F(d,"is_backup",v,u.id,_,b)}))}}return x(x({},t),{},{props:x(x({},t.props),{},{customAttributes:x(x({},t.props.customAttributes||{}),{},{onClick:n})})})}return t})),triggerAttributes:{ariaId:"".concat(u.id,"-aria-labelledby"),ariaText:l.integrations.card_more_settings,iconPrefix:"gravitysmtp-admin-icon",icon:"dots-horizontal",id:"".concat(u.id,"-trigger"),size:"size-height-s",type:"icon-grey"},width:192})})),F=function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(r){var c;r.id!==e&&!0!==(null==r||null===(c=r.data)||void 0===c?void 0:c.disabled)&&!1!==(null==r?void 0:r.data[t])&&(N(r.id,i,o,(0,a.Z)({},t,!1)),n(r.id,(0,a.Z)({},t,!1)))}))},N=function(t,n,e,i){var o=i.activated,r=i.configured,a=i.enabled,c=i.is_primary,u=i.is_backup,s=A.i18n,d=(void 0===s?{}:s).debug_messages,g=void 0===d?{}:d,f=g.saving_integration_settings,v=void 0===f?"":f,_=g.saving_integration_settings_error,b=void 0===_?"":_,y={action:n,security:e,connector_type:t,settings:x(x(x(x(x({},void 0!==o&&{activated:o}),void 0!==r&&{configured:r}),void 0!==a&&{enabled:a}),void 0!==c&&{is_primary:c}),void 0!==u&&{is_backup:u})};return(0,I.Z)((0,p.gB)(v,t,JSON.stringify((0,R.Z)(["security"],y))),"info"),(0,m.v_)({endpoint:l(),body:y}).then((function(t){return t})).catch((function(n){throw(0,I.Z)((0,p.gB)(b,t,JSON.stringify(n)),"error"),n}))},G=j((function(t){var n,e,i,o,a=t.common,c=t.data,s=t.i18n,l=t.actionItems,d=t.caps,g=(0,L.default)((function(t){return t.integrations})),p=(0,L.default)((function(t){return t.updateIntegrationSettings})),m=(0,L.default)((function(t){return t.setConfirmDialogOpen})),Z=(0,L.default)((function(t){return t.setConfirmDialogSettings})),k=(0,L.default)((function(t){return t.setIntegrationSettingsFormData})),w=(0,L.default)((function(t){return t.updateIntegrationStatus})),I=(null==c||null===(n=c.data)||void 0===n?void 0:n.enabled)||!1,R=(null==c||null===(e=c.data)||void 0===e?void 0:e.configured)||!1,P=(null==a||null===(i=a.endpoints)||void 0===i||null===(i=i.save_connector_settings)||void 0===i?void 0:i.action)||"",x=(null==a||null===(o=a.endpoints)||void 0===o||null===(o=o.save_connector_settings)||void 0===o?void 0:o.nonce)||"",A=M((function(){return f.React.createElement(h.Z,{customClasses:["gform-card__top-container-heading"],tagName:"h3",content:c.title,size:"text-md",weight:"medium"})}),[c.title]),T=M((function(){return c.data.is_primary?f.React.createElement(D.Z,{content:s.integrations.card_primary.toUpperCase(),size:"text-xxs",spacing:[0,0,0,2],type:"blue"}):c.data.is_backup?f.React.createElement(D.Z,{content:s.integrations.card_backup.toUpperCase(),size:"text-xxs",spacing:[0,0,0,2],type:"upgrade"}):null}),[c.data.is_primary,c.data.is_backup,s.integrations.card_primary,s.integrations.card_backup]),j=M((function(){return f.React.createElement(O.Z,{customClasses:["gform-card__top-container-description"],color:"comet",size:"text-sm"},c.description)}),[c.description]),F=M((function(){return v["".concat(c.logo,"Logo")]}),[c.logo]),G=f.React.createElement(F,null),U=z((function(){p(c.id,!0)}),[p,c.id]),W=[G],J=[];W.push(T);var V=(null==s?void 0:s.integrations)||{},H=V.card_toggle,q=V.card_connected,K=V.card_configured,Q=V.card_not_configured,X=V.card_settings,Y=V.primary_disabled_heading,$=V.primary_disabled_content,tt=function(){m(!1)},nt=function(){var t=(0,r.Z)(u().mark((function t(n){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!n&&c.data.is_primary&&(Z({confirmDialogCustomAttributes:{showCancelButton:!1},confirmDialogI18n:{confirm_change_content:$,confirm_change_heading:Y},confirmDialogOpen:!0,confirmDialogOnClose:tt,confirmDialogOnConfirm:tt}),m(!0)),e={enabled:n},n?(g.every((function(t){return!t.data.enabled}))&&(e.is_primary=!0),k(c.id,"enabled",n)):(e.is_primary=!1,e.is_backup=!1,k(c.id,"enabled",n),k(c.id,"is_primary",!1),k(c.id,"is_backup",!1)),N(c.id,P,x,e),w(c.id,e);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),et=f.React.createElement(C.Z,{externalChecked:I,externalControl:!0,labelAttributes:{label:H,isVisible:!1},onChange:nt,disabled:!d.gravitysmtp_edit_integrations}),it=f.React.createElement(y.Z,{container:!0,elementType:"div"},f.React.createElement(y.Z,{item:!0,elementType:"div"},f.React.createElement(O.Z,{size:"text-xs",spacing:[0,2,0,0],weight:"medium"},R?I?q:K:Q)),f.React.createElement(y.Z,{item:!0,elementType:"div"},f.React.createElement(S.Z,{type:R?I?"success":"warning":"error"})));J.push(it,et);var ot=f.React.createElement(b.Z,{customClasses:["gform-card__top-container-settings-button"],icon:"cog",iconPrefix:"gravitysmtp-admin-icon",label:X,onClick:U,size:"size-height-s",type:"icon-white",disabled:!d.gravitysmtp_edit_integrations}),rt=f.React.createElement(_.Z,{customClasses:["gform-card__top-container-buttons"],display:"flex"},ot,f.React.createElement(B,{actionItems:l,common:a,data:c,i18n:s}));return W.push(rt),f.React.createElement(E.Z,{customClasses:["gravitysmtp-settings-app__integration-card"],title:A,description:j,headerContent:W,footerContent:J,disabled:c.data.disabled})})),U=T((function(t,n){var e=t.customAttributes,i=void 0===e?{}:e,r=t.customClasses,a=void 0===r?[]:r,c=t.common,u=void 0===c?{}:c,s=t.data,l=void 0===s?{}:s,d=t.i18n,g=void 0===d?{}:d,m=(0,L.default)((function(t){return t.integrations})),v=x({className:(0,f.classnames)({"gravitysmtp-settings-app__integrations":!0},a)},i),b=(null==g?void 0:g.integrations)||{},D=b.top_heading,C=b.top_content,k=b.suggestion_link_text,E=(b.lower_heading,b.lower_content,(null==l?void 0:l.integrations_actions)||[]),S=(null==l?void 0:l.caps)||{};return f.React.createElement("div",(0,o.Z)({},v,{ref:n}),f.React.createElement(h.Z,{size:"display-sm",weight:"semibold",spacing:1,content:D}),f.React.createElement(O.Z,{size:"text-sm",color:"comet",spacing:6},C,f.React.createElement(Z.Z,{spacing:[0,0,0,1],target:"_blank",href:"https://roadmap.smtp.gravity.com/",content:k})),!!m.length&&S.gravitysmtp_view_integrations&&f.React.createElement(_.Z,{spacing:6},f.React.createElement(y.Z,{container:!0,wrap:!0,customClasses:["gravitysmtp-settings-app__integration-card-grid"],justifyContent:"flex-start",columnSpacing:5,rowSpacing:6},m.map((function(t){var n;return null!=t&&null!==(n=t.data)&&void 0!==n&&n.disabled?null:f.React.createElement(y.Z,{item:!0,key:"integrations-".concat((0,p.lV)(t.title)),customClasses:["gravitysmtp-settings-app__integration-card-grid-item"]},f.React.createElement(G,{common:u,data:t,i18n:g,actionItems:E,caps:S}))})))))}));U.propTypes={customAttributes:f.PropTypes.object,customClasses:f.PropTypes.oneOfType([f.PropTypes.string,f.PropTypes.array,f.PropTypes.object]),data:f.PropTypes.object,i18n:f.PropTypes.object},U.displayName="IntegrationsScreen",n.default=U},7866:function(t,n,e){e.r(n);var i,o,r,a,c,u,s,l,d,g=e(3267),f=e.n(g),p=e(7784),m=e(760),v=e(375),_=(null===(i=(0,v.iE)(f(),"gravitysmtp_admin_config"))||void 0===i||null===(i=i.components)||void 0===i?void 0:i.settings)||{},b=(null===(o=(0,v.iE)(f(),"gravitysmtp_admin_config"))||void 0===o?void 0:o.common)||{},y={activeIntegration:(d=null==_||null===(l=_.data)||void 0===l||null===(l=l.integrations)||void 0===l?void 0:l.find((function(t){var n;return null==t||null===(n=t.data)||void 0===n?void 0:n.enabled})),(null==d?void 0:d.id)||""),activeIntegrationSettings:"",confirmDialogCustomAttributes:{},confirmDialogI18n:{},confirmDialogOnCancel:function(){},confirmDialogOnClose:function(){},confirmDialogOnConfirm:function(){},confirmDialogOpen:!1,confirmDialogConfirmButtonType:"primary-new",debugLogEnabled:(null==b||null===(r=b.data)||void 0===r?void 0:r.debug_log_enabled)||!1,integrations:(null==_||null===(a=_.data)||void 0===a?void 0:a.integrations)||[],integrationSettingsDialogOpen:!1,integrationSettingsFormData:(s={},null==_||null===(u=_.data)||void 0===u||null===(u=u.integrations)||void 0===u||u.forEach((function(t){s[t.id]=(null==t?void 0:t.data)||{}})),s),noticeDialogOpen:!1,pageLoaderActive:!1,testModeEnabled:(null==b||null===(c=b.data)||void 0===c?void 0:c.test_mode_enabled)||!1},h=(0,m.Ue)(y,(function(t){return{setActiveIntegration:function(n){return t((function(){return{activeIntegration:n}}))},setActiveIntegrationSettings:function(n){return t((function(){return{activeIntegrationSettings:n}}))},setConfirmDialogOpen:function(n){return t((function(){return{confirmDialogOpen:n}}))},setConfirmDialogSettings:function(n){var e=n.confirmDialogCustomAttributes,i=void 0===e?{}:e,o=n.confirmDialogI18n,r=void 0===o?{}:o,a=n.confirmDialogOpen,c=void 0!==a&&a,u=n.confirmDialogOnCancel,s=void 0===u?function(){}:u,l=n.confirmDialogOnClose,d=void 0===l?function(){}:l,g=n.confirmDialogOnConfirm,f=void 0===g?function(){}:g,p=n.confirmDialogConfirmButtonType,m=void 0===p?"primary-new":p;t((function(){return{confirmDialogCustomAttributes:i,confirmDialogConfirmButtonType:m,confirmDialogI18n:r,confirmDialogOpen:c,confirmDialogOnCancel:s,confirmDialogOnClose:d,confirmDialogOnConfirm:f}}))},setIntegrationSettingsDialogOpen:function(n){return t((function(){return{integrationSettingsDialogOpen:n}}))},setNoticeDialogOpen:function(n){return t((function(){return{noticeDialogOpen:n}}))},setPageLoaderActive:function(n){return t((function(){return{pageLoaderActive:n}}))},setIntegrationSettingsFormData:function(n,e,i){return t((0,p.immer)((function(t){t.integrationSettingsFormData[n]||(t.integrationSettingsFormData[n]={}),t.integrationSettingsFormData[n][e]=i})))},setDebugLogEnabled:function(n){return t((function(){return{debugLogEnabled:n}}))},setTestModeEnabled:function(n){return t((function(){return{testModeEnabled:n}}))},updateIntegrationSettings:function(n,e){return t((function(){return{activeIntegrationSettings:n,integrationSettingsDialogOpen:e}}))},updateIntegrationStatus:function(n,e){var i=e.activated,o=e.configured,r=e.enabled,a=e.is_primary,c=e.is_backup;return t((0,p.immer)((function(t){var e=t.integrations.find((function(t){return t.id===n}));e&&(e.data||(e.data={}),void 0!==i&&(e.data.activated=i),void 0!==o&&(e.data.configured=o),void 0!==r&&(e.data.enabled=r),void 0!==a&&(e.data.is_primary=a),void 0!==c&&(e.data.is_backup=c))})))}}}));n.default=h},4582:function(t,n,e){e.r(n),e.d(n,{AmazonAWSLogo:function(){return i.Z},BrevoLogo:function(){return o.Z},CustomSMTPLogo:function(){return r.Z},GoogleAltLogo:function(){return a.Z},GoogleLogo:function(){return c.Z},MailgunLogo:function(){return u.Z},MandrillLogo:function(){return s.Z},MicrosoftAltLogo:function(){return l.Z},MicrosoftLogo:function(){return d.Z},PHPLogo:function(){return g.Z},PostmarkLogo:function(){return f.Z},SMTP2GOLogo:function(){return v.Z},SendGridLogo:function(){return p.Z},SlackLogo:function(){return m.Z},SparkPostLogo:function(){return _.Z},TelegramLogo:function(){return b.Z},TwilioLogo:function(){return y.Z},WhatsAppLogo:function(){return h.Z},WordPressLogo:function(){return Z.Z},ZohoLogo:function(){return D.Z}});var i=e(7778),o=e(25),r=e(5331),a=e(4270),c=e(8930),u=e(9131),s=e(8755),l=e(962),d=e(8567),g=e(7179),f=e(5824),p=e(2576),m=e(2618),v=e(5386),_=e(731),b=e(8104),y=e(8166),h=e(5151),Z=e(7234),D=e(9286)},2077:function(t,n,e){e.d(n,{Z:function(){return f}});var i,o=e(9801),r=e(9509),a=e.n(r),c=e(9608),u=e.n(c),s=e(3267),l=e.n(s),d=e(4070),g=(null===(i=(0,e(375).iE)(l(),"gravitysmtp_admin_config"))||void 0===i?void 0:i.common)||{};function f(){return p.apply(this,arguments)}function p(){return p=(0,o.Z)(a().mark((function t(){var n,e,i,o,r,c,s,l,f,p,m=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m.length>0&&void 0!==m[0]?m[0]:"",o=m.length>1&&void 0!==m[1]?m[1]:"debug",r=g.data,c=void 0===r?{}:r,s=g.endpoints,f=(null==(l=void 0===s?{}:s)||null===(n=l.log_debug_item)||void 0===n?void 0:n.action)||"",p=(null==l||null===(e=l.log_debug_item)||void 0===e?void 0:e.nonce)||"",null!=c&&c.debug_log_enabled&&f&&p&&i){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,(0,d.v_)({endpoint:u(),body:{action:f,security:p,message:i,priority:o}}).catch((function(t){}));case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}},9208:function(t,n,e){var i=e(6588),o=e(5210);n.Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return function e(r){return Object.entries(r).reduce((function(r,a){var c=(0,o.Z)(a,2),u=c[0],s=c[1];return"object"===(0,i.Z)(s)&&null!==s?r[u]=e(s):t.includes(u)?r[u]=null===s?null:n.repeat(s.length):r[u]=s,r}),Array.isArray(r)?[]:{})}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}}]);