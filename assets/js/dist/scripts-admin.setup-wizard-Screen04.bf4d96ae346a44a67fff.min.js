"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[5830,1967,6018,9529],{88114:function(t,e,n){n.r(e);var r=n(15720),i=n(79801),o=n(15210),a=n(89509),u=n.n(a),s=n(49608),c=n.n(s),l=n(27784),d=n(77424),p=n(375),v=n(84070),f=n(39805),g=n(76192),m=n(47024),b=n(28957),y=n(74237),_=n(27003),S=n(62077),w=n(9208),h=n(65212),O=n(85806),k=n(91047),Z=l.React.useEffect,x=l.React.useRef,P=l.React.useState,A=["google","microsoft"];e.default=function(t){var e,n,a,s=t.common,B=t.data,z=t.endpoints,j=t.i18n,C=s.i18n,E=(void 0===C?{}:C).debug_messages,D=void 0===E?{}:E,N=D.saving_integration_settings,R=void 0===N?"":N,F=D.saving_integration_settings_error,I=void 0===F?"":F,L=j.setup_wizard_next_button,M=void 0===L?"":L,T=j.setup_wizard_mail_settings_title,H=void 0===T?"":T,G=j.setup_wizard_mail_settings_copy,U=void 0===G?"":G,J=j.setup_wizard_integration_settings_error,W=void 0===J?"":J,q=B.integrations,K=(0,k.default)((function(t){return t.activeStep})),Q=(0,k.default)((function(t){return t.isAnimatedIn})),V=(0,k.default)((function(t){return t.integration})),X=(0,k.default)((function(t){return t.integrationSettingsFormData})),Y=(0,k.default)((function(t){return t.setActiveStepNext})),$=(0,k.default)((function(t){return t.setActiveNavBarStepNext})),tt=(0,k.default)((function(t){return t.setSetupStatus})),et=(0,k.default)((function(t){return t.setIntegrationSettingsFormData})),nt=(0,k.default)((function(t){return t.setSettingsUpdated})),rt=(0,k.default)((function(t){return t.setHasDebugError})),it=x(null),ot=P(!1),at=(0,o.Z)(ot,2),ut=at[0],st=at[1],ct=(0,p.Bl)(q,"id",V),lt=(null==ct||null===(e=ct.settings)||void 0===e?void 0:e.fields)||[],dt=(null==z||null===(n=z.save_connector_settings)||void 0===n?void 0:n.action)||"",pt=(null==z||null===(a=z.save_connector_settings)||void 0===a?void 0:a.nonce)||"",vt=(0,y.Ds)(),ft=function(){var t=(0,i.Z)(u().mark((function t(){var e,n,r,i,o,a,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return st(!0),e=it.current.offsetWidth,it.current.style.width="".concat(e,"px"),n={action:dt,security:pt,connector_type:V,settings:X[V]},t.next=6,(0,S.Z)((0,p.gB)(R,V,JSON.stringify((0,w.Z)(["api_key","server_api_token","password","security"],n))),"info");case 6:return t.prev=6,t.next=9,(0,v.v_)({endpoint:c(),body:n});case 9:if(i=t.sent,st(!1),null!=i&&null!==(r=i.data)&&void 0!==r&&r.success){t.next=19;break}return s=(0,p.sO)(null==i||null===(o=i.error)||void 0===o||null===(o=o.detail)||void 0===o?void 0:o.data)?JSON.parse(null==i||null===(a=i.error)||void 0===a||null===(a=a.detail)||void 0===a?void 0:a.data):"",t.next=15,(0,S.Z)((0,p.gB)(I,V,JSON.stringify(s)),"error");case 15:rt(!0),vt((null==s?void 0:s.data)||W,"error"),t.next=22;break;case 19:tt("success"),A.includes(V)||(Y(),$()),nt();case 22:t.next=30;break;case 24:return t.prev=24,t.t0=t.catch(6),t.next=29,(0,S.Z)((0,p.gB)(I,V,JSON.stringify(t.t0)),"error");case 29:rt(!0);case 30:it.current&&(it.current.style.width="");case 31:case"end":return t.stop()}}),t,null,[[6,24]])})));return function(){return t.apply(this,arguments)}}(),gt=x();Z((function(){4===K&&gt.current&&gt.current.focus()}),[K]);var mt={ref:(0,d.P5)(4===K&&Q),className:(0,l.classnames)((0,r.Z)({"gravitysmtp-setup-wizard__screen":!0},"gravitysmtp-setup-wizard__screen--step-".concat(4),!0)),"aria-hidden":4!==K,"data-test-id":"setup-wizard-screen-04"},bt=(0,_.Z)(lt,{activeIntegrationSettings:V,context:"wizard",integrationSettingsFormData:X,saveConnectorSettings:ft,savingSettings:ut,Svgs:h,i18n:null==s?void 0:s.i18n,addSnackBarMessage:vt});return l.React.createElement("div",mt,l.React.createElement("div",{className:"gravitysmtp-setup-wizard__screen-inner"},l.React.createElement(l.SimpleBar,{scrollableNodeProps:{ref:gt}},l.React.createElement("div",{className:"gravitysmtp-setup-wizard__content"},l.React.createElement(f.Z,{customClasses:["gravitysmtp-setup-wizard__content-header"],spacing:6},l.React.createElement(g.Z,{content:H,spacing:8,size:"display-sm",tagName:"h2",weight:"medium"}),l.React.createElement(m.Z,{content:(0,p.gB)(U,null==ct?void 0:ct.title),spacing:6,size:"text-lg",weight:"medium"}),l.React.createElement("form",{id:V},l.React.createElement(b.Z,{id:V,fields:bt,setFieldData:function(t,e){return et(V,t,e)}}))),l.React.createElement(O.default,{i18n:j,backButtonCustomAttributes:{customAttributes:{"data-test-id":"setup-wizard-screen-04-back-button"}},skipButtonCustomAttributes:{customAttributes:{"data-test-id":"setup-wizard-screen-04-skip-button"},onClick:function(){tt("skipped"),Y(),$()}},nextButtonCustomAttributes:{customAttributes:{"data-test-id":"setup-wizard-screen-04-next-button"},onClick:ft,active:ut,activeType:"loader",activeText:M,disabled:ut||A.includes(V),icon:ut?"":"arrow-narrow-right",lockSize:!0,ref:it}})))))}},85806:function(t,e,n){n.r(e);var r=n(90107),i=n(15720),o=n(40491),a=n(27784),u=n(39805),s=n(7343),c=n(91047),l=["customClasses"],d=["customClasses"],p=["customClasses"],v=["customClasses"];function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m=(0,a.React.forwardRef)((function(t,e){var n=t.backButtonCustomAttributes,i=void 0===n?{}:n,f=t.nextButtonCustomAttributes,m=void 0===f?{}:f,b=t.i18n,y=t.showBackButton,_=void 0===y||y,S=t.showSkipButton,w=void 0===S||S,h=t.showNextButton,O=void 0===h||h,k=t.skipButtonCustomAttributes,Z=void 0===k?{}:k,x=t.wrapperCustomAttributes,P=void 0===x?{}:x,A=b.setup_wizard_back_button,B=b.setup_wizard_skip_button,z=b.setup_wizard_next_button,j=(0,c.default)((function(t){return t.setActiveStepNext})),C=(0,c.default)((function(t){return t.setActiveStepPrevious})),E=(0,c.default)((function(t){return t.setActiveNavBarStepNext})),D=(0,c.default)((function(t){return t.setActiveNavBarStepPrevious})),N=P.customClasses,R=(0,o.Z)(P,l),F=g({customClasses:a.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-buttons"]].concat((0,r.Z)(N||[]))),display:"flex",spacing:[6,0,0],ref:e},R),I=i.customClasses,L=(0,o.Z)(i,d),M=g({customClasses:a.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--back"]].concat((0,r.Z)(I||[]))),icon:"arrow-narrow-left",iconPrefix:"gravitysmtp-admin-icon",label:A,size:"size-height-xl",type:"icon-white",onClick:function(){C(),D()}},L),T=Z.customClasses,H=(0,o.Z)(Z,p),G=g({customClasses:a.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--skip"]].concat((0,r.Z)(T||[]))),icon:"arrow-narrow-right",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"trailing",label:B,size:"size-height-xl",type:"white",onClick:function(){j(),E()}},H),U=m.customClasses,J=(0,o.Z)(m,v),W=g({customClasses:a.classnames.apply(void 0,[["gravitysmtp-setup-wizard__screen-nav-button","gravitysmtp-setup-wizard__screen-nav-button--next"]].concat((0,r.Z)(U||[]))),icon:"arrow-narrow-right",iconPrefix:"gravitysmtp-admin-icon",iconPosition:"trailing",label:z,size:"size-height-xl",onClick:function(){j(),E()}},J);return a.React.createElement(u.Z,F,_&&a.React.createElement(s.Z,M),w&&a.React.createElement(s.Z,G),O&&a.React.createElement(s.Z,W))}));e.default=m},65212:function(t,e,n){n.r(e),n.d(e,{AmazonAWSFullLogo:function(){return r.Z},BrevoFullLogo:function(){return i.Z},CustomSMTPFullLogo:function(){return o.Z},GoogleAltLogo:function(){return a.Z},GoogleFullLogo:function(){return u.Z},GravityFormsStackedLogo:function(){return s.Z},GravitySMTPFullLogo:function(){return c.Z},MailFailedBg:function(){return l.Z},MailSuccessBg:function(){return p.Z},MailgunFullLogo:function(){return d.Z},MicrosoftAltLogo:function(){return v.Z},MicrosoftFullLogo:function(){return f.Z},PHPFullLogo:function(){return g.Z},PostmarkFullLogo:function(){return m.Z},SendGridFullLogo:function(){return b.Z},WPMailSMTPFullLogo:function(){return y.Z}});var r=n(53986),i=n(41345),o=n(61219),a=n(94270),u=n(14077),s=n(33811),c=n(52635),l=n(99228),d=n(41285),p=n(71917),v=n(70962),f=n(47571),g=n(36516),m=n(73989),b=n(11215),y=n(17478)},91047:function(t,e,n){n.r(e);var r,i,o,a,u,s=n(15720),c=n(27784),l=n(77424),d=n(375),p=n(63267),v=n.n(p);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,s.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m,b,y=(null===(r=(0,d.iE)(v(),"gravitysmtp_admin_config"))||void 0===r||null===(r=r.components)||void 0===r?void 0:r.setup_wizard)||{},_=(null===(o=((null==y||null===(i=y.data)||void 0===i?void 0:i.import_data)||[]).filter((function(t){return t.activated&&t.initialChecked}))[0])||void 0===o?void 0:o.id)||"",S="",w=g(g({hasDebugError:!1,isAnimatedIn:!1,integrationSetupAction:"skip",setupStatus:"skipped",settingsUpdated:!1,shouldRedirect:(null==y||null===(a=y.data)||void 0===a?void 0:a.should_display)||!1,integrationSettingsFormData:(b={},null==y||null===(m=y.data)||void 0===m||null===(m=m.integrations)||void 0===m||m.forEach((function(t){var e;b[t.id]=(null==t?void 0:t.data)||{},null!==(e=b[t.id])&&void 0!==e&&e.enabled&&(S=t.id)})),b)},(null===(u=(0,d.iE)(v(),"gravitysmtp_admin_config"))||void 0===u||null===(u=u.components)||void 0===u||null===(u=u.setup_wizard)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.defaults)||{}),{},{integration:S,importPlugin:_}),h=(0,l.Ue)(w,(function(t){return{closeDialog:function(){return t((function(){return{isOpen:!1}}))},openDialog:function(){return t((function(){return{isOpen:!0}}))},setActiveStepNext:function(){return t((function(t){return{activeStep:t.activeStep+1}}))},setActiveStepPrevious:function(){return t((function(t){return{activeStep:t.activeStep-1}}))},setActiveStep:function(e){return t((function(){return{activeStep:e}}))},setActiveNavBarStepNext:function(){return t((function(t){return{activeNavBarStep:t.activeNavBarStep+1}}))},setActiveNavBarStepPrevious:function(){return t((function(t){return{activeNavBarStep:t.activeNavBarStep-1}}))},setActiveNavBarStep:function(e){return t((function(){return{activeNavBarStep:e}}))},setHasDebugError:function(e){return t((function(){return{hasDebugError:e}}))},setImportPlugin:function(e){return t((function(){return{importPlugin:e}}))},setIntegration:function(e){return t((function(){return{integration:e}}))},setIsAnimatedIn:function(e){return t((function(){return{isAnimatedIn:e}}))},setIntegrationSetupAction:function(e){return t((function(){return{integrationSetupAction:e}}))},setSetupStatus:function(e){return t((function(){return{setupStatus:e}}))},setSettingsUpdated:function(){return t((function(){return{settingsUpdated:!0}}))},setShouldRedirect:function(e){return t((function(){return{shouldRedirect:e}}))},setInnerDialogOpen:function(e){return t((function(){return{innerDialogOpen:e}}))},setIntegrationSettingsFormData:function(e,n,r){return t((0,c.immer)((function(t){t.integrationSettingsFormData[e]||(t.integrationSettingsFormData[e]={}),t.integrationSettingsFormData[e][n]=r})))}}}));e.default=h},27003:function(t,e,n){var r=n(79801),i=n(15720),o=n(89509),a=n.n(o),u=n(27784),s=n(65489),c=n(98731),l=n(36901),d=n(6493),p=n(375),v=n(77424),f=n(50036);function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var b=function(t,e){return t.map((function(t){var n,r;if(null==t||null===(n=t.props)||void 0===n||!n.name)return t;var i="".concat(e,"_").concat(t.props.name),o=(null==t||null===(r=t.props)||void 0===r?void 0:r.labelAttributes)||{};return m(m({},t),{},{props:m(m({},t.props),{},{labelAttributes:m(m({},o),(0,f.Z)(i))})})}))};e.Z=function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=b(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t.activeIntegrationSettings);if(!["microsoft","google","generic","amazon"].includes(t.activeIntegrationSettings))return e;var n=t.integrationSettingsFormData[t.activeIntegrationSettings],i=e;return["microsoft","google","amazon"].includes(t.activeIntegrationSettings)?i=e.map((function(e){if(!["BrandedButton","BrandedLink","CopyInput","LinkedHelpTextInput"].includes(e.component)||!e.external)return e;var i,o=t.i18n.snackbar_url_copied,f=void 0===o?"":o,g=t.Svgs[e.props.Svg],b=null,y={};switch(e.component){case"BrandedButton":b=s.Z,y=m(m({},e.props),{},{disabled:!(null!=n&&n.client_id&&null!=n&&n.client_secret)||t.savingSettings,onClick:(i=(0,r.Z)(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,t.saveConnectorSettings();case 3:window.location.href="".concat(n.oauth_url,"?client_id=").concat(n.client_id).concat(n.oauth_params);case 4:case"end":return e.stop()}}),e)}))),function(t){return i.apply(this,arguments)}),Svg:u.React.createElement(g,null)});break;case"BrandedLink":b=c.Z,y=m(m({},e.props),{},{href:"wizard"===t.context?e.wizardHref:e.props.href,Svg:u.React.createElement(g,null)});break;case"CopyInput":b=d.Z,y=m(m({},e.props),{},{actionButtonAttributes:m(m({},e.props.actionButtonAttributes),{},{onClick:function(e,n){t.addSnackBarMessage(f),(0,p.BR)(n)}})});break;case"LinkedHelpTextInput":b=d.Z,y=m(m({},e.props),{},{helpTextAttributes:m(m({},e.props.helpTextAttributes),{},{content:u.React.createElement(v.ji,{openingSymbol:"{{",closingSymbol:"}}",text:e.props.helpTextAttributes.content,tokens:e.links.map((function(t){return{component:l.Z,key:t.key,props:t.props}}))})})})}return m(m({},e),{},{component:b,props:y})})):"generic"===t.activeIntegrationSettings&&(i=e.map((function(t){var e;if("Input"!==t.component||!["username","password"].includes(null==t||null===(e=t.props)||void 0===e?void 0:e.name))return t;var r=m(m({},t.props),{},{disabled:!n.auth});return m(m({},t),{},{props:r})}))),i}},62077:function(t,e,n){n.d(e,{Z:function(){return v}});var r,i=n(79801),o=n(89509),a=n.n(o),u=n(49608),s=n.n(u),c=n(63267),l=n.n(c),d=n(84070),p=(null===(r=(0,n(375).iE)(l(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{};function v(){return f.apply(this,arguments)}function f(){return f=(0,i.Z)(a().mark((function t(){var e,n,r,i,o,u,c,l,v,f,g=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=g.length>0&&void 0!==g[0]?g[0]:"",i=g.length>1&&void 0!==g[1]?g[1]:"debug",o=p.data,u=void 0===o?{}:o,c=p.endpoints,v=(null==(l=void 0===c?{}:c)||null===(e=l.log_debug_item)||void 0===e?void 0:e.action)||"",f=(null==l||null===(n=l.log_debug_item)||void 0===n?void 0:n.nonce)||"",null!=u&&u.debug_log_enabled&&v&&f&&r){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,(0,d.v_)({endpoint:s(),body:{action:v,security:f,message:r,priority:i}}).catch((function(t){}));case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}},9208:function(t,e,n){var r=n(56588),i=n(15210);e.Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return function n(o){return Object.entries(o).reduce((function(o,a){var u=(0,i.Z)(a,2),s=u[0],c=u[1];return"object"===(0,r.Z)(c)&&null!==c?o[s]=n(c):t.includes(s)?o[s]=null===c?null:e.repeat(c.length):o[s]=c,o}),Array.isArray(o)?[]:{})}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}},50036:function(t,e,n){var r,i=n(63267),o=n.n(i),a=(null===(r=(0,n(375).iE)(o(),"gravitysmtp_admin_config"))||void 0===r?void 0:r.common)||{};e.Z=function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{iconPrefix:"gravitysmtp-admin-icon",locked:(null==a||null===(t=a.data)||void 0===t||null===(t=t.locked_settings)||void 0===t?void 0:t.includes(n))||r,lockedMessage:i||(null==a||null===(e=a.i18n)||void 0===e?void 0:e.setting_locked)||""}}}}]);